{"version":3,"file":"index.es.js","sources":["../src/core/contexts/SnackbarContext.tsx","../src/core/contexts/FireCMSContext.tsx","../src/core/contexts/BreacrumbsContext.tsx","../src/core/contexts/ModeState.tsx","../src/core/util/navigation_utils.ts","../src/core/util/navigation_from_path.ts","../src/core/internal/useBuildSideEntityController.tsx","../src/models/entities.ts","../src/core/util/objects.ts","../src/core/util/property_builder.ts","../src/core/utils.ts","../src/core/internal/useBuildNavigationContext.tsx","../src/core/internal/useBuildAuthController.tsx","../src/core/util/storage.tsx","../src/core/FireCMS.tsx","../src/core/components/ErrorView.tsx","../src/preview/components/AsyncPreviewComponent.tsx","../src/core/internal/ErrorBoundary.tsx","../src/core/util/hash.ts","../src/core/util/chip_utils.ts","../src/core/util/enums.ts","../src/preview/components/CustomChip.tsx","../src/preview/components/StringPreview.tsx","../src/preview/components/ArrayOfStringsPreview.tsx","../src/preview/components/ArrayEnumPreview.tsx","../src/preview/components/ArrayPropertyEnumPreview.tsx","../src/preview/components/BooleanPreview.tsx","../src/preview/components/Markdown.tsx","../src/preview/components/EmptyValue.tsx","../src/preview/util.ts","../src/preview/components/ImagePreview.tsx","../src/preview/components/ArrayOfMapsPreview.tsx","../src/preview/components/NumberPreview.tsx","../src/core/util/dates.ts","../src/hooks/useFireCMSContext.tsx","../src/hooks/data/useDataSource.tsx","../src/hooks/data/useCollectionFetch.tsx","../src/hooks/data/useEntityFetch.tsx","../src/hooks/data/save.ts","../src/hooks/data/delete.ts","../src/form/useClearRestoreValue.tsx","../src/hooks/useNavigation.tsx","../src/hooks/useResolvedNavigationFrom.tsx","../src/hooks/useStorageSource.tsx","../src/hooks/useAuthController.tsx","../src/hooks/useSideEntityController.tsx","../src/hooks/useSnackbarController.tsx","../src/hooks/useModeState.tsx","../src/hooks/useClipboard.tsx","../src/preview/components/TimestampPreview.tsx","../src/preview/components/UrlComponentPreview.tsx","../src/preview/components/SkeletonComponent.tsx","../src/preview/components/StorageThumbnail.tsx","../src/preview/components/ArrayOfStorageComponentsPreview.tsx","../src/preview/components/ReferencePreview.tsx","../src/preview/components/ArrayOfReferencesPreview.tsx","../src/preview/components/MapPreview.tsx","../src/preview/components/ArrayPreview.tsx","../src/preview/components/ArrayOneOfPreview.tsx","../src/preview/PreviewComponent.tsx","../src/core/util/property_icons.tsx","../src/core/components/EntityPreview.tsx","../src/core/components/CollectionTable/internal/common.tsx","../src/core/components/CollectionTable/internal/SearchBar.tsx","../src/core/components/CollectionTable/internal/CollectionTableToolbar.tsx","../src/core/components/CollectionTable/internal/CollectionRowActions.tsx","../src/core/components/Table/common.tsx","../src/core/components/Table/TableCell.tsx","../src/form/validation.ts","../src/core/components/CollectionTable/internal/fields/TableInput.tsx","../src/core/components/CollectionTable/internal/fields/TableSelect.tsx","../src/core/components/CollectionTable/internal/fields/TableNumberInput.tsx","../src/core/components/CollectionTable/internal/fields/TableSwitch.tsx","../src/core/components/CollectionTable/internal/fields/TableDateField.tsx","../src/core/components/CollectionTable/internal/fields/TableReferenceField.tsx","../src/core/components/CollectionTable/internal/fields/TableStorageUpload.tsx","../src/core/components/CollectionTable/internal/PropertyTableCell.tsx","../src/core/components/CollectionTable/internal/popup_field/useDraggable.tsx","../src/core/components/CollectionTable/internal/popup_field/useWindowSize.tsx","../src/form/components/ArrayContainer.tsx","../src/form/components/FieldDescription.tsx","../src/form/components/LabelWithIcon.tsx","../src/form/fields/Select.tsx","../src/form/fields/ArrayEnumSelect.tsx","../src/form/fields/StorageUploadField.tsx","../src/form/fields/TextField.tsx","../src/form/fields/SwitchField.tsx","../src/form/fields/DateTimeField.tsx","../src/form/fields/ReferenceField.tsx","../src/form/fields/ArrayDefaultField.tsx","../src/form/fields/ArrayOneOfField.tsx","../src/form/fields/ReadOnlyField.tsx","../src/form/fields/MarkdownField.tsx","../src/form/fields/ArrayOfReferencesField.tsx","../src/form/form_factory.tsx","../src/form/fields/MapField.tsx","../src/form/components/ErrorFocus.tsx","../src/form/components/CustomIdField.tsx","../src/form/EntityForm.tsx","../src/core/components/CollectionTable/internal/popup_field/ElementResizeListener.tsx","../src/core/components/CollectionTable/internal/popup_field/PopupFormField.tsx","../src/core/components/CollectionTable/column_builder.tsx","../src/core/components/CollectionTable/CollectionTable.tsx","../src/core/components/ReferenceDialog.tsx","../src/core/components/CollectionTable/internal/DeleteEntityDialog.tsx","../src/core/util/csv.ts","../src/core/components/CollectionTable/internal/ExportButton.tsx","../src/core/util/permissions.ts","../src/core/components/EntityCollectionView.tsx","../src/core/components/CircularProgressCenter.tsx","../src/core/components/FireCMSHomePage.tsx","../src/core/components/Table/styles.tsx","../src/core/components/Table/filters/StringNumberFilterField.tsx","../src/core/components/Table/filters/BooleanFilterField.tsx","../src/core/components/Table/filters/DateTimeFilterfield.tsx","../src/core/components/Table/TableHeader.tsx","../src/core/components/Table/Table.tsx","../src/hooks/useBreadcrumbsContext.tsx","../src/core/components/NotFoundPage.tsx","../src/core/NavigationRoutes.tsx","../src/core/components/FireCMSLogo.tsx","../src/core/Drawer.tsx","../src/core/internal/FireCMSAppBar.tsx","../src/core/Scaffold.tsx","../src/core/internal/SlideFadeTransition.tsx","../src/core/internal/SideDialogDrawer.tsx","../src/core/internal/common.tsx","../src/core/internal/EntityView.tsx","../src/core/internal/useUnsavedChangesDialog.tsx","../src/core/SideEntityDialogs.tsx","../src/core/theme.ts","../src/core/builders.ts","../src/firebase_app/hooks/useFirebaseAuthDelegate.ts","../src/firebase_app/hooks/useFirestoreDataSource.ts","../src/firebase_app/hooks/useFirebaseStorageSource.ts","../src/firebase_app/hooks/useInitialiseFirebase.ts","../src/firebase_app/components/social_icons.tsx","../src/firebase_app/components/FirebaseLoginView.tsx","../src/firebase_app/FirebaseCMSApp.tsx","../src/firebase_app/models/text_search.ts"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Alert, Snackbar } from \"@mui/material\";\nimport { SnackbarController, SnackbarMessageType } from \"../../hooks\";\n\nconst DEFAULT_STATE = {\n    isOpen: false,\n    close: () => {\n    },\n    open: (props: {\n        type: SnackbarMessageType;\n        message: string;\n    }) => {\n    }\n};\n\nexport const SnackbarContext = React.createContext<SnackbarController>(DEFAULT_STATE);\n\nexport const SnackbarProvider: React.FC = ({ children }) => {\n\n    const [isOpen, setIsOpen] = useState(false);\n    const [title, setTitle] = useState<string | undefined>(undefined);\n    const [message, setMessage] = useState<string | undefined>(undefined);\n    const [type, setType] = useState<SnackbarMessageType | undefined>(undefined);\n\n    const close = () => {\n        setIsOpen(false);\n        setTitle(undefined);\n        setMessage(undefined);\n        setType(undefined);\n    };\n\n    const open = (props: {\n        type: SnackbarMessageType;\n        title?: string;\n        message: string;\n    }) => {\n        const { type, message, title } = props;\n        setType(type);\n        setMessage(message);\n        setTitle(title);\n        setIsOpen(true);\n    };\n\n    return (\n        <SnackbarContext.Provider\n            value={{\n                isOpen,\n                close,\n                open\n            }}\n        >\n\n            {children}\n\n            <Snackbar open={isOpen}\n                      autoHideDuration={3000}\n                      onClose={(_) => close()}>\n                <Alert elevation={1}\n                       variant=\"filled\"\n                       onClose={(_) => close()}\n                       severity={type}>\n\n                    {title && <div>{title}</div>}\n                    {message && <div>{message}</div>}\n\n                </Alert>\n            </Snackbar>\n\n        </SnackbarContext.Provider>\n    );\n};\n","import React from \"react\";\nimport { FireCMSContext } from \"../../models\";\n\n\nexport const FireCMSContextInstance = React.createContext<FireCMSContext>({\n    sideEntityController: {} as any,\n    navigationContext: {} as any,\n    dataSource: {} as any,\n    storageSource: {} as any,\n    authController: {} as any,\n    snackbarController: {} as any\n});\n\n\n/**\n *\n * @category Core\n */\nexport const FireCMSContextProvider: React.FC<React.PropsWithChildren<FireCMSContext>> = ({\n                                                                                              children,\n                                                                                              ...context\n                                                                                          }) => {\n\n    return (\n        <FireCMSContextInstance.Provider\n            value={context}\n        >\n            {children}\n        </FireCMSContextInstance.Provider>\n    );\n};\n","import React, { useState } from \"react\";\nimport {\n    BreadcrumbEntry,\n    BreadcrumbsController\n} from \"../../hooks/useBreadcrumbsContext\";\n\nconst DEFAULT_BREADCRUMBS_CONTROLLER = {\n    breadcrumbs: [],\n    set: (props: {\n        breadcrumbs: BreadcrumbEntry[];\n    }) => {\n    }\n};\n\n\nexport const BreadcrumbContext = React.createContext<BreadcrumbsController>(DEFAULT_BREADCRUMBS_CONTROLLER);\n\n\ninterface BreadcrumbsProviderProps {\n    children: React.ReactNode;\n}\n\nexport const BreadcrumbsProvider: React.FC<BreadcrumbsProviderProps> = ({ children }) => {\n\n    const [breadcrumbs, setBreadcrumbs] = useState<BreadcrumbEntry[]>([]);\n\n    const set = (props: {\n        breadcrumbs: BreadcrumbEntry[];\n    }) => {\n        setBreadcrumbs(props.breadcrumbs);\n    };\n\n    return (\n        <BreadcrumbContext.Provider\n            value={{\n                breadcrumbs,\n                set\n            }}\n        >\n            {children}\n        </BreadcrumbContext.Provider>\n    );\n};\n","import { useMediaQuery } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { ModeState } from \"../../hooks\";\n\nconst DEFAULT_MODE_STATE: ModeState = {\n    mode: \"light\",\n    setMode: (mode: \"light\" | \"dark\") => {\n    },\n    toggleMode: () => {\n    }\n};\n\n\nexport const ModeStateContext = React.createContext<ModeState>(DEFAULT_MODE_STATE);\n\n\ninterface ModeProviderProps {\n    children: React.ReactNode;\n}\n\nexport const ModeProvider: React.FC<ModeProviderProps> = ({ children }) => {\n\n    const prefersDarkModeQuery = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const prefersDarkModeStorage: boolean | null = localStorage.getItem(\"prefers-dark-mode\") != null ? localStorage.getItem(\"prefers-dark-mode\") === \"true\" : null;\n    const prefersDarkMode = prefersDarkModeStorage ?? prefersDarkModeQuery;\n    const [mode, setMode] = useState<\"light\" | \"dark\">(prefersDarkMode ? \"dark\" : \"light\");\n\n    useEffect(() => {\n        setMode(prefersDarkMode ? \"dark\" : \"light\");\n    }, [prefersDarkMode]);\n\n    const toggleMode = () => {\n        if (mode === \"light\") {\n            if (!prefersDarkModeQuery)\n                localStorage.setItem(\"prefers-dark-mode\", \"true\");\n            else\n                localStorage.removeItem(\"prefers-dark-mode\");\n            setMode(\"dark\");\n        } else {\n            if (prefersDarkModeQuery)\n                localStorage.setItem(\"prefers-dark-mode\", \"false\");\n            else\n                localStorage.removeItem(\"prefers-dark-mode\");\n            setMode(\"light\");\n        }\n    };\n\n    return (\n        <ModeStateContext.Provider\n            value={{\n                mode,\n                setMode,\n                toggleMode\n            }}\n        >\n            {children}\n        </ModeStateContext.Provider>\n    );\n};\n","import { EntityCollection, NavigationContext } from \"../../models\";\n\nexport function removeInitialAndTrailingSlashes(s: string): string {\n    return removeInitialSlash(removeTrailingSlash(s));\n}\n\nexport function removeInitialSlash(s: string) {\n    if (s.startsWith(\"/\"))\n        return s.slice(1);\n    else return s;\n}\n\nexport function removeTrailingSlash(s: string) {\n    if (s.endsWith(\"/\"))\n        return s.slice(0, -1);\n    else return s;\n}\n\n\nexport function addInitialSlash(s: string) {\n    if (s.startsWith(\"/\"))\n        return s;\n    else return `/${s}`;\n}\n\nexport function getLastSegment(path: string) {\n    const cleanPath = removeInitialAndTrailingSlashes(path);\n    if (cleanPath.includes(\"/\")) {\n        const segments = cleanPath.split(\"/\");\n        return segments[segments.length - 1];\n    }\n    return cleanPath;\n}\n\n\n/**\n * Find the corresponding view at any depth for a given path.\n * @param path\n * @param collections\n */\nexport function getCollectionByPath<M>(path: string, collections?: EntityCollection[]): EntityCollection<M> | undefined {\n\n    if (!collections)\n        return undefined;\n\n    const subpaths = removeInitialAndTrailingSlashes(path).split(\"/\");\n    if (subpaths.length % 2 === 0) {\n        throw Error(`Collection paths must have an odd number of segments: ${path}`);\n    }\n\n    return getCollectionFromCollectionsInternal(removeInitialAndTrailingSlashes(path), collections);\n\n}\n\nfunction getCollectionFromCollectionsInternal<M extends { [Key: string]: any }>(path: string, collectionViews: EntityCollection[]): EntityCollection | undefined {\n\n    const subpaths = removeInitialAndTrailingSlashes(path).split(\"/\");\n    const subpathCombinations = getCollectionPathsCombinations(subpaths);\n\n    let result: EntityCollection | undefined;\n    for (let i = 0; i < subpathCombinations.length; i++) {\n        const subpathCombination = subpathCombinations[i];\n        const navigationEntry = collectionViews && collectionViews.find((entry) => entry.path === subpathCombination);\n\n        if (navigationEntry) {\n\n            if (subpathCombination === path) {\n                result = navigationEntry;\n            } else if (navigationEntry.subcollections) {\n                const newPath = path.replace(subpathCombination, \"\").split(\"/\").slice(2).join(\"/\");\n                if (newPath.length > 0)\n                    result = getCollectionFromCollectionsInternal(newPath, navigationEntry.subcollections);\n            }\n        }\n        if (result) break;\n    }\n    return result;\n}\n\n/**\n * Get the subcollection combinations from a path:\n * \"sites/es/locales\" => [\"sites/es/locales\", \"sites\"]\n * @param subpaths\n */\nexport function getCollectionPathsCombinations(subpaths: string[]): string[] {\n    const entries = subpaths.length > 0 && subpaths.length % 2 === 0 ? subpaths.splice(0, subpaths.length - 1) : subpaths;\n\n    const length = entries.length;\n    const result: string[] = [];\n    for (let i = length; i > 0; i = i - 2) {\n        result.push(entries.slice(0, i).join(\"/\"));\n    }\n    return result;\n\n}\n\nexport interface TopNavigationEntry {\n    url: string;\n    name: string;\n    description?: string;\n    group?: string;\n}\n\nexport type TopNavigationResult = {\n    navigationEntries: TopNavigationEntry[],\n    groups: string[]\n};\n\nexport function computeTopNavigation(\n    navigationContext: NavigationContext,\n    includeHiddenViews: boolean\n): TopNavigationResult {\n\n    const navigation = navigationContext.navigation;\n    if (!navigation)\n        throw Error(\"You can only use `computeTopNavigation` with an initialised navigationContext\");\n\n    const navigationEntries: TopNavigationEntry[] = [\n        ...navigation.collections.map(collection => ({\n            url: navigationContext.buildUrlCollectionPath(collection.path),\n            name: collection.name,\n            description: collection.description,\n            group: collection.group\n        })),\n        ...(navigation.views ?? []).map(view =>\n            includeHiddenViews || !view.hideFromNavigation\n                ? ({\n                    url: navigationContext.buildCMSUrlPath(Array.isArray(view.path) ? view.path[0] : view.path),\n                    name: view.name,\n                    description: view.description,\n                    group: view.group\n                })\n                : undefined)\n            .filter((view) => !!view) as TopNavigationEntry[]\n    ];\n\n    const groups: string[] = Array.from(new Set(\n        Object.values(navigationEntries).map(e => e.group).filter(Boolean) as string[]\n    ).values());\n\n    return { navigationEntries, groups };\n}\n","import { EntityCollection, EntityCustomView } from \"../../models\";\nimport {\n    getCollectionPathsCombinations,\n    removeInitialAndTrailingSlashes\n} from \"./navigation_utils\";\n\nexport type NavigationViewInternal<M> =\n    | NavigationViewEntityInternal<M>\n    | NavigationViewCollectionInternal<M>\n    | NavigationViewEntityCustomInternal<M>;\n\ninterface NavigationViewEntityInternal<M> {\n    type: \"entity\";\n    entityId: string;\n    path: string;\n    parentCollection: EntityCollection<M>;\n}\n\ninterface NavigationViewCollectionInternal<M> {\n    type: \"collection\";\n    path: string;\n    collection: EntityCollection<M>;\n}\n\ninterface NavigationViewEntityCustomInternal<M> {\n    type: \"custom_view\";\n    path: string;\n    view: EntityCustomView<M>;\n}\n\nexport function getNavigationEntriesFromPathInternal<M extends { [Key: string]: any }>(props: {\n    path: string,\n    collections: EntityCollection[],\n    customViews?: EntityCustomView<M>[],\n    currentFullPath?: string\n}): NavigationViewInternal<M> [] {\n\n    const {\n        path,\n        collections,\n        currentFullPath\n    } = props;\n\n    const subpaths = removeInitialAndTrailingSlashes(path).split(\"/\");\n    const subpathCombinations = getCollectionPathsCombinations(subpaths);\n\n    const result: NavigationViewInternal<M> [] = [];\n    for (let i = 0; i < subpathCombinations.length; i++) {\n        const subpathCombination = subpathCombinations[i];\n\n        const collection = collections && collections.find((entry) => entry.path === subpathCombination);\n\n        if (collection) {\n            const collectionPath = currentFullPath && currentFullPath.length > 0\n                ? (currentFullPath + \"/\" + collection.path)\n                : collection.path;\n\n            result.push({\n                type: \"collection\",\n                path: collectionPath,\n                collection\n            });\n            const restOfThePath = removeInitialAndTrailingSlashes(removeInitialAndTrailingSlashes(path).replace(subpathCombination, \"\"));\n            const nextSegments = restOfThePath.length > 0 ? restOfThePath.split(\"/\") : [];\n            if (nextSegments.length > 0) {\n                const entityId = nextSegments[0];\n                const fullPath = collectionPath + \"/\" + entityId;\n                result.push({\n                    type: \"entity\",\n                    entityId: entityId,\n                    path: collectionPath,\n                    parentCollection: collection\n                });\n                if (nextSegments.length > 1) {\n                    const newPath = nextSegments.slice(1).join(\"/\");\n                    const customViews = collection.schema.views;\n                    const customView = customViews && customViews.find((entry) => entry.path === newPath);\n                    if (customView) {\n                        const path = currentFullPath && currentFullPath.length > 0\n                            ? (currentFullPath + \"/\" + customView.path)\n                            : customView.path;\n                        result.push({\n                            type: \"custom_view\",\n                            path: path,\n                            view: customView\n                        });\n                    } else if (collection.subcollections) {\n                        result.push(...getNavigationEntriesFromPathInternal({\n                            path: newPath,\n                            customViews: customViews,\n                            collections: collection.subcollections,\n                            currentFullPath: fullPath\n                        }));\n                    }\n                }\n            }\n            break;\n        }\n\n    }\n    return result;\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n    EntityCollection,\n    NavigationContext,\n    SideEntityController,\n    SideEntityPanelProps\n} from \"../../models\";\nimport {\n    getNavigationEntriesFromPathInternal,\n    NavigationViewInternal\n} from \"../util/navigation_from_path\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { removeInitialAndTrailingSlashes } from \"../util/navigation_utils\";\n\nconst NEW_URL_HASH = \"new\";\n\nexport const useBuildSideEntityController = (navigationContext: NavigationContext): SideEntityController => {\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const initialised = useRef<boolean>(false);\n    const [sidePanels, setSidePanels] = useState<SideEntityPanelProps[]>([]);\n\n    const collections = navigationContext.navigation?.collections;\n\n    const state = location.state as any;\n    const baseLocation = state && state.base_location ? state.base_location : location;\n\n    const updatePanels = useCallback((newPanels: SideEntityPanelProps[]) => {\n        setSidePanels(newPanels);\n        navigationContext.removeAllOverridesExcept(newPanels);\n    }, []);\n\n    useEffect(() => {\n        if (navigationContext.initialised) {\n            if (location?.state && state.panels) {\n                const statePanel = state.panels as SideEntityPanelProps[];\n                updatePanels(statePanel);\n            } else {\n                updatePanels([]);\n            }\n        }\n    }, [location?.state, navigationContext.initialised]);\n\n    // only on initialisation\n    useEffect(() => {\n        if (collections && !initialised.current) {\n            if (navigationContext.isUrlCollectionPath(location.pathname)) {\n                const newFlag = location.hash === `#${NEW_URL_HASH}`;\n                const entityOrCollectionPath = navigationContext.urlPathToDataPath(location.pathname);\n                const sidePanels = buildSidePanelsFromUrl(entityOrCollectionPath, collections, newFlag);\n                updatePanels(sidePanels);\n            }\n            initialised.current = true;\n        }\n    }, [location, collections, sidePanels]);\n\n    const close = useCallback(() => {\n\n        if (sidePanels.length === 0)\n            return;\n\n        const lastSidePanel = sidePanels[sidePanels.length - 1];\n        const locationPanels = location?.state && state.panels;\n        if (locationPanels && locationPanels.length > 0) {\n            const updatedPanels = [...locationPanels.slice(0, -1)];\n            // setSidePanels(updatedPanels);\n            navigate(-1);\n        } else {\n            const newPath = navigationContext.buildUrlCollectionPath(lastSidePanel.path);\n            // setSidePanels([]);\n            navigate(newPath, { replace: true });\n        }\n\n    }, [sidePanels, location]);\n\n    const open = useCallback(({\n                      path,\n                      entityId,\n                      selectedSubpath,\n                      copy,\n                      width,\n                      ...schemaProps\n                  }: SideEntityPanelProps) => {\n\n        if (copy && !entityId) {\n            throw Error(\"If you want to copy an entity you need to provide an entityId\");\n        }\n\n        if (schemaProps &&\n            (schemaProps.schema !== undefined ||\n                schemaProps.permissions !== undefined ||\n                schemaProps.subcollections !== undefined)) {\n            const permissions = schemaProps.permissions;\n            const schemaOrResolver = schemaProps.schema;\n            const subcollections = schemaProps.subcollections;\n            const overrideSchemaRegistry = schemaProps.overrideSchemaRegistry;\n            navigationContext.setOverride(\n                {\n                    path,\n                    entityId,\n                    schemaConfig: {\n                        permissions,\n                        schema: typeof schemaOrResolver !== \"function\" ? schemaOrResolver : undefined,\n                        schemaResolver: typeof schemaOrResolver === \"function\" ? schemaOrResolver : undefined,\n                        subcollections,\n                        callbacks: schemaProps.callbacks\n                    },\n                    overrideSchemaRegistry\n                }\n            );\n        }\n\n        const cleanPath = removeInitialAndTrailingSlashes(path);\n        const newPath = entityId\n            ? navigationContext.buildUrlCollectionPath(`${cleanPath}/${entityId}/${selectedSubpath || \"\"}`)\n            : navigationContext.buildUrlCollectionPath(`${cleanPath}#${NEW_URL_HASH}`);\n\n        const lastSidePanel = sidePanels.length > 0 ? sidePanels[sidePanels.length - 1] : undefined;\n\n        // If the side dialog is open currently, we update it\n        if (entityId &&\n            lastSidePanel &&\n            lastSidePanel.path === path &&\n            lastSidePanel?.entityId === entityId) {\n\n            const updatedPanel: SideEntityPanelProps = {\n                ...lastSidePanel,\n                selectedSubpath\n            };\n            const updatedPanels = [...sidePanels.slice(0, -1), updatedPanel];\n            updatePanels(updatedPanels);\n            navigate(\n                navigationContext.buildUrlCollectionPath(`${cleanPath}/${entityId}/${selectedSubpath || \"\"}`),\n                {\n                    replace: true,\n                    state: {\n                        base_location: baseLocation,\n                        panels: updatedPanels\n                    }\n                }\n            );\n\n        } else {\n            const newPanel: SideEntityPanelProps = {\n                path,\n                entityId,\n                copy: copy !== undefined && copy,\n                width,\n                selectedSubpath\n            };\n            const updatedPanels = [...sidePanels, newPanel];\n            updatePanels(updatedPanels);\n            navigate(\n                newPath,\n                {\n                    state: {\n                        base_location: baseLocation,\n                        panels: updatedPanels\n                    }\n                }\n            );\n        }\n    }, [sidePanels, location]);\n\n    return {\n        sidePanels,\n        close,\n        open\n    };\n};\n\nfunction buildSidePanelsFromUrl(path: string, collections: EntityCollection[], newFlag: boolean): SideEntityPanelProps[] {\n\n    const navigationViewsForPath: NavigationViewInternal<any>[] = getNavigationEntriesFromPathInternal({\n        path,\n        collections\n    });\n\n    const sidePanels: SideEntityPanelProps[] = [];\n    let lastCollectionPath = \"\";\n    for (let i = 0; i < navigationViewsForPath.length; i++) {\n        const navigationEntry = navigationViewsForPath[i];\n\n        if (navigationEntry.type === \"collection\") {\n            lastCollectionPath = navigationEntry.path;\n        }\n\n        if (i > 0) { // the first collection is handled by the main navigation\n            const previousEntry = navigationViewsForPath[i - 1];\n            if (navigationEntry.type === \"entity\") {\n                if (previousEntry.type === \"collection\") {\n                    sidePanels.push({\n                            path: navigationEntry.path,\n                            entityId: navigationEntry.entityId,\n                            copy: false\n                        }\n                    );\n                }\n            } else if (navigationEntry.type === \"custom_view\") {\n                if (previousEntry.type === \"entity\") {\n                    const lastSidePanel: SideEntityPanelProps = sidePanels[sidePanels.length - 1];\n                    if (lastSidePanel)\n                        lastSidePanel.selectedSubpath = navigationEntry.view.path;\n                }\n            } else if (navigationEntry.type === \"collection\") {\n                if (previousEntry.type === \"entity\") {\n                    const lastSidePanel: SideEntityPanelProps = sidePanels[sidePanels.length - 1];\n                    if (lastSidePanel)\n                        lastSidePanel.selectedSubpath = navigationEntry.collection.path;\n                }\n            }\n        }\n\n    }\n\n    if (newFlag) {\n        sidePanels.push({\n            path: lastCollectionPath,\n            copy: false\n        });\n    }\n\n    return sidePanels;\n}\n","import { EnumValues, Properties, PropertiesOrBuilder } from \"./properties\";\n\n/**\n * Specification for defining an entity\n * @category Models\n */\nexport interface EntitySchema<M extends { [Key: string]: any } = any> {\n\n    /**\n     * Singular name of the entity as displayed in an Add button . E.g. Product\n     */\n    name: string;\n\n    /**\n     * Description of this entity\n     */\n    description?: string;\n\n    /**\n     * If this prop is not set, the ID of the document will be created by the\n     * datasource.\n     *\n     * You can set the value to 'true' to force the users to choose the ID.\n     *\n     * You can set the value to 'optional' to allow the users to choose the ID,\n     * If the ID is empty, an automatic ID will be set.\n     *\n     * You can also pass a set of values (as an {@link EnumValues} object) to\n     * allow users to pick from only those.\n     */\n    customId?: boolean | \"optional\" | EnumValues;\n\n    /**\n     * Set of properties that compose an entity\n     */\n    properties: PropertiesOrBuilder<M>;\n\n    /**\n     * When creating a new entity, set some values as already initialized\n     */\n    defaultValues?: any;\n\n    /**\n     * Array of builders for rendering additional panels in an entity view.\n     * Useful if you need to render custom views\n     */\n    views?: EntityCustomView<M>[];\n\n}\n\n/**\n * @category Models\n */\nexport type EntitySchemaResolverProps<M = any> = {\n    entityId?: string | undefined,\n    values?: Partial<EntityValues<M>>,\n    previousValues?: Partial<EntityValues<M>>,\n};\n\n/**\n * Use to resolve the schema properties for specific path, entity id or values.\n * @category Models\n */\nexport type EntitySchemaResolver<M = any> = ({\n                                                 entityId,\n                                                 values,\n                                                 previousValues\n                                             }: EntitySchemaResolverProps<M>) => ResolvedEntitySchema<M>;\n\n/**\n * This is the same entity schema you define, only all the property builders\n * are resolved to regular `Property` objects.\n * @category Models\n */\nexport type ResolvedEntitySchema<M> =\n    Omit<EntitySchema<M>, \"properties\"> &\n    {\n        properties: Properties<M>,\n        originalSchema: EntitySchema<M>\n    }\n\n/**\n * New or existing status\n * @category Models\n */\nexport type EntityStatus = \"new\" | \"existing\" | \"copy\";\n\n/**\n * Representation of an entity fetched from the datasource\n * @category Models\n */\nexport interface Entity<M extends { [Key: string]: any }> {\n\n    /**\n     * Id of the entity\n     */\n    id: string;\n\n    /**\n     * A string representing the path of the referenced document (relative\n     * to the root of the database).\n     */\n    path: string;\n\n    /**\n     * Current values\n     */\n    values: EntityValues<M>;\n}\n\n/**\n * This type represents a record of key value pairs as described in an\n * entity schema.\n * @category Models\n */\nexport type EntityValues<M> = M;\n\n/**\n * Class used to create a reference to an entity in a different path\n */\nexport class EntityReference {\n    /**\n     * Id of the entity\n     */\n    readonly id: string;\n    /**\n     * A string representing the path of the referenced document (relative\n     * to the root of the database).\n     */\n    readonly path: string;\n\n    constructor(id: string, path: string) {\n        this.id = id;\n        this.path = path;\n    }\n\n    get pathWithId() {\n        return `${this.path}/${this.id}`;\n    }\n}\n\nexport class GeoPoint {\n\n    /**\n     * The latitude of this GeoPoint instance.\n     */\n    readonly latitude: number;\n    /**\n     * The longitude of this GeoPoint instance.\n     */\n    readonly longitude: number;\n\n    constructor(latitude: number, longitude: number) {\n        this.latitude = latitude;\n        this.longitude = longitude;\n    }\n}\n\n/**\n * @ignore\n */\nexport type InferSchemaType<S extends EntitySchema> = S extends EntitySchema<infer M> ? M : never;\n\n/**\n * You can use this builder to render a custom panel in the entity detail view.\n * It gets rendered as a tab.\n * @category Models\n */\nexport type EntityCustomView<M = any> =\n    {\n        path: string,\n        name: string,\n        hidden?: boolean,\n        builder: (extraActionsParams: EntityCustomViewParams<M>) => React.ReactNode\n    }\n\n/**\n * Parameters passed to the builder in charge of rendering a custom panel for\n * an entity view.\n * @category Models\n */\nexport interface EntityCustomViewParams<M extends { [Key: string]: any } = any> {\n\n    /**\n     * Schema used by this entity\n     */\n    schema: ResolvedEntitySchema<M>;\n\n    /**\n     * Entity that this view refers to. It can be undefined if the entity is new\n     */\n    entity?: Entity<M>;\n\n    /**\n     * Modified values in the form that have not been saved yet.\n     * If the entity is not new and the values are not modified, these values\n     * are the same as in `entity`\n     */\n    modifiedValues?: EntityValues<M>;\n}\n\n","import hash from \"object-hash\";\nimport { GeoPoint } from \"../../models\";\n\nexport const pick: <T>(obj: T, ...args: any[]) => T = (obj: any, ...args: any[]) => ({\n    ...args.reduce((res, key) => ({ ...res, [key]: obj[key] }), {})\n});\n\nexport function isObject(item: any) {\n    return (item && typeof item === \"object\" && !Array.isArray(item));\n}\n\nexport function mergeDeep<T>(target: T, source: any): T {\n    const output:T = Object.assign({}, target);\n    if (isObject(target) && isObject(source)) {\n        Object.keys(source).forEach(key => {\n            if (isObject(source[key])) {\n                if (!(key in target))\n                    Object.assign(output, { [key]: source[key] });\n                else\n                    (output as any)[key] = mergeDeep((target as any)[key], source[key]);\n            } else {\n                Object.assign(output, { [key]: source[key] });\n            }\n        });\n    }\n    return output;\n}\n\nexport function getValueInPath(o: object | undefined, path: string): any {\n    if (typeof o === \"object\") {\n        if (path in o) {\n            return (o as any)[path];\n        }\n        if (path.includes(\".\")) {\n            const pathSegments = path.split(\".\");\n            return getValueInPath((o as any)[pathSegments[0]], pathSegments.slice(1).join(\".\"))\n        }\n    }\n    return undefined;\n}\n\nexport function getHashValue<T>(v: T) {\n    if (!v) return null;\n    if (typeof v === \"object\") {\n        if (\"id\" in v)\n            return (v as any).id;\n        else if (v instanceof Date)\n            return v.toLocaleString();\n        else if (v instanceof GeoPoint)\n            return hash(v);\n    }\n    return hash(v, { ignoreUnknown: true });\n}\n","import {\n    CMSType,\n    EntityValues,\n    Property,\n    PropertyOrBuilder\n} from \"../../models\";\nimport { mergeDeep } from \"./objects\";\n\n\nexport function buildPropertyFrom<T extends CMSType, M extends { [Key: string]: any }>\n({\n     propertyOrBuilder,\n     values,\n     previousValues,\n     path,\n     entityId,\n     propertyOverride\n }: {\n     propertyOrBuilder: PropertyOrBuilder<T, M>,\n     values: Partial<EntityValues<M>>,\n     previousValues?: Partial<EntityValues<M>>,\n     path: string,\n     entityId?: string,\n     propertyOverride?: Partial<Property<T>>\n }\n): Property<T> | null {\n    let result: any;\n    if (typeof propertyOrBuilder === \"function\") {\n        result = propertyOrBuilder({ values, previousValues, entityId, path });\n        if (!result) {\n            console.debug(\"Property builder not returning `Property` so it is not rendered\", path, entityId, propertyOrBuilder);\n            return null;\n        }\n    } else {\n        result = propertyOrBuilder;\n    }\n    if (propertyOverride)\n        result = mergeDeep(result, propertyOverride);\n\n    return result;\n}\n","import {\n    Entity,\n    EntityReference,\n    EntitySchema,\n    EntitySchemaResolver,\n    EntityStatus,\n    EntityValues,\n    GeoPoint,\n    Properties,\n    PropertiesOrBuilder,\n    Property,\n    ResolvedEntitySchema\n} from \"../models\";\nimport { buildPropertyFrom } from \"./util/property_builder\";\n\nexport function isReadOnly(property: Property<any>): boolean {\n    if (property.readOnly)\n        return true;\n    if (property.dataType === \"timestamp\") {\n        if (property.autoValue)\n            return true;\n    }\n    if (property.dataType === \"reference\") {\n        return !property.path;\n    }\n    return false;\n}\n\nexport function isHidden(property: Property<any>): boolean {\n    return typeof property.disabled === \"object\" && Boolean(property.disabled.hidden);\n}\n\n\n/**\n *\n * @param schema\n * @param values\n * @param path\n * @param entityId\n * @ignore\n */\nexport function computeSchema<M extends { [Key: string]: any }>(\n    { schemaOrResolver, path, entityId, values, previousValues }: {\n        schemaOrResolver: EntitySchema<M> | ResolvedEntitySchema<M> | EntitySchemaResolver<M>,\n        path: string,\n        entityId?: string | undefined,\n        values?: Partial<EntityValues<M>>,\n        previousValues?: Partial<EntityValues<M>>,\n    }): ResolvedEntitySchema<M> {\n\n    if (typeof schemaOrResolver === \"function\") {\n        return schemaOrResolver({ entityId, values, previousValues });\n    } else {\n\n        const properties = computeProperties({\n            propertiesOrBuilder: schemaOrResolver.properties,\n            path,\n            entityId,\n            values,\n            previousValues\n        });\n\n        return {\n            ...schemaOrResolver,\n            properties,\n            originalSchema: schemaOrResolver\n        };\n    }\n}\n\n/**\n *\n * @param propertiesOrBuilder\n * @param values\n * @param previousValues\n * @param path\n * @param entityId\n * @ignore\n */\nexport function computeProperties<M extends { [Key: string]: any }>(\n    { propertiesOrBuilder, path, entityId, values, previousValues }: {\n        propertiesOrBuilder: PropertiesOrBuilder<M>,\n        path: string,\n        entityId?: string | undefined,\n        values?: Partial<EntityValues<M>>,\n        previousValues?: Partial<EntityValues<M>>,\n    }): Properties<M> {\n    return Object.entries(propertiesOrBuilder)\n        .map(([key, propertyOrBuilder]) => {\n            const property = buildPropertyFrom({\n                propertyOrBuilder,\n                values: values ?? {},\n                previousValues: previousValues ?? values ?? {},\n                path,\n                entityId\n            });\n            if (property === null) return null;\n            return {\n                [key]: property\n            };\n        })\n        .filter((a) => a !== null)\n        .reduce((a, b) => ({ ...a, ...b }), {}) as Properties<M>;\n}\n\n\n\nexport function initWithProperties<M extends { [Key: string]: any }>\n(properties: Properties<M>, defaultValues?: Partial<EntityValues<M>>): EntityValues<M> {\n    return Object.entries(properties)\n        .map(([key, property]) => {\n            const propertyDefaultValue = defaultValues && key in defaultValues ? (defaultValues as any)[key] : undefined;\n            const value = initPropertyValue(key, property as Property, propertyDefaultValue);\n            return value === undefined ? {} : { [key]: value };\n        })\n        .reduce((a, b) => ({ ...a, ...b }), {}) as EntityValues<M>;\n}\n\nfunction initPropertyValue(key: string, property: Property, defaultValue: any) {\n    let value: any;\n    if (property.dataType === \"map\" && property.properties) {\n        value = initWithProperties(property.properties as Properties, defaultValue);\n    } else if (defaultValue !== undefined) {\n        value = defaultValue;\n    } else {\n        value = undefined;\n    }\n    return value;\n}\n\n/**\n * Update the automatic values in an entity before save\n * @category Datasource\n */\n\nexport function updateAutoValues<M extends { [Key: string]: any }>({\n                                                                       inputValues,\n                                                                       properties,\n                                                                       status,\n                                                                       timestampNowValue,\n                                                                       referenceConverter,\n                                                                       geopointConverter\n                                                                   }:\n                                                                       {\n                                                                           inputValues: Partial<EntityValues<M>>,\n                                                                           properties: Properties<M>,\n                                                                           status: EntityStatus,\n                                                                           timestampNowValue: any,\n                                                                           referenceConverter?: (value: EntityReference) => any,\n                                                                           geopointConverter?: (value: GeoPoint) => any\n                                                                       }): EntityValues<M> {\n    return traverseValues(\n        inputValues,\n        properties,\n        (inputValue, property) => {\n            if (property.dataType === \"timestamp\") {\n                if (status === \"existing\" && property.autoValue === \"on_update\") {\n                    return timestampNowValue;\n                } else if ((status === \"new\" || status === \"copy\") &&\n                    (property.autoValue === \"on_update\" || property.autoValue === \"on_create\")) {\n                    return timestampNowValue;\n                } else {\n                    return inputValue;\n                }\n            } else if (referenceConverter && property.dataType === \"reference\") {\n                if (inputValue instanceof EntityReference) {\n                    return referenceConverter(inputValue);\n                }\n            } else if (geopointConverter && property.dataType === \"geopoint\") {\n                if (inputValue instanceof GeoPoint) {\n                    return geopointConverter(inputValue);\n                }\n            } else {\n                return inputValue;\n            }\n        }\n    );\n}\n\n\n/**\n * Add missing required fields, expected in the schema, to the values of an entity\n * @param values\n * @param properties\n * @category Datasource\n */\nexport function sanitizeData<M extends { [Key: string]: any }>\n(\n    values: EntityValues<M>,\n    properties: Properties<M>\n) {\n    const result: any = values;\n    Object.entries(properties)\n        .forEach(([key, property]) => {\n            if (values && values[key] !== undefined) result[key] = values[key];\n            else if ((property as Property).validation?.required) result[key] = null;\n        });\n    return result;\n}\n\nexport function getReferenceFrom(entity: Entity<any>): EntityReference {\n    return new EntityReference(entity.id, entity.path);\n}\n\n\nexport function traverseValues<M extends { [Key: string]: any }>(\n    inputValues: Partial<EntityValues<M>>,\n    properties: Properties<M>,\n    operation: (value: any, property: Property) => any\n): EntityValues<M> {\n    const updatedValues = Object.entries(properties)\n        .map(([key, property]) => {\n            const inputValue = inputValues && (inputValues as any)[key];\n            const updatedValue = traverseValue(inputValue, property as Property, operation);\n            if (updatedValue === undefined) return {};\n            return ({ [key]: updatedValue });\n        })\n        .reduce((a, b) => ({ ...a, ...b }), {}) as EntityValues<M>;\n    return { ...inputValues, ...updatedValues };\n}\n\nexport function traverseValue(inputValue: any,\n                              property: Property,\n                              operation: (value: any, property: Property) => any): any {\n\n    let value;\n    if (property.dataType === \"map\" && property.properties) {\n        value = traverseValues(inputValue, property.properties as Properties, operation);\n    } else if (property.dataType === \"array\") {\n        if (property.of && Array.isArray(inputValue)) {\n            value = inputValue.map((e) => traverseValue(e, property.of as Property, operation));\n        } else if (property.oneOf && Array.isArray(inputValue)) {\n            const typeField = property.oneOf!.typeField ?? \"type\";\n            const valueField = property.oneOf!.valueField ?? \"value\";\n            value = inputValue.map((e) => {\n                if (e === null) return null;\n                if (typeof e !== \"object\") return e;\n                const type = e[typeField];\n                const childProperty = property.oneOf!.properties[type];\n                if (!type || !childProperty) return e;\n                return {\n                    [typeField]: type,\n                    [valueField]: traverseValue(e[valueField], childProperty, operation)\n                };\n            });\n        } else {\n            value = inputValue;\n        }\n    } else {\n        value = operation(inputValue, property);\n    }\n\n    return value;\n}\n\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n    AuthController,\n    ConfigurationPersistence,\n    DataSource,\n    EntityCollection,\n    EntityCollectionResolver,\n    EntitySchema,\n    EntitySchemaResolver,\n    EntitySchemaResolverProps,\n    Locale,\n    Navigation,\n    NavigationBuilder,\n    NavigationContext,\n    PartialEntityCollection,\n    PartialEntitySchema,\n    PartialProperties,\n    SchemaOverrideHandler,\n    StorageSource,\n    User\n} from \"../../models\";\nimport {\n    getCollectionByPath,\n    removeInitialAndTrailingSlashes\n} from \"../util/navigation_utils\";\nimport { getValueInPath, mergeDeep } from \"../util/objects\";\nimport { computeProperties } from \"../utils\";\n\nexport function useBuildNavigationContext<UserType>({\n                                                        basePath,\n                                                        baseCollectionPath,\n                                                        authController,\n                                                        navigationOrBuilder,\n                                                        schemaOverrideHandler,\n                                                        dateTimeFormat,\n                                                        locale,\n                                                        dataSource,\n                                                        storageSource,\n                                                        userConfigPersistence\n                                                    }: {\n    basePath: string,\n    baseCollectionPath: string,\n    authController: AuthController<UserType>;\n    navigationOrBuilder: Navigation | NavigationBuilder<UserType> | EntityCollection[];\n    schemaOverrideHandler: SchemaOverrideHandler | undefined;\n    dateTimeFormat?: string;\n    locale?: Locale;\n    dataSource: DataSource;\n    storageSource: StorageSource;\n    userConfigPersistence?: ConfigurationPersistence;\n}): NavigationContext {\n\n    const [navigation, setNavigation] = useState<Navigation | undefined>(undefined);\n    const [navigationLoading, setNavigationLoading] = useState<boolean>(false);\n    const [navigationLoadingError, setNavigationLoadingError] = useState<Error | undefined>(undefined);\n\n    const schemaConfigRecord = useRef<Record<string, Partial<EntityCollectionResolver> & { overrideSchemaRegistry?: boolean }>>({});\n    const cleanBasePath = removeInitialAndTrailingSlashes(basePath);\n    const cleanBaseCollectionPath = removeInitialAndTrailingSlashes(baseCollectionPath);\n\n    const homeUrl = cleanBasePath ? `/${cleanBasePath}` : \"/\";\n\n    const fullCollectionPath = cleanBasePath ? `/${cleanBasePath}/${cleanBaseCollectionPath}` : `/${cleanBaseCollectionPath}`;\n\n    const initialised = navigation?.collections !== undefined;\n\n    useEffect(() => {\n        if (!authController.canAccessMainView) {\n            return;\n        }\n        setNavigationLoading(true);\n        getNavigation({\n            navigationOrCollections: navigationOrBuilder,\n            user: authController.user,\n            authController,\n            dateTimeFormat,\n            locale,\n            dataSource,\n            storageSource\n        }).then((result: Navigation) => {\n            setNavigation(result);\n            setNavigationLoading(false);\n        }).catch(setNavigationLoadingError);\n    }, [authController.user, authController.canAccessMainView, navigationOrBuilder, authController, dateTimeFormat, locale, dataSource, storageSource]);\n\n\n    const getSchemaOverride = useCallback(<M extends any>(path: string): PartialEntitySchema<M> | undefined => {\n        if (!userConfigPersistence)\n            return undefined\n        const collectionOverride = userConfigPersistence.getCollectionConfig<M>(path);\n        return collectionOverride?.schema;\n    }, [userConfigPersistence]);\n\n    const buildSchemaResolver = useCallback(<M extends { [Key: string]: any } = any>({\n                                                                                         schema,\n                                                                                         path\n                                                                                     }: { schema: EntitySchema<M>, path: string }): EntitySchemaResolver<M> =>\n        ({\n             entityId,\n             values,\n             previousValues\n         }: EntitySchemaResolverProps<M>) => {\n\n            const schemaOverride = getSchemaOverride<M>(path);\n            const storedProperties: PartialProperties<M> | undefined = getValueInPath(schemaOverride, \"properties\");\n\n            const properties = computeProperties({\n                propertiesOrBuilder: schema.properties,\n                path,\n                entityId,\n                values: values ?? schema.defaultValues,\n                previousValues\n            });\n\n        return {\n            ...schema,\n            properties: mergeDeep(properties, storedProperties),\n            originalSchema: schema\n        };\n    }, [getSchemaOverride]);\n\n    const getCollectionOverride = useCallback(<M extends any>(path: string): PartialEntityCollection<M> | undefined => {\n        if (!userConfigPersistence)\n            return undefined\n        const dynamicCollectionConfig = { ...userConfigPersistence.getCollectionConfig<M>(path) };\n        delete dynamicCollectionConfig.schema;\n        return dynamicCollectionConfig;\n    }, [userConfigPersistence]);\n\n\n    const getCollectionResolver = useCallback(<M extends { [Key: string]: any }>(path: string, entityId?: string, collection?: EntityCollection<M>): EntityCollectionResolver<M> => {\n\n        const collections = navigation?.collections;\n\n        const baseCollection = collection ?? (collections && getCollectionByPath<M>(removeInitialAndTrailingSlashes(path), collections));\n\n        const collectionOverride = getCollectionOverride(path);\n\n        const resolvedCollection = baseCollection ? mergeDeep(baseCollection, collectionOverride) : undefined;\n\n        const sidePanelKey = getSidePanelKey(path, entityId);\n\n        let result: Partial<EntityCollectionResolver> = {};\n\n        const overriddenProps = schemaConfigRecord.current[sidePanelKey];\n        const resolvedProps: Partial<EntityCollectionResolver> | undefined = schemaOverrideHandler && schemaOverrideHandler({\n            entityId,\n            path: removeInitialAndTrailingSlashes(path)\n        });\n\n        if (resolvedProps)\n            result = resolvedProps;\n\n        if (overriddenProps) {\n            // override schema resolver default to true\n            const shouldOverrideRegistry = overriddenProps.overrideSchemaRegistry === undefined || overriddenProps.overrideSchemaRegistry;\n            if (shouldOverrideRegistry)\n                result = {\n                    ...overriddenProps,\n                    permissions: result.permissions || overriddenProps.permissions,\n                    schemaResolver: result.schemaResolver || overriddenProps.schemaResolver,\n                    subcollections: result.subcollections || overriddenProps.subcollections,\n                    callbacks: result.callbacks || overriddenProps.callbacks\n                };\n            else\n                result = {\n                    ...result,\n                    permissions: overriddenProps.permissions ?? result.permissions,\n                    schemaResolver: overriddenProps.schemaResolver ?? result.schemaResolver,\n                    subcollections: overriddenProps.subcollections ?? result.subcollections,\n                    callbacks: overriddenProps.callbacks ?? result.callbacks\n                };\n\n        }\n        if (resolvedCollection) {\n            const schema = resolvedCollection.schema;\n            const subcollections = resolvedCollection.subcollections;\n            const callbacks = resolvedCollection.callbacks;\n            const permissions = resolvedCollection.permissions;\n            result = {\n                ...result,\n                schemaResolver: result.schemaResolver ?? buildSchemaResolver({\n                    schema,\n                    path\n                }),\n                subcollections: result.subcollections ?? subcollections,\n                callbacks: result.callbacks ?? callbacks,\n                permissions: result.permissions ?? permissions\n            };\n        }\n        if (result && Object.keys(result).length) {\n            if (!result.schemaResolver) {\n                if (!result.schema)\n                    throw Error(`Not able to resolve schema for ${sidePanelKey}`);\n                result.schemaResolver = buildSchemaResolver({\n                    schema: result.schema,\n                    path\n                });\n            }\n        }\n\n        return { ...resolvedCollection, ...(result as EntityCollectionResolver<M>) };\n\n    }, [navigation?.collections, getCollectionOverride, schemaOverrideHandler, buildSchemaResolver]);\n\n    const setOverride = useCallback(({\n                                         path,\n                                         entityId,\n                                         schemaConfig,\n                                         overrideSchemaRegistry\n                                     }: {\n                                         path: string,\n                                         entityId?: string,\n                                         schemaConfig?: Partial<EntityCollectionResolver>\n                                         overrideSchemaRegistry?: boolean\n                                     }\n    ) => {\n\n        const key = getSidePanelKey(path, entityId);\n        if (!schemaConfig) {\n            delete schemaConfigRecord.current[key];\n            return undefined;\n        } else {\n\n            schemaConfigRecord.current[key] = {\n                ...schemaConfig,\n                overrideSchemaRegistry\n            };\n            return key;\n        }\n    }, []);\n\n    const removeAllOverridesExcept = useCallback((entityRefs: {\n        path: string, entityId?: string\n    }[]) => {\n        const keys = entityRefs.map(({\n                                         path,\n                                         entityId\n                                     }) => getSidePanelKey(path, entityId));\n        Object.keys(schemaConfigRecord.current).forEach((currentKey) => {\n            if (!keys.includes(currentKey))\n                delete schemaConfigRecord.current[currentKey];\n        });\n    }, []);\n\n    const isUrlCollectionPath = useCallback(\n        (path: string): boolean => removeInitialAndTrailingSlashes(path + \"/\").startsWith(removeInitialAndTrailingSlashes(fullCollectionPath) + \"/\"),\n        [fullCollectionPath]);\n\n    const urlPathToDataPath = useCallback((path: string): string => {\n        if (path.startsWith(fullCollectionPath))\n            return path.replace(fullCollectionPath, \"\");\n        throw Error(\"Expected path starting with \" + fullCollectionPath);\n    }, [fullCollectionPath]);\n\n    const buildUrlCollectionPath = useCallback((path: string): string => `${baseCollectionPath}/${removeInitialAndTrailingSlashes(path)}`,\n        [baseCollectionPath]);\n\n    const buildCMSUrlPath = useCallback((path: string): string => `/${removeInitialAndTrailingSlashes(path)}`,\n        []);\n\n    const onCollectionModifiedForUser = useCallback(<M extends any>(path: string, partialCollection: PartialEntityCollection<M>) => {\n        if (userConfigPersistence) {\n            const currentStoredConfig = userConfigPersistence.getCollectionConfig(path);\n            userConfigPersistence.onCollectionModified(path, mergeDeep(currentStoredConfig, partialCollection));\n        }\n    }, [userConfigPersistence]);\n\n    return {\n        navigation,\n        loading: navigationLoading,\n        navigationLoadingError,\n        homeUrl,\n        basePath,\n        baseCollectionPath,\n        onCollectionModifiedForUser,\n        initialised,\n        getCollectionResolver,\n        setOverride,\n        removeAllOverridesExcept,\n        isUrlCollectionPath,\n        urlPathToDataPath,\n        buildUrlCollectionPath,\n        buildCMSUrlPath\n    };\n}\n\nconst getNavigation = async <UserType extends any>({\n                                                       navigationOrCollections,\n                                                       user,\n                                                       authController,\n                                                       dateTimeFormat,\n                                                       locale,\n                                                       dataSource,\n                                                       storageSource\n                                                   }:\n                                                       {\n                                                           navigationOrCollections: Navigation | NavigationBuilder<UserType> | EntityCollection[],\n                                                           user: User | null,\n                                                           authController: AuthController<UserType>,\n                                                           dateTimeFormat?: string,\n                                                           locale?: Locale,\n                                                           dataSource: DataSource,\n                                                           storageSource: StorageSource\n                                                       }\n): Promise<Navigation> => {\n\n    if (Array.isArray(navigationOrCollections)) {\n        return {\n            collections: navigationOrCollections\n        };\n    } else if (typeof navigationOrCollections === \"function\") {\n        return navigationOrCollections({\n            user,\n            authController,\n            dateTimeFormat,\n            locale,\n            dataSource,\n            storageSource\n        });\n    } else {\n        return navigationOrCollections;\n    }\n};\n\n\nexport function getSidePanelKey(path: string, entityId?: string) {\n    if (entityId)\n        return `${removeInitialAndTrailingSlashes(path)}/${removeInitialAndTrailingSlashes(entityId)}`;\n    else\n        return removeInitialAndTrailingSlashes(path);\n}\n","import { useCallback, useEffect, useMemo, useState } from \"react\";\nimport {\n    AuthController,\n    AuthDelegate,\n    Authenticator,\n    DataSource,\n    Locale,\n    StorageSource,\n    User\n} from \"../../models\";\n\nexport function useBuildAuthController<UserType>({\n                                           authDelegate,\n                                           authentication,\n                                           dateTimeFormat,\n                                           locale,\n                                           dataSource,\n                                           storageSource\n                                       }: {\n    authDelegate: AuthDelegate,\n    authentication?: boolean | Authenticator<UserType>,\n    dateTimeFormat?: string;\n    locale?: Locale;\n    dataSource: DataSource;\n    storageSource: StorageSource;\n}): AuthController<UserType> {\n\n    const [user, setUser] = useState<User | null>(null);\n    const [authLoading, setAuthLoading] = useState<boolean>(false);\n    const [notAllowedError, setNotAllowedError] = useState<any>(false);\n    const [extra, setExtra] = useState<any>();\n\n    const loginSkipped = authDelegate.loginSkipped;\n\n    const authenticationEnabled = authentication === undefined || !!authentication;\n    const canAccessMainView = (!authenticationEnabled || Boolean(user) || Boolean(loginSkipped)) && !notAllowedError;\n\n    const authController: AuthController<UserType> = useMemo(() => ({\n        user,\n        loginSkipped,\n        canAccessMainView,\n        initialLoading: authDelegate.initialLoading ?? false,\n        authLoading: authLoading,\n        notAllowedError,\n        signOut: authDelegate.signOut,\n        extra,\n        setExtra,\n        authDelegate\n    }), [authDelegate, authLoading, canAccessMainView, extra, loginSkipped, notAllowedError, user]);\n\n    const checkAuthentication = useCallback(async () => {\n        const delegateUser = authDelegate.user;\n        if (authentication instanceof Function && delegateUser) {\n            setAuthLoading(true);\n            try {\n                const allowed = await authentication({\n                    user: delegateUser,\n                    authController,\n                    dateTimeFormat,\n                    locale,\n                    dataSource,\n                    storageSource\n                });\n                if (allowed)\n                    setUser(delegateUser);\n                else\n                    setNotAllowedError(true);\n            } catch (e) {\n                setNotAllowedError(e);\n                authDelegate.signOut();\n            }\n            setAuthLoading(false);\n        } else {\n            setUser(delegateUser);\n        }\n    }, [authDelegate.user]);\n\n    useEffect(() => {\n        checkAuthentication();\n    }, [authDelegate.user, checkAuthentication]);\n\n\n    return authController;\n}\n","import { PartialEntityCollection } from \"../../models\";\nimport { ConfigurationPersistence } from \"../../models/config_persistence\";\n\n/**\n * Remove the entity ids from a given path\n * `products/B44RG6APH/locales` => `products/locales`\n * @param path\n */\nfunction stripCollectionPath(path: string): string {\n    return path\n        .split(\"/\")\n        .filter((e, i) => i % 2 === 0)\n        .reduce((a, b) => `${a}/${b}`);\n}\n\nexport function useBuildStorageConfigurationPersistence(): ConfigurationPersistence {\n    function saveStorageCollectionConfig<M>(path: string, data: PartialEntityCollection<M>) {\n        const storageKey = `collection_config_${stripCollectionPath(path)}`;\n        localStorage.setItem(storageKey, JSON.stringify(data));\n    }\n\n    function getStorageCollectionConfig<M>(path: string): PartialEntityCollection<M> {\n        const storageKey = `collection_config_${stripCollectionPath(path)}`;\n        const item = localStorage.getItem(storageKey);\n        return item ? JSON.parse(item) : {};\n    }\n\n    return {\n        onCollectionModified: saveStorageCollectionConfig,\n        getCollectionConfig: getStorageCollectionConfig\n    }\n}\n\n\n","import React from \"react\";\n\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport * as locales from \"date-fns/locale\";\n\nimport {\n    AuthDelegate,\n    Authenticator,\n    DataSource,\n    EntityCollection,\n    EntityLinkBuilder,\n    FireCMSContext,\n    Locale,\n    Navigation,\n    NavigationBuilder,\n    SchemaOverrideHandler,\n    StorageSource\n} from \"../models\";\nimport { SnackbarContext, SnackbarProvider } from \"./contexts/SnackbarContext\";\nimport { FireCMSContextProvider } from \"./contexts/FireCMSContext\";\nimport { BreadcrumbsProvider } from \"./contexts/BreacrumbsContext\";\nimport { ModeProvider, ModeStateContext } from \"./contexts/ModeState\";\nimport { useBuildSideEntityController } from \"./internal/useBuildSideEntityController\";\nimport { useBuildNavigationContext } from \"./internal/useBuildNavigationContext\";\nimport { useBuildAuthController } from \"./internal/useBuildAuthController\";\nimport { useBuildStorageConfigurationPersistence } from \"./util/storage\";\n\nconst DEFAULT_COLLECTION_PATH = \"/c\";\n\n/**\n * @category Core\n */\nexport interface FireCMSProps<UserType> {\n\n    /**\n     * Use this function to return the components you want to render under\n     * FireCMS\n     * @param props\n     */\n    children: (props: {\n        /**\n         * Context of the app\n         */\n        context: FireCMSContext;\n        /**\n         * Main color scheme\n         */\n        mode: \"dark\" | \"light\";\n        /**\n         * Is one of the main processes, auth and navigation resolving, currently\n         * loading. If you are building your custom implementation, you probably\n         * want to show a loading indicator if this flag is `true`\n         */\n        loading: boolean;\n    }) => React.ReactNode;\n\n    /**\n     * Use this prop to specify the views that will be generated in the CMS.\n     * You usually will want to create a `Navigation` object that includes\n     * collection views where you specify the path and the schema.\n     * Additionally you can add custom views to the root navigation.\n     * In you need to customize the navigation based on the logged user you\n     * can use a `NavigationBuilder`\n     */\n    navigation: Navigation | NavigationBuilder<UserType> | EntityCollection[];\n\n    /**\n     * Do the users need to log in to access the CMS.\n     * You can specify an Authenticator function to discriminate which users can\n     * access the CMS or not.\n     * If not specified, authentication is enabled but no user restrictions\n     * apply.\n     */\n    authentication?: boolean | Authenticator<UserType>;\n\n    /**\n     * Used to override schemas based on the collection path and entityId.\n     * This resolver allows to override the schema for specific entities, or\n     * specific collections, app wide.\n     *\n     * This overrides schemas **all through the app.**\n     *\n     * You can also override schemas in place, when using {@link useSideEntityController}\n     */\n    schemaOverrideHandler?: SchemaOverrideHandler;\n\n    /**\n     * Format of the dates in the CMS.\n     * Defaults to 'MMMM dd, yyyy, HH:mm:ss'\n     */\n    dateTimeFormat?: string;\n\n    /**\n     * Locale of the CMS, currently only affecting dates\n     */\n    locale?: Locale;\n\n    /**\n     * Connector to your database\n     */\n    dataSource: DataSource;\n\n    /**\n     * Connector to your file upload/fetch implementation\n     */\n    storageSource: StorageSource;\n\n    /**\n     * Delegate for implementing your auth operations.\n     * @see useFirebaseAuthDelegate\n     */\n    authDelegate: AuthDelegate;\n\n    /**\n     * Optional link builder you can add to generate a button in your entity forms.\n     * The function must return a URL that gets opened when the button is clicked\n     */\n    entityLinkBuilder?: EntityLinkBuilder;\n\n    /**\n     * Default path under the navigation routes of the CMS will be created\n     */\n    basePath?: string;\n\n    /**\n     * Default path under the collection routes of the CMS will be created\n     */\n    baseCollectionPath?: string;\n\n}\n\n\n/**\n * If you are using independent components of the CMS\n * you need to wrap them with this main component, so the internal hooks work.\n *\n * @constructor\n * @category Core\n */\nexport function FireCMS<UserType>(props: FireCMSProps<UserType>) {\n\n    const {\n        children,\n        navigation: navigationOrBuilder,\n        entityLinkBuilder,\n        authentication,\n        dateTimeFormat,\n        locale,\n        authDelegate,\n        schemaOverrideHandler,\n        storageSource,\n        dataSource,\n        basePath,\n        baseCollectionPath\n    } = props;\n\n    const usedBasePath = basePath ?? \"/\";\n    const usedBasedCollectionPath = baseCollectionPath ?? DEFAULT_COLLECTION_PATH;\n\n    const dateUtilsLocale = locale ? locales[locale] : undefined;\n    const authController = useBuildAuthController({\n        authDelegate,\n        authentication,\n        dateTimeFormat,\n        locale,\n        dataSource,\n        storageSource\n    });\n\n    const userConfigPersistence = useBuildStorageConfigurationPersistence();\n\n    const navigationContext = useBuildNavigationContext({\n        basePath: usedBasePath,\n        baseCollectionPath: usedBasedCollectionPath,\n        authController,\n        navigationOrBuilder,\n        dateTimeFormat,\n        locale,\n        dataSource,\n        storageSource,\n        schemaOverrideHandler,\n        userConfigPersistence\n    });\n\n    const sideEntityController = useBuildSideEntityController(navigationContext);\n\n    const loading = authController.authLoading || authController.initialLoading || navigationContext.loading;\n\n    if (navigationContext.navigationLoadingError) {\n        return (\n            <div>\n                <p>There was an error while loading your navigation config</p>\n                <p>{navigationContext.navigationLoadingError}</p>\n            </div>\n        );\n    }\n\n    return (\n        <ModeProvider>\n            <SnackbarProvider>\n                <SnackbarContext.Consumer>\n                    {(snackbarController) => {\n\n                        const context: FireCMSContext = {\n                            authController,\n                            sideEntityController,\n                            entityLinkBuilder,\n                            dateTimeFormat,\n                            locale,\n                            navigationContext,\n                            dataSource,\n                            storageSource,\n                            snackbarController\n                        };\n\n                        return (\n                            <FireCMSContextProvider {...context} >\n                                <BreadcrumbsProvider>\n                                    <LocalizationProvider\n                                        dateAdapter={AdapterDateFns}\n                                        utils={DateFnsUtils}\n                                        locale={dateUtilsLocale}>\n                                            <ModeStateContext.Consumer>\n                                                {({ mode }) => {\n                                                    return children({\n                                                        context,\n                                                        mode,\n                                                        loading\n                                                    });\n                                                }}\n                                            </ModeStateContext.Consumer>\n                                    </LocalizationProvider>\n                                </BreadcrumbsProvider>\n                            </FireCMSContextProvider>\n                        );\n                    }}\n                </SnackbarContext.Consumer>\n            </SnackbarProvider>\n        </ModeProvider>\n    );\n\n}\n\n\n\n\n\n\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport ErrorIcon from \"@mui/icons-material/Error\";\nimport { Theme, Tooltip } from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        flexCenter: {\n            display: \"flex\",\n            alignItems: \"center\"\n        },\n        smallMargin: {\n            margin: theme.spacing(1)\n        },\n        text: {\n            paddingLeft: theme.spacing(2)\n        }\n    })\n);\n\n/**\n * @category Components\n */\nexport interface ErrorViewProps {\n    error: string,\n    tooltip?: string\n}\n\n/**\n * Generic error view. Displayed for example when an unexpected value comes\n * from the datasource in a collection view.\n * @param error\n * @param tooltip\n * @constructor\n * @category Components\n */\nexport function ErrorView({\n                              error,\n                              tooltip\n                          }: ErrorViewProps): React.ReactElement {\n    const classes = useStyles();\n    const body = (\n        <div\n            className={clsx(classes.flexCenter, classes.smallMargin)}>\n            <ErrorIcon fontSize={\"small\"} color={\"error\"}/>\n            <div className={classes.text}>{error}</div>\n        </div>\n    );\n\n    if (tooltip) {\n        return (\n            <Tooltip title={tooltip}>\n                {body}\n            </Tooltip>\n        );\n    }\n    return body;\n}\n","import { Skeleton } from \"@mui/material\";\nimport * as React from \"react\";\nimport { useEffect, useState } from \"react\";\n\nexport interface AsyncPreviewComponentProps {\n\n    builder: Promise<React.ReactNode>;\n\n}\n\nfunction AsyncPreviewComponentInternal<M extends { [Key: string]: any }>(\n    {\n        builder\n    }: AsyncPreviewComponentProps): JSX.Element {\n\n    const [loading, setLoading] = useState<boolean>(true);\n    const [result, setResult] = useState<React.ReactNode>(null);\n\n    useEffect(() => {\n        let unmounted = false;\n        builder\n            .then((res) => {\n                if (!unmounted) {\n                    setLoading(false);\n                    setResult(res);\n                }\n            })\n            .catch(error => {\n                setLoading(false);\n                console.error(error);\n            });\n        return () => {\n            unmounted = true;\n        };\n    }, [builder]);\n\n    if (loading)\n        return <Skeleton variant=\"text\"/>;\n\n    return <React.Fragment>{result}</React.Fragment>;\n\n}\n\n/**\n * Utility component used to render the result of an async execution.\n * It shows a loading indicator while at it.\n *\n * @category Preview components\n */\nexport const AsyncPreviewComponent = React.memo(AsyncPreviewComponentInternal) as React.FunctionComponent<AsyncPreviewComponentProps>;\n","import { Box, Typography } from \"@mui/material\";\nimport React, { ErrorInfo } from \"react\";\n\nimport ErrorIcon from \"@mui/icons-material/Error\";\n\n\nexport class ErrorBoundary extends React.Component<{}, { hasError: boolean }> {\n    constructor(props: any) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    // eslint-disable-next-line node/handle-callback-err\n    static getDerivedStateFromError(error: Error) {\n        return { hasError: true };\n    }\n\n    // eslint-disable-next-line node/handle-callback-err\n    componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n        // logErrorToMyService(error, errorInfo);\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return (\n                <Box\n                    display={\"flex\"}\n                    flexDirection={\"column\"}\n                    m={0.5}>\n                    <Box\n                        display={\"flex\"}\n                        alignItems={\"center\"}\n                        m={0.5}>\n                        <ErrorIcon color={\"error\"} fontSize={\"small\"}/>\n                        <Box marginLeft={1}>Error</Box>\n                    </Box>\n                    <Typography variant={\"caption\"}>\n                        See the error in the console\n                    </Typography>\n                </Box>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n","export function hashString(str: string): number {\n    let hash = 0; let i; let chr;\n    for (i = 0; i < str.length; i++) {\n        chr = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Math.abs(hash);\n}\n","import { hashString } from \"./hash\";\nimport { ChipColor } from \"../../models\";\n\nexport interface ChipColorSchema {\n    color: string;\n    text: string;\n}\n\nexport const CHIP_COLORS: Record<string, ChipColorSchema> = {\n    blueLighter: { color: \"#cfdfff\", text: \"#102046\" },\n    cyanLighter: { color: \"#d0f0fd\", text: \"#04283f\" },\n    tealLighter: { color: \"#c2f5e9\", text: \"#012524\" },\n    greenLighter: { color: \"#d1f7c4\", text: \"#0b1d05\" },\n    yellowLighter: { color: \"#ffeab6\", text: \"#3b2501\" },\n    orangeLighter: { color: \"#fee2d5\", text: \"#6b2613\" },\n    redLighter: { color: \"#ffdce5\", text: \"#4c0c1c\" },\n    pinkLighter: { color: \"#ffdaf6\", text: \"#400832\" },\n    purpleLighter: { color: \"#ede2fe\", text: \"#280b42\" },\n    grayLighter: { color: \"#eee\", text: \"#040404\" },\n\n    blueLight: { color: \"#9cc7ff\", text: \"#102046\" },\n    cyanLight: { color: \"#77d1f3\", text: \"#04283f\" },\n    tealLight: { color: \"#72ddc3\", text: \"#012524\" },\n    greenLight: { color: \"#93e088\", text: \"#0b1d05\" },\n    yellowLight: { color: \"#ffd66e\", text: \"#3b2501\" },\n    orangeLight: { color: \"#ffa981\", text: \"#6b2613\" },\n    redLight: { color: \"#ff9eb7\", text: \"#4c0c1c\" },\n    pinkLight: { color: \"#f99de2\", text: \"#400832\" },\n    purpleLight: { color: \"#cdb0ff\", text: \"#280b42\" },\n    grayLight: { color: \"#ccc\", text: \"#040404\" },\n\n    blueDark: { color: \"#2d7ff9\", text: \"#fff\" },\n    cyanDark: { color: \"#18bfff\", text: \"#fff\" },\n    tealDark: { color: \"#20d9d2\", text: \"#fff\" },\n    greenDark: { color: \"#20c933\", text: \"#fff\" },\n    yellowDark: { color: \"#fcb400\", text: \"#fff\" },\n    orangeDark: { color: \"#ff6f2c\", text: \"#fff\" },\n    redDark: { color: \"#f82b60\", text: \"#fff\" },\n    pinkDark: { color: \"#ff08c2\", text: \"#fff\" },\n    purpleDark: { color: \"#8b46ff\", text: \"#fff\" },\n    grayDark: { color: \"#666\", text: \"#fff\" },\n\n    blueDarker: { color: \"#2750ae\", text: \"#cfdfff\" },\n    cyanDarker: { color: \"#0b76b7\", text: \"#d0f0fd\" },\n    tealDarker: { color: \"#06a09b\", text: \"#c2f5e9\" },\n    greenDarker: { color: \"#338a17\", text: \"#d1f7c4\" },\n    yellowDarker: { color: \"#b87503\", text: \"#ffeab6\" },\n    orangeDarker: { color: \"#d74d26\", text: \"#fee2d5\" },\n    redDarker: { color: \"#ba1e45\", text: \"#ffdce5\" },\n    pinkDarker: { color: \"#b2158b\", text: \"#ffdaf6\" },\n    purpleDarker: { color: \"#6b1cb0\", text: \"#ede2fe\" },\n    grayDarker: { color: \"#444\", text: \"#eee\" }\n};\n\nexport function getColorSchemeForSeed(seed: string): ChipColorSchema {\n    const hash: number = hashString(seed);\n    const colorKeys = Object.keys(CHIP_COLORS);\n    const index = hash % colorKeys.length;\n    return CHIP_COLORS[colorKeys[index]];\n}\n\nexport function getColorSchemeForKey(key: ChipColor): ChipColorSchema {\n    return CHIP_COLORS[key];\n}\n\n","import { ChipColor, EnumValueConfig, EnumValues } from \"../../models\";\n\nexport function enumToObjectEntries(enumValues: EnumValues): [string | number, string | EnumValueConfig][] {\n    return enumValues instanceof Map\n        ? Array.from(enumValues.entries())\n        : Object.entries<string | EnumValueConfig>(enumValues);\n}\n\nexport function getLabelOrConfigFrom(enumValues: EnumValues, key: string | number): string | EnumValueConfig | undefined {\n    return enumValues instanceof Map\n        ? enumValues.get(key)\n        : enumValues[key];\n}\n\nexport function getColorSchemaKey(enumValues: EnumValues, key: string | number): ChipColor | undefined {\n    const labelOrConfig = getLabelOrConfigFrom(enumValues, key);\n    if (typeof labelOrConfig === \"object\" && \"color\" in labelOrConfig) {\n        return labelOrConfig.color;\n    }\n    return undefined;\n}\n\nexport function isEnumValueDisabled(labelOrConfig?: string | EnumValueConfig) {\n    return typeof labelOrConfig === \"object\" && (labelOrConfig as EnumValueConfig).disabled;\n}\n\n\nexport function buildEnumLabel(\n    labelOrConfig?: string | EnumValueConfig\n): string | undefined {\n    if (labelOrConfig === undefined)\n        return undefined;\n    if (typeof labelOrConfig === \"object\") {\n        return labelOrConfig.label;\n    } else {\n        return labelOrConfig;\n    }\n}\n\n","import { Chip, Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport React, { useMemo } from \"react\";\nimport {\n    ChipColorSchema,\n    getColorSchemeForKey,\n    getColorSchemeForSeed\n} from \"../../core/util/chip_utils\";\nimport { ChipColor, EnumValues } from \"../../models\";\nimport {\n    buildEnumLabel,\n    getColorSchemaKey,\n    getLabelOrConfigFrom\n} from \"../../core/util/enums\";\n\nconst useStyles = makeStyles<Theme, { schema: ChipColorSchema, error: any }>((theme: Theme) =>\n    createStyles({\n        root: {\n            maxWidth: \"100%\",\n            backgroundColor: ({\n                                  schema,\n                                  error\n                              }) => error ? \"#eee\" : schema.color\n        },\n        label: {\n            color: ({ schema, error }) => error ? \"red\" : schema.text,\n            fontWeight: theme.typography.fontWeightRegular\n        }\n    })\n);\n\n\ninterface EnumValuesChipProps {\n    enumValues: EnumValues;\n    enumKey: any;\n    small: boolean;\n}\n\n/**\n * @category Preview components\n */\nexport function EnumValuesChip({\n                                   enumValues,\n                                   enumKey,\n                                   small\n                               }: EnumValuesChipProps) {\n    const enumValue = enumKey !== undefined ? getLabelOrConfigFrom(enumValues, enumKey.toString()) : undefined;\n    const label = buildEnumLabel(enumValue);\n    const colorSchemaKey = getColorSchemaKey(enumValues, enumKey.toString());\n    return <CustomChip\n        colorSeed={`${enumKey}`}\n        colorSchemaKey={colorSchemaKey}\n        label={label !== undefined ? label : enumKey}\n        error={!label}\n        outlined={false}\n        small={small}/>;\n}\n\n\ninterface EnumChipProps {\n    colorSeed: string;\n    colorSchemaKey?: ChipColor;\n    label: string;\n    error?: boolean;\n    outlined?: boolean;\n    small: boolean;\n}\n\n/**\n * @category Preview components\n */\nexport function CustomChip({\n                               colorSeed,\n                               label,\n                               colorSchemaKey,\n                               error,\n                               outlined,\n                               small\n                           }: EnumChipProps) {\n\n    const schema = useMemo(() =>\n        colorSchemaKey\n            ? getColorSchemeForKey(colorSchemaKey)\n            : getColorSchemeForSeed(colorSeed), [colorSeed, colorSchemaKey]);\n    const classes = useStyles({ schema, error });\n\n    return (\n        <Chip\n            classes={{\n                root: classes.root,\n                label: classes.label\n            }}\n            size={small ? \"small\" : \"medium\"}\n            variant={outlined ? \"outlined\" : \"filled\"}\n            label={label}\n        />\n    );\n}\n","import React from \"react\";\n\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { CustomChip, EnumValuesChip } from \"./CustomChip\";\nimport { PreviewComponentProps } from \"../internal\";\n\n/**\n * @category Preview components\n */\nexport function StringPreview({\n                                  name,\n                                  value,\n                                  property,\n                                  size\n                              }: PreviewComponentProps<string>): React.ReactElement {\n\n    if (property.config?.enumValues) {\n        const enumKey = value;\n        const enumValues = property.config.enumValues;\n        return <EnumValuesChip\n            enumKey={enumKey}\n            enumValues={enumValues}\n            small={size !== \"regular\"}/>;\n    } else if (property.config?.previewAsTag) {\n        return (\n            <ErrorBoundary>\n                <CustomChip\n                    colorSeed={name ?? \"\"}\n                    label={value}\n                    small={size !== \"regular\"}\n                />\n            </ErrorBoundary>);\n    } else {\n        return <>\n            {value && (value.includes(\"\\n\")\n                ? value.split(\"\\n\").map((str, index) =>\n                    <div key={`string_preview_${index}`}>{str}</div>)\n                : value)}\n        </>;\n    }\n}\n","import React from \"react\";\nimport { StringProperty } from \"../../models\";\nimport { PreviewComponentProps } from \"../internal\";\n\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { StringPreview } from \"./StringPreview\";\nimport { Theme } from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        array: {\n            display: \"flex\",\n            flexDirection: \"column\"\n        },\n        arrayWrap: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n        },\n        arrayItem: {\n            margin: theme.spacing(0.5)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayOfStringsPreview({\n                                          name,\n                                          value,\n                                          property,\n                                          size\n                                      }: PreviewComponentProps<string[]>) {\n\n    const classes = useStyles();\n\n    if (!property.of || property.dataType !== \"array\" || property.of.dataType !== \"string\")\n        throw Error(\"Picked wrong preview component ArrayOfStringsPreview\");\n\n    if (value && !Array.isArray(value)) {\n        return <div>{`Unexpected value: ${value}`}</div>;\n    }\n    const stringProperty = property.of as StringProperty;\n\n    return (\n        <div className={classes.array}>\n            {value &&\n            value.map((v, index) =>\n                <div className={classes.arrayItem}\n                     key={`preview_array_strings_${name}_${index}`}>\n                    <ErrorBoundary>\n                        <StringPreview name={name}\n                                       property={stringProperty}\n                                       value={v}\n                                       size={size}/>\n                    </ErrorBoundary>\n                </div>\n            )}\n        </div>\n    );\n}\n","import { EnumValues } from \"../../models\";\n\nimport React from \"react\";\n\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { EnumValuesChip } from \"./CustomChip\";\nimport { Theme } from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        arrayWrap: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n        },\n        arrayItem: {\n            margin: theme.spacing(0.5)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayEnumPreview({\n                                     name,\n                                     value,\n                                     enumValues,\n                                     size\n                                 }: {\n    value: string[] | number[],\n    name: string | undefined,\n    enumValues: EnumValues,\n    size: \"regular\" | \"small\" | \"tiny\"\n}) {\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.arrayWrap}>\n            {value &&\n            (value as any[]).map((enumKey, index) => {\n                    return (\n                        <div className={classes.arrayItem}\n                             key={`preview_array_ref_${name}_${index}`}>\n                            <ErrorBoundary>\n                                <EnumValuesChip\n                                    enumKey={enumKey}\n                                    enumValues={enumValues}\n                                    small={size !== \"regular\"}/>\n                            </ErrorBoundary>\n                        </div>\n                    );\n                }\n            )}\n        </div>\n    );\n}\n","import { PreviewComponentProps } from \"../internal\";\nimport { NumberProperty, StringProperty } from \"../../models\";\nimport { ArrayEnumPreview } from \"./ArrayEnumPreview\";\n\n/**\n * @category Preview components\n */\nexport function ArrayPropertyEnumPreview({\n                                             name,\n                                             value,\n                                             property,\n                                             size\n                                         }: PreviewComponentProps<string[] | number[]>) {\n\n    if (property.dataType !== \"array\")\n        throw Error(\"Picked wrong preview component ArrayEnumPreview\");\n\n    const ofProperty = property.of as StringProperty | NumberProperty;\n    if (!ofProperty.config?.enumValues)\n        throw Error(\"Picked wrong preview component ArrayEnumPreview\");\n\n    if (!value) return null;\n\n    const enumValues = ofProperty.config?.enumValues;\n\n    return <ArrayEnumPreview name={name}\n                             value={value}\n                             enumValues={enumValues}\n                             size={size}/>;\n}\n","import React from \"react\";\nimport { CheckBox, CheckBoxOutlineBlank } from \"@mui/icons-material\";\nimport { PreviewComponentProps } from \"../internal\";\n\n/**\n * @category Preview components\n */\nexport function BooleanPreview({\n                                   name,\n                                   value,\n                                   property,\n                                   size\n                               }: PreviewComponentProps<boolean>): React.ReactElement {\n\n    return value\n        ? <CheckBox color=\"secondary\"/>\n        : <CheckBoxOutlineBlank color=\"disabled\"/>;\n}\n","import React from \"react\";\n\nimport MarkdownPreview from \"@uiw/react-markdown-preview\";\n\ninterface MarkdownProps {\n    source: string\n}\n\n/**\n * @category Preview components\n */\nexport function Markdown({\n                             source\n                         }: MarkdownProps) {\n    return <MarkdownPreview source={typeof source === \"string\" ? source : \"\"}\n                            style={{\n                                fontSize: \"inherit\",\n                                lineHeight: \"inherit\",\n                                fontFamily: \"inherit\"\n                            }}\n                            components={{\n                                a: (props) => <a {...props}\n                                                 onClick={(e) => e.stopPropagation()}\n                                                 target=\"_blank\">{props.children}</a>\n                            }}\n    />;\n}\n\n","import React from \"react\";\nimport { Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst useStyles = makeStyles<Theme>(theme => createStyles({\n        root: {\n            borderRadius: \"9999px\",\n            backgroundColor: \"rgba(128,128,128,0.1)\",\n            width: \"18px\",\n            height: \"6px\",\n            display: \"inline-block\"\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function EmptyValue() {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}/>\n    );\n}\n","import { CollectionSize } from \"../models\";\nimport { PreviewSize } from \"../preview\";\n\nexport const TINY_THUMBNAIL = 40;\nexport const SMALL_THUMBNAIL = 100;\nexport const REGULAR_THUMBNAIL = 200;\n\nexport function getThumbnailMeasure(size: PreviewSize): number {\n    if (size === \"tiny\")\n        return TINY_THUMBNAIL;\n    else if (size === \"small\")\n        return SMALL_THUMBNAIL;\n    else if (size === \"regular\")\n        return REGULAR_THUMBNAIL;\n    else throw Error(\"Thumbnail size not mapped\");\n}\n\nexport function getPreviewSizeFrom(size: CollectionSize): PreviewSize {\n    switch (size) {\n        case \"xs\":\n        case \"s\":\n            return \"tiny\";\n        case \"m\":\n            return \"small\";\n        case \"l\":\n        case \"xl\":\n            return \"regular\";\n        default:\n            throw Error(\"Missing mapping value in getPreviewSizeFrom\");\n    }\n}\n","import React, { CSSProperties, useMemo, useState } from \"react\";\nimport clsx from \"clsx\";\nimport { IconButton, Theme, Tooltip } from \"@mui/material\";\nimport ContentPasteIcon from \"@mui/icons-material/ContentPaste\";\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\";\n\nimport { PreviewSize } from \"../../preview\";\nimport { getThumbnailMeasure } from \"../util\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\n\nconst useStyles = makeStyles<Theme, { imageSize: number }>(theme => createStyles({\n        image: {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n            borderRadius: \"4px\"\n        },\n        imageWrap: {\n            position: \"relative\",\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            width: ({ imageSize }) => imageSize,\n            height: ({ imageSize }) => imageSize\n        },\n        imageTiny: {\n            position: \"relative\",\n            objectFit: \"cover\",\n            width: ({ imageSize }) => imageSize,\n            height: ({ imageSize }) => imageSize,\n            borderRadius: \"4px\",\n            maxHeight: \"100%\"\n        },\n        copyIcon: {\n            borderRadius: \"9999px\",\n            position: \"absolute\",\n            bottom: -4,\n            right: 32,\n            backgroundColor: theme.palette.common.white\n        },\n        previewIcon: {\n            borderRadius: \"9999px\",\n            position: \"absolute\",\n            bottom: -4,\n            right: -4,\n            backgroundColor: theme.palette.common.white\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport interface ImagePreviewProps {\n    size: PreviewSize,\n    url: string\n}\n\n/**\n * @category Preview components\n */\nexport function ImagePreview({ size, url }: ImagePreviewProps) {\n\n    const [onHover, setOnHover] = useState(false);\n\n    const imageSize = useMemo(() => getThumbnailMeasure(size), [size]);\n    const classes = useStyles({ imageSize });\n\n    if (size === \"tiny\") {\n        return (\n            <img src={url}\n                 key={\"tiny_image_preview_\" + url}\n                 className={classes.imageTiny}/>\n        );\n    }\n\n    const imageStyle: CSSProperties =\n        {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n            borderRadius: \"4px\"\n        };\n\n    return (\n        <div\n            className={classes.imageWrap}\n            key={\"image_preview_\" + url}\n            onMouseEnter={() => setOnHover(true)}\n            onMouseMove={() => setOnHover(true)}\n            onMouseLeave={() => setOnHover(false)}>\n\n            <img src={url}\n                 className={classes.image}\n                 style={imageStyle}/>\n\n            {onHover && (\n                <>\n                    <Tooltip title=\"Copy url to clipboard\">\n                        <div className={classes.copyIcon}>\n                            <IconButton\n                                size={\"small\"}\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    navigator.clipboard.writeText(url);\n                                }}>\n                                <ContentPasteIcon htmlColor={\"#666\"} fontSize={\"small\"} />\n                            </IconButton>\n                        </div>\n                    </Tooltip>\n                    <Tooltip title=\"Open image in new tab\">\n                        <a\n                            className={classes.previewIcon}\n                            href={url}\n                            rel=\"noopener noreferrer\"\n                            target=\"_blank\">\n                            <IconButton\n                                size={\"small\"}\n                                onClick={(e) => e.stopPropagation()}>\n                                <OpenInNewIcon htmlColor={\"#666\"} fontSize={\"small\"} />\n                            </IconButton>\n                        </a>\n                    </Tooltip>\n                </>\n            )}\n        </div>\n\n    );\n}\n","import React from \"react\";\nimport { ArrayProperty, MapProperty } from \"../../models\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\n\nimport { Table, TableBody, TableCell, TableRow } from \"@mui/material\";\nimport { PreviewComponent, PreviewComponentProps } from \"../internal\";\n\n/**\n * @category Preview components\n */\nexport function ArrayOfMapsPreview({\n                                          name,\n                                          value,\n                                          property,\n                                          size\n                                      }: PreviewComponentProps<object[]>) {\n\n    if (property.dataType !== \"array\" || !property.of || property.of.dataType !== \"map\")\n        throw Error(\"Picked wrong preview component ArrayOfMapsPreview\");\n\n    const properties = ((property as ArrayProperty).of as MapProperty).properties;\n    if (!properties) {\n        throw Error(`You need to specify a 'properties' prop (or specify a custom field) in your map property ${name}`);\n    }\n    const values = value;\n    const previewProperties = ((property as ArrayProperty).of as MapProperty).previewProperties;\n\n    if (!values) return null;\n\n\n    let mapProperties = previewProperties;\n    if (!mapProperties || !mapProperties.length) {\n        mapProperties = Object.keys(properties);\n        if (size)\n            mapProperties = mapProperties.slice(0, 3);\n    }\n\n    return (\n        <Table size=\"small\">\n            <TableBody>\n                {values &&\n                values.map((v, index) => {\n                    return (\n                        <TableRow key={`table_${v}_${index}`}\n                                  sx={{\n                                      \"&:last-child th, &:last-child td\": {\n                                          borderBottom: 0\n                                      }\n                                  }}>\n                            {mapProperties && mapProperties.map(\n                                (key) => (\n                                    <TableCell\n                                        key={`table-cell-${key as string}`}\n                                        component=\"th\"\n                                    >\n                                        <ErrorBoundary>\n                                            <PreviewComponent\n                                                name={key as string}\n                                                value={(v as any)[key]}\n                                                property={properties[key as string]}\n                                                size={\"small\"}/>\n                                        </ErrorBoundary>\n                                    </TableCell>\n                                )\n                            )}\n                        </TableRow>\n                    );\n                })}\n            </TableBody>\n        </Table>\n    );\n}\n","import React from \"react\";\n\nimport { EnumValuesChip } from \"./CustomChip\";\nimport { PreviewComponentProps } from \"../internal\";\n\n/**\n * @category Preview components\n */\nexport function NumberPreview({\n                                  name,\n                                  value,\n                                  property,\n                                  size\n                              }: PreviewComponentProps<number>): React.ReactElement {\n\n    if (property.config?.enumValues) {\n        const enumKey = value;\n        const enumValues = property.config.enumValues;\n        return <EnumValuesChip\n            enumKey={enumKey}\n            enumValues={enumValues}\n            small={size !== \"regular\"}/>;\n    } else {\n        return <>{value}</>;\n    }\n}\n","export const defaultDateFormat = \"MMMM dd, yyyy, HH:mm:ss\";\n","import { useContext } from \"react\";\nimport { FireCMSContextInstance } from \"../core/contexts/FireCMSContext\";\n\n/**\n * Hook to retrieve the {@link FireCMSContext}.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS` component.\n *\n * @see FireCMSContext\n * @category Hooks and utilities\n */\nexport const useFireCMSContext = () => useContext(FireCMSContextInstance);\n","import { DataSource } from \"../../models\";\nimport { useFireCMSContext } from \"../useFireCMSContext\";\n\n/**\n * Use this hook to get the datasource being used\n * @category Hooks and utilities\n */\nexport function useDataSource(): DataSource {\n    const context = useFireCMSContext();\n    return context.dataSource;\n}\n","import { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Entity, EntitySchemaResolver, FilterValues } from \"../../models\";\nimport { useDataSource } from \"./useDataSource\";\n\n/**\n * @category Hooks and utilities\n */\nexport interface CollectionFetchProps<M extends { [Key: string]: any }> {\n\n    /**\n     * Absolute collection path\n     */\n    path: string;\n\n    /**\n     * Schema of the entity displayed by this collection\n     */\n    schemaResolver: EntitySchemaResolver<M>;\n\n    /**\n     * Number of entities to fetch\n     */\n    itemCount?: number;\n\n    /**\n     * List of entities that will be displayed on top, no matter the ordering.\n     * This is used for reference fields selection\n     */\n    entitiesDisplayedFirst?: Entity<M>[];\n\n    /**\n     * Filter the fetched data by the property\n     */\n    filterValues?: FilterValues<M>;\n\n    /**\n     * Sort the results by\n     */\n    sortBy?: [Extract<keyof M, string>, \"asc\" | \"desc\"];\n\n    /**\n     * Search string\n     */\n    searchString?: string;\n}\n\n/**\n * @category Hooks and utilities\n */\nexport interface CollectionFetchResult<M extends { [Key: string]: any }> {\n    data: Entity<M>[]\n    dataLoading: boolean,\n    noMoreToLoad: boolean,\n    dataLoadingError?: Error,\n    entitiesLength?: number\n}\n\n/**\n * This hook is used to fetch collections using a given schema\n * @param path\n * @param schemaResolver\n * @param filterValues\n * @param sortBy\n * @param itemCount\n * @param searchString\n * @param entitiesDisplayedFirst\n * @category Hooks and utilities\n */\nexport function useCollectionFetch<M>(\n    {\n        path,\n        schemaResolver,\n        filterValues,\n        sortBy,\n        itemCount,\n        searchString,\n        entitiesDisplayedFirst\n    }: CollectionFetchProps<M>): CollectionFetchResult<M> {\n\n    const sortByProperty = sortBy ? sortBy[0] : undefined;\n    const currentSort = sortBy ? sortBy[1] : undefined;\n\n    const dataSource = useDataSource();\n    const initialEntities = useMemo(() => entitiesDisplayedFirst ? entitiesDisplayedFirst.filter(e => !!e.values) : [], [entitiesDisplayedFirst]);\n    const [data, setData] = useState<Entity<M>[]>(initialEntities);\n\n    const [dataLoading, setDataLoading] = useState<boolean>(false);\n    const [dataLoadingError, setDataLoadingError] = useState<Error | undefined>();\n    const [noMoreToLoad, setNoMoreToLoad] = useState<boolean>(false);\n    const [entitiesLength, setEntitiesLength] = useState<number>(0);\n\n    const updateData = useCallback((entities: Entity<M>[]) => {\n        if (!initialEntities) {\n            setData(entities);\n        } else {\n            const displayedFirstId = new Set(initialEntities.map((e) => e.id));\n            setData([...initialEntities, ...entities.filter((e) => !displayedFirstId.has(e.id))]);\n        }\n    }, [initialEntities]);\n\n    useEffect(() => {\n\n        setDataLoading(true);\n\n        const onEntitiesUpdate = (entities: Entity<M>[]) => {\n            setDataLoading(false);\n            setDataLoadingError(undefined);\n            updateData(entities);\n            setEntitiesLength(entities.length)\n            setNoMoreToLoad(!itemCount || entities.length < itemCount);\n        };\n\n        const onError = (error: Error) => {\n            console.error(\"ERROR\", error);\n            setDataLoading(false);\n            setData([]);\n            setDataLoadingError(error);\n        };\n\n        if (dataSource.listenCollection) {\n            return dataSource.listenCollection<M>({\n                path: path,\n                schema: schemaResolver,\n                onUpdate: onEntitiesUpdate,\n                onError,\n                searchString,\n                filter: filterValues,\n                limit: itemCount,\n                startAfter: undefined,\n                orderBy: sortByProperty,\n                order: currentSort\n            });\n        } else {\n            dataSource.fetchCollection<M>({\n                path: path,\n                schema: schemaResolver,\n                searchString,\n                filter: filterValues,\n                limit: itemCount,\n                startAfter: undefined,\n                orderBy: sortByProperty,\n                order: currentSort\n            })\n                .then(onEntitiesUpdate)\n                .catch(onError);\n            return () => {\n            };\n        }\n    }, [path, itemCount, currentSort, sortByProperty, filterValues, searchString]);\n\n    return {\n        data,\n        dataLoading,\n        dataLoadingError,\n        noMoreToLoad,\n        entitiesLength\n    };\n\n}\n","import { useEffect, useState } from \"react\";\nimport { Entity, EntitySchema, EntitySchemaResolver } from \"../../models\";\nimport { useDataSource } from \"./useDataSource\";\n\n/**\n * @category Hooks and utilities\n */\nexport interface EntityFetchProps<M extends { [Key: string]: any }> {\n    path?: string;\n    entityId?: string;\n    schema?: EntitySchema<M> | EntitySchemaResolver<M>;\n    useCache?: boolean;\n}\n\n/**\n * @category Hooks and utilities\n */\nexport interface EntityFetchResult<M extends { [Key: string]: any }> {\n    entity?: Entity<M>,\n    dataLoading: boolean,\n    dataLoadingError?: Error\n}\n\nconst CACHE:Record<string, Entity<any>| undefined> = {};\n\n/**\n * This hook is used to fetch an entity.\n * It gives real time updates if the datasource supports it.\n * @param path\n * @param schema\n * @param entityId\n * @param useCache\n * @category Hooks and utilities\n */\n\nexport function useEntityFetch<M extends { [Key: string]: any }>(\n    {\n        path,\n        entityId,\n        schema,\n        useCache = false\n    }: EntityFetchProps<M>): EntityFetchResult<M> {\n\n    const dataSource = useDataSource();\n    const [entity, setEntity] = useState<Entity<M> | undefined>();\n    const [dataLoading, setDataLoading] = useState<boolean>(true);\n    const [dataLoadingError, setDataLoadingError] = useState<Error | undefined>();\n\n    useEffect(() => {\n\n        setDataLoading(true);\n\n        const onEntityUpdate = (updatedEntity: Entity<M> | undefined) => {\n            CACHE[`${path}/${entityId}`] = updatedEntity;\n            setEntity(updatedEntity);\n            setDataLoading(false);\n            setDataLoadingError(undefined);\n        };\n\n        const onError = (error: Error) => {\n            console.error(\"ERROR fetching entity\", error);\n            setDataLoading(false);\n            setEntity(undefined);\n            setDataLoadingError(error);\n        };\n\n        if (useCache && CACHE[`${path}/${entityId}`]) {\n            setEntity(CACHE[`${path}/${entityId}`]);\n            setDataLoading(false);\n            setDataLoadingError(undefined);\n            return () => {\n            };\n        } else if (entityId && path && schema) {\n            if (dataSource.listenEntity) {\n                return dataSource.listenEntity<M>({\n                    path,\n                    entityId,\n                    schema,\n                    onUpdate: onEntityUpdate,\n                    onError\n                });\n            } else {\n                dataSource.fetchEntity<M>({\n                    path,\n                    entityId,\n                    schema\n                })\n                    .then(onEntityUpdate)\n                    .catch(onError);\n                return () => {\n                };\n            }\n        }\n        // if no entityId is provided we do nothing\n        else {\n            onEntityUpdate(undefined);\n            return () => {\n            };\n        }\n    }, [entityId, path]);\n\n    return {\n        entity,\n        dataLoading,\n        dataLoadingError\n    };\n\n}\n","import {\n    DataSource,\n    Entity,\n    EntityCallbacks,\n    EntityValues,\n    FireCMSContext,\n    SaveEntityProps\n} from \"../../models\";\nimport { useDataSource } from \"./useDataSource\";\nimport { computeSchema } from \"../../core/utils\";\n\n/**\n * @category Hooks and utilities\n */\nexport type SaveEntityWithCallbacksProps<M> =\n    SaveEntityProps<M> &\n    {\n        callbacks?: EntityCallbacks<M>;\n        onSaveSuccess?: (updatedEntity: Entity<M>) => void,\n        onSaveFailure?: (e: Error) => void,\n        onPreSaveHookError?: (e: Error) => void,\n        onSaveSuccessHookError?: (e: Error) => void\n    }\n\n/**\n * This function is in charge of saving an entity to the datasource.\n * It will run all the save callbacks specified in the schema.\n * It is also possible to attach callbacks on save success or error, and callback\n * errors.\n *\n * If you just want to save the data without running the `onSaveSuccess`,\n * `onSaveFailure` and `onPreSave` callbacks, you can use the `saveEntity` method\n * in the datasource ({@link useDataSource}).\n *\n * @param schema\n * @param path\n * @param entityId\n * @param callbacks\n * @param values\n * @param previousValues\n * @param status\n * @param dataSource\n * @param context\n * @param onSaveSuccess\n * @param onSaveFailure\n * @param onPreSaveHookError\n * @param onSaveSuccessHookError\n * @see useDataSource\n * @category Hooks and utilities\n */\nexport async function saveEntityWithCallbacks<M, UserType>({\n                                                               schema,\n                                                               path,\n                                                               entityId,\n                                                               callbacks,\n                                                               values,\n                                                               previousValues,\n                                                               status,\n                                                               dataSource,\n                                                               context,\n                                                               onSaveSuccess,\n                                                               onSaveFailure,\n                                                               onPreSaveHookError,\n                                                               onSaveSuccessHookError\n                                                           }: SaveEntityWithCallbacksProps<M> & {\n                                                               dataSource: DataSource,\n                                                               context: FireCMSContext<UserType>,\n                                                           }\n): Promise<void> {\n\n    let updatedValues: Partial<EntityValues<M>>;\n\n    if (callbacks?.onPreSave) {\n        try {\n            const resolvedSchema = computeSchema({\n                values: previousValues as EntityValues<M>,\n                entityId,\n                schemaOrResolver: schema,\n                path\n            });\n            updatedValues = await callbacks.onPreSave({\n                schema: resolvedSchema,\n                path,\n                entityId,\n                values,\n                previousValues,\n                status,\n                context\n            });\n        } catch (e: any) {\n            console.error(e);\n            if (onPreSaveHookError)\n                onPreSaveHookError(e);\n            return;\n        }\n    } else {\n        updatedValues = values;\n    }\n\n    return dataSource.saveEntity({\n        schema,\n        path,\n        entityId,\n        values: updatedValues,\n        previousValues,\n        status\n    }).then((entity) => {\n        try {\n            if (callbacks?.onSaveSuccess) {\n                const resolvedSchema = computeSchema({\n                    values: updatedValues as EntityValues<M>,\n                    entityId,\n                    schemaOrResolver: schema,\n                    path\n                });\n                callbacks.onSaveSuccess({\n                    schema: resolvedSchema,\n                    path,\n                    entityId: entity.id,\n                    values: updatedValues,\n                    previousValues,\n                    status,\n                    context\n                });\n            }\n        } catch (e: any) {\n            if (onSaveSuccessHookError)\n                onSaveSuccessHookError(e);\n        }\n        if (onSaveSuccess)\n            onSaveSuccess(entity);\n    })\n        .catch((e) => {\n            if (callbacks?.onSaveFailure) {\n                const resolvedSchema = computeSchema({\n                    values: updatedValues as EntityValues<M>,\n                    entityId,\n                    schemaOrResolver: schema,\n                    path\n                });\n                callbacks.onSaveFailure({\n                    schema: resolvedSchema,\n                    path,\n                    entityId,\n                    values: updatedValues,\n                    previousValues,\n                    status,\n                    context\n                });\n            }\n            if (onSaveFailure) onSaveFailure(e);\n        });\n}\n","import {\n    DataSource,\n    DeleteEntityProps,\n    Entity,\n    EntityCallbacks,\n    EntityOnDeleteProps,\n    FireCMSContext,\n    ResolvedEntitySchema\n} from \"../../models\";\n\n/**\n * @category Hooks and utilities\n */\nexport type DeleteEntityWithCallbacksProps<M> =\n    DeleteEntityProps<M>\n    & {\n    callbacks?: EntityCallbacks<M>;\n    onDeleteSuccess?: (entity: Entity<M>) => void;\n    onDeleteFailure?: (entity: Entity<M>, e: Error) => void;\n    onPreDeleteHookError?: (entity: Entity<M>, e: Error) => void;\n    onDeleteSuccessHookError?: (entity: Entity<M>, e: Error) => void;\n}\n\n/**\n * This function is in charge of deleting an entity in the datasource.\n * It will run all the delete callbacks specified in the schema.\n * It is also possible to attach callbacks on save success or error, and callback\n * errors.\n *\n * If you just want to delete the data without running the `onPreDelete`,\n * and `onDelete` callbacks, you can use the `deleteEntity` method\n * in the datasource ({@link useDataSource}).\n *\n * @param dataSource\n * @param entity\n * @param schema\n * @param callbacks\n * @param onDeleteSuccess\n * @param onDeleteFailure\n * @param onPreDeleteHookError\n * @param onDeleteSuccessHookError\n * @param context\n * @category Hooks and utilities\n */\nexport async function deleteEntityWithCallbacks<M, UserType>({\n                                                                 dataSource,\n                                                                 entity,\n                                                                 schema,\n                                                                 callbacks,\n                                                                 onDeleteSuccess,\n                                                                 onDeleteFailure,\n                                                                 onPreDeleteHookError,\n                                                                 onDeleteSuccessHookError,\n                                                                 context\n                                                             }: DeleteEntityWithCallbacksProps<M> & {\n                                                                 schema: ResolvedEntitySchema<M>,\n                                                                 dataSource: DataSource,\n                                                                 context: FireCMSContext<UserType>\n                                                             }\n): Promise<boolean> {\n\n    console.debug(\"Deleting entity\", entity.path, entity.id);\n\n    const entityDeleteProps: EntityOnDeleteProps<M> = {\n        entity,\n        schema,\n        entityId: entity.id,\n        path: entity.path,\n        context\n    };\n\n    if (callbacks?.onPreDelete) {\n        try {\n            await callbacks.onPreDelete(entityDeleteProps);\n        } catch (e: any) {\n            console.error(e);\n            if (onPreDeleteHookError)\n                onPreDeleteHookError(entity, e);\n            return false;\n        }\n    }\n    return dataSource.deleteEntity({\n        entity\n    }).then(() => {\n        onDeleteSuccess && onDeleteSuccess(entity);\n        try {\n            if (callbacks?.onDelete) {\n                callbacks.onDelete(entityDeleteProps);\n            }\n            return true;\n        } catch (e: any) {\n            if (onDeleteSuccessHookError)\n                onDeleteSuccessHookError(entity, e);\n            return false;\n        }\n    }).catch((e) => {\n        if (onDeleteFailure) onDeleteFailure(entity, e);\n        return false;\n    });\n}\n","import { useEffect, useRef } from \"react\";\nimport { CMSType, Property } from \"../models\";\n\n/**\n * Hook we use to restore a value after it has been cleared\n * @param property\n * @param value\n * @param setValue\n * @ignore\n */\nexport function useClearRestoreValue<T extends CMSType>({\n                                                            property,\n                                                            value,\n                                                            setValue\n                                                        }:\n                                                            {\n                                                                property: Property<T>,\n                                                                value: T,\n                                                                setValue: (value: T | null, shouldValidate?: boolean) => void\n                                                            }) {\n\n    const clearedValueRef = useRef<T | null>(null);\n    useEffect(() => {\n        const shouldClearValueIfDisabled = typeof property.disabled === \"object\" && Boolean(property.disabled.clearOnDisabled);\n        if (shouldClearValueIfDisabled) {\n            if (value != null) {\n                clearedValueRef.current = value;\n                setValue(null);\n            }\n        } else if (clearedValueRef.current) {\n            setValue(clearedValueRef.current);\n            clearedValueRef.current = null;\n        }\n    }, [property]);\n}\n","import { NavigationContext } from \"../models\";\nimport { useFireCMSContext } from \"./useFireCMSContext\";\n\n\n/**\n * Use this hook to get the navigation of the app.\n * Note that if can be undefined if the navigation has not yet been\n * resolved (you used a {@link NavigationBuilder} and the user is not\n * authenticated.\n *\n * @category Hooks and utilities\n */\nexport function useNavigation(): NavigationContext {\n    const context = useFireCMSContext();\n    return context.navigationContext;\n}\n","import {\n    Entity,\n    EntityCollection,\n    EntityCustomView,\n    FireCMSContext\n} from \"../models\";\nimport { useEffect, useState } from \"react\";\nimport { getNavigationEntriesFromPathInternal } from \"../core/util/navigation_from_path\";\nimport { useFireCMSContext } from \"./useFireCMSContext\";\n\n/**\n * @see resolveNavigationFrom\n * @category Hooks and utilities\n */\nexport type ResolvedNavigationEntry<M> =\n    | ResolvedNavigationEntity<M>\n    | ResolvedNavigationCollection<M>\n    | ResolvedNavigationEntityCustom<M>;\n\n/**\n * @see resolveNavigationFrom\n * @category Hooks and utilities\n */\nexport interface ResolvedNavigationEntity<M> {\n    type: \"entity\";\n    entity: Entity<M>;\n    entityId: string;\n    path: string;\n    parentCollection: EntityCollection<M>;\n}\n\n/**\n * @see resolveNavigationFrom\n * @category Hooks and utilities\n */\nexport interface ResolvedNavigationCollection<M> {\n    type: \"collection\";\n    path: string;\n    collection: EntityCollection<M>;\n}\n\n/**\n * @see resolveNavigationFrom\n * @category Hooks and utilities\n */\ninterface ResolvedNavigationEntityCustom<M> {\n    type: \"custom_view\";\n    path: string;\n    view: EntityCustomView<M>;\n}\n\n/**\n * Use this function to retrieve an array of navigation entries (resolved\n * collection, entity or entity custom_view) for the given path. You need to pass the app context\n * that you receive in different callbacks, such as the save hooks.\n *\n * It will take into account the `navigation` provided at the `FireCMS` level, as\n * well as a `schemaResolver` if provided.\n *\n * @param path\n * @param context\n * @category Hooks and utilities\n */\nexport function resolveNavigationFrom<M, UserType>({\n                                             path,\n                                             context\n                                         }: { path: string, context: FireCMSContext<UserType> }): Promise<ResolvedNavigationEntry<M>[]> {\n\n\n    const dataSource = context.dataSource;\n    const navigationContext = context.navigationContext;\n    const navigation = context.navigationContext.navigation;\n\n    if (!navigation) {\n        throw Error(\"Calling getNavigationFrom, but main navigation has not yet been initialised\");\n    }\n\n\n    const navigationEntries = getNavigationEntriesFromPathInternal({\n        path,\n        collections: navigation.collections\n    });\n\n    const resultPromises: Promise<ResolvedNavigationEntry<any>>[] = navigationEntries.map((entry) => {\n        if (entry.type === \"collection\") {\n            return Promise.resolve(entry);\n        } else if (entry.type === \"entity\") {\n            const entityCollectionResolver = navigationContext.getCollectionResolver(entry.path, entry.entityId);\n            if (!entityCollectionResolver?.schemaResolver) {\n                throw Error(`No schema defined in the navigation for the entity with path ${entry.path}`);\n            }\n\n            return dataSource.fetchEntity({\n                path: entry.path,\n                entityId: entry.entityId,\n                schema: entityCollectionResolver?.schemaResolver\n            })\n                .then((entity) => {\n                    return { ...entry, entity };\n                });\n        } else if (entry.type === \"custom_view\") {\n            return Promise.resolve(entry);\n        } else {\n            throw Error(\"Unmapped element in useEntitiesFromPath\");\n        }\n    });\n\n    return Promise.all(resultPromises);\n}\n\n/**\n * @category Hooks and utilities\n */\nexport interface NavigationFromProps {\n    path: string;\n}\n\n/**\n * @category Hooks and utilities\n */\nexport interface NavigationFrom<M> {\n    data?: ResolvedNavigationEntry<M>[]\n    dataLoading: boolean,\n    dataLoadingError?: Error\n}\n\n/**\n * Use this hook to retrieve an array of navigation entries (resolved\n * collection or entity) for the given path. You can use this hook\n * in any React component that lives under `FireCMS`\n * @category Hooks and utilities\n */\nexport function useResolvedNavigationFrom<M, UserType>(\n    {\n        path\n    }: NavigationFromProps): NavigationFrom<M> {\n\n    const context: FireCMSContext<UserType> = useFireCMSContext();\n\n    const [data, setData] = useState<ResolvedNavigationEntry<M>[] | undefined>();\n    const [dataLoading, setDataLoading] = useState<boolean>(false);\n    const [dataLoadingError, setDataLoadingError] = useState<Error | undefined>();\n\n    useEffect(() => {\n\n        const navigation = context.navigationContext.navigation;\n        if (navigation) {\n            setDataLoading(true);\n            setDataLoadingError(undefined);\n            resolveNavigationFrom<M, UserType>({ path, context })\n                .then((res) => {\n                    setData(res);\n                })\n                .catch((e) => setDataLoadingError(e))\n                .finally(() => setDataLoading(false));\n        }\n\n    }, [path, context]);\n\n    if (!context.navigationContext.navigation) {\n        return { dataLoading: true };\n    }\n\n    return { data, dataLoading, dataLoadingError };\n}\n","import { StorageSource } from \"../models\";\nimport { useFireCMSContext } from \"./useFireCMSContext\";\n\n/**\n * Use this hook to get the storage source being used\n * @category Hooks and utilities\n */\nexport function useStorageSource(): StorageSource {\n    const context = useFireCMSContext();\n    return context.storageSource;\n}\n","import { AuthController, User } from \"../models\";\nimport { useFireCMSContext } from \"./useFireCMSContext\";\n\n/**\n * Hook to retrieve the AuthContext.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS`\n *\n * @see AuthController\n * @category Hooks and utilities\n */\nexport function useAuthController<UserType extends User = User>(): AuthController<UserType> {\n    const context = useFireCMSContext();\n    return context.authController;\n}\n","import { AuthController, SideEntityController } from \"../models\";\nimport { useFireCMSContext } from \"./useFireCMSContext\";\n\n/**\n * Hook to retrieve the side entity controller.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS`\n *\n * @see AuthController\n * @category Hooks and utilities\n */\nexport function useSideEntityController(): SideEntityController {\n    const context = useFireCMSContext();\n    return context.sideEntityController;\n}\n","import { useContext } from \"react\";\nimport { SnackbarContext } from \"../core/contexts/SnackbarContext\";\n\n/**\n * Possible snackbar types\n * @category Hooks and utilities\n */\nexport type SnackbarMessageType = \"success\" | \"info\" | \"warning\" | \"error\";\n\n/**\n * Controller to display snackbars\n * @category Hooks and utilities\n */\nexport interface SnackbarController {\n    /**\n     * Is there currently an open snackbar\n     */\n    isOpen: boolean;\n\n    /**\n     * Close the currently open snackbar\n     */\n    close: () => void;\n\n    /**\n     * Display a new snackbar. You need to specify the type and message.\n     * You can optionally specify a title\n     */\n    open: (props: {\n        type: SnackbarMessageType;\n        title?: string;\n        message: string;\n    }) => void;\n}\n\n/**\n * Hook to retrieve the SnackbarContext.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS`\n *\n * @see SnackbarController\n * @category Hooks and utilities\n */\nexport const useSnackbarController = () => useContext<SnackbarController>(SnackbarContext);\n","import { ModeStateContext } from \"../core/contexts/ModeState\";\nimport { useContext } from \"react\";\n\n/**\n * @category Hooks and utilities\n */\nexport interface ModeState {\n    mode: \"light\" | \"dark\";\n    setMode: (mode: \"light\" | \"dark\") => void;\n    toggleMode: () => void;\n}\n\n/**\n * Hook to retrieve the current mode (\"light\" | \"dark\"), and `setMode`\n * or `toggle` functions to change it.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS`\n *\n * @see ModeState\n * @category Hooks and utilities\n */\nexport const useModeState = () => useContext(ModeStateContext);\n","// FORKED FROM https://github.com/fayeed/use-clipboard\n\nimport {\n    MutableRefObject,\n    useCallback,\n    useEffect,\n    useRef,\n    useState\n} from \"react\";\n\n\nexport interface UseClipboardProps {\n    /**\n     * It's callback function that is called after the `copy` command\n     * is executed.\n     *\n     * @param text: The selected clipboard text.\n     */\n    onSuccess?: (text: string) => void;\n\n    /**\n     * Triggers when the hook encounters an error.\n     * If passed hook won't throw an error.\n     *\n     * @param error: cause of the error\n     */\n    onError?: (error: string) => void;\n\n    /**\n     * Disables the new clipboard API `navigator.clipboard` even if\n     * it is supported.\n     */\n    disableClipboardAPI?: boolean;\n\n    /**\n     * revert back the isCopied flag to false again if a value is set.\n     */\n    copiedDuration?: number;\n}\n\nexport interface useClipboardReturnType {\n    /**\n     * Use ref to pull the text content from.\n     */\n    ref: MutableRefObject<any>;\n\n    /**\n     * Use it to perform the copy operation\n     */\n    copy: (text?: string) => void;\n\n    /**\n     * Use it to perform the cut operation\n     */\n    cut: () => void;\n\n    /**\n     * Indicates wheater the content was successfully copied or not.\n     */\n    isCoppied: boolean;\n\n    /**\n     * Current selected clipboard content.\n     */\n    clipboard: string;\n\n    /**\n     * Clears the user clipboard.\n     */\n    clearClipboard: () => void;\n\n    /**\n     * Check to see if the browser supports the new `navigator.clipboard` API.\n     */\n    isSupported: () => boolean;\n}\n\nexport const useClipboard = (\n    options?: UseClipboardProps\n): useClipboardReturnType => {\n    const { onSuccess, onError, disableClipboardAPI = false, copiedDuration } =\n    options || {};\n    const ref = useRef<any>(null);\n    const [isCoppied, setIsCoppied] = useState(false);\n    const [clipboard, setClipbaord] = useState(\"\");\n\n    useEffect(() => {\n        if (copiedDuration) setTimeout(() => setIsCoppied(false), copiedDuration);\n    }, [isCoppied]);\n\n    const isSupported = () => navigator.clipboard !== undefined;\n\n    const handleError = useCallback((error: string) => {\n        if (onError) onError(error);\n        else throw new Error(error);\n    }, [onError]);\n\n    const handleSuccess = useCallback((text: string) => {\n        if (onSuccess) onSuccess(text);\n        setIsCoppied(true);\n        setClipbaord(text);\n    }, [onSuccess]);\n\n    const copyToClipboard = useCallback((text: string) => {\n        navigator.clipboard\n            .writeText(text)\n            .then(() => handleSuccess(text))\n            .catch((err) => {\n                handleError(err);\n                setIsCoppied(false);\n            });\n    }, [handleError, handleSuccess]);\n\n    const clearClipboard = () => {\n        if (isSupported()) {\n            navigator.clipboard.writeText(\"\");\n        }\n    };\n\n    const copy = (text?: string) =>\n        action(\"copy\", typeof text === \"object\" ? undefined : text);\n\n    const cut = () => action(\"cut\");\n\n    const action = useCallback(\n        (operation = \"copy\", text?: string) => {\n            const element = ref.current as HTMLElement;\n\n            const isInput =\n                element &&\n                (element.tagName === \"INPUT\" || element.tagName === \"TEXTAREA\");\n\n            const input = ref.current as HTMLInputElement;\n\n            if (isSupported() && !disableClipboardAPI) {\n                if (text) {\n                    copyToClipboard(text);\n                } else if (element) {\n                    if (isInput) {\n                        copyToClipboard(input.value);\n\n                        if (operation === \"cut\") {\n                            input.value = \"\";\n                        }\n                    } else {\n                        copyToClipboard(element.innerText);\n                    }\n                } else {\n                    handleError(\"Both the ref & text were undefined\");\n                }\n            }\n        },\n        [disableClipboardAPI, copyToClipboard, handleError]\n    );\n\n    return {\n        ref,\n        isCoppied,\n        clipboard,\n        clearClipboard,\n        isSupported,\n        copy,\n        cut\n    };\n};\n","import { PreviewComponentProps } from \"../internal\";\nimport React from \"react\";\n\nimport format from \"date-fns/format\";\nimport * as locales from \"date-fns/locale\";\nimport { defaultDateFormat } from \"../../core/util/dates\";\nimport { FireCMSContext } from \"../../models\";\nimport { useFireCMSContext } from \"../../hooks\";\n\n/**\n * @category Preview components\n */\nexport function TimestampPreview({\n                                     name,\n                                     value,\n                                     property,\n                                     size\n                                 }: PreviewComponentProps<Date>): React.ReactElement {\n\n\n    const appConfig: FireCMSContext<any> | undefined = useFireCMSContext();\n    const dateUtilsLocale = appConfig?.locale ? locales[appConfig?.locale] : undefined;\n    const dateFormat: string = appConfig?.dateTimeFormat ?? defaultDateFormat;\n    const formattedDate = value ? format(value, dateFormat, { locale: dateUtilsLocale }) : \"\";\n\n    return (\n        <>\n            {formattedDate}\n        </>\n    );\n}\n","import React from \"react\";\nimport { CardMedia, Link, Theme } from \"@mui/material\";\n\nimport DescriptionOutlinedIcon from \"@mui/icons-material/DescriptionOutlined\";\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\";\n\nimport { MediaType } from \"../../models\";\nimport { PreviewComponentProps } from \"../internal\";\nimport { ImagePreview } from \"./ImagePreview\";\nimport { getThumbnailMeasure } from \"../util\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        flexCenter: {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        smallMargin: {\n            margin: theme.spacing(1)\n        },\n        arrayWrap: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n        },\n        array: {\n            display: \"flex\",\n            flexDirection: \"column\"\n        },\n        arrayItem: {\n            margin: theme.spacing(0.5)\n        },\n        arrayItemBig: {\n            margin: theme.spacing(1)\n        },\n        link: {\n            display: \"flex\",\n            wordBreak: \"break-word\",\n            fontWeight: theme.typography.fontWeightMedium\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function UrlComponentPreview({\n                                        value,\n                                        property,\n                                        size\n                                    }: PreviewComponentProps<string>): React.ReactElement {\n\n    const classes = useStyles();\n\n    if (!value) return <div/>;\n    const url = value;\n    if (typeof property.config?.url === \"boolean\" && property.config.url) {\n        return (\n            <Link className={classes.link}\n                  href={url}\n                  onMouseDown={(e: React.MouseEvent) => {\n                      e.preventDefault();\n                  }}\n                  target=\"_blank\">\n                <OpenInNewIcon style={{ marginRight: 8 }} fontSize={\"small\"}/>\n                {url}\n            </Link>\n        );\n    }\n\n    const mediaType: MediaType = property.config?.url as MediaType ||\n        property.config?.storageMeta?.mediaType;\n    if (mediaType === \"image\") {\n        return <ImagePreview key={`image_preview_${url}_${size}`}\n                             url={url}\n                             size={size}/>;\n    } else if (mediaType === \"audio\") {\n        return <audio controls\n                      src={url}\n                      key={`audio_preview_${url}_${size}`}>\n            Your browser does not support the\n            <code>audio</code> element.\n        </audio>;\n    } else if (mediaType === \"video\") {\n        return <CardMedia\n            key={`video_preview_${url}_${size}`}\n            style={{ maxWidth: size === \"small\" ? 300 : 500 }}\n            component=\"video\"\n            controls\n            image={url}\n        />;\n    } else {\n        return <a\n            key={`link_preview_${url}_${size}`}\n            href={url}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n            onClick={(e) => e.stopPropagation()}>\n            <div className={classes.flexCenter}\n                 style={{\n                     width: getThumbnailMeasure(size),\n                     height: getThumbnailMeasure(size)\n                 }}>\n                <DescriptionOutlinedIcon/>\n            </div>\n        </a>;\n    }\n}\n","import {\n    ArrayProperty,\n    MapProperty,\n    Properties,\n    Property,\n    StringProperty\n} from \"../../models\";\nimport React from \"react\";\nimport {\n    Box,\n    Grid,\n    List,\n    ListItem,\n    Skeleton,\n    Table,\n    TableBody,\n    TableCell,\n    TableRow\n} from \"@mui/material\";\nimport { PreviewSize } from \"../../preview\";\nimport { getThumbnailMeasure } from \"../util\";\n\nexport interface SkeletonComponentProps {\n    property: Property,\n    size: PreviewSize\n}\n\n/**\n * @category Preview components\n */\nexport function SkeletonComponent({\n                                         property,\n                                         size\n                                     }: SkeletonComponentProps\n) {\n\n    if (!property) {\n        console.error(\"No property assigned for skeleton component\", property, size);\n    }\n\n    let content: JSX.Element | any;\n    if (property.dataType === \"string\") {\n        const stringProperty = property as StringProperty;\n        if (stringProperty.config?.url) {\n            content = renderUrlComponent(stringProperty, size);\n        } else if (stringProperty.config?.storageMeta) {\n            content = renderSkeletonImageThumbnail(size);\n        } else {\n            content = renderSkeletonText();\n        }\n    } else if (property.dataType === \"array\") {\n        const arrayProperty = property as ArrayProperty;\n\n        if (arrayProperty.of) {\n            if (arrayProperty.of.dataType === \"map\" && arrayProperty.of.properties) {\n                content = renderArrayOfMaps(arrayProperty.of.properties, size, arrayProperty.of.previewProperties);\n            } else if (arrayProperty.of.dataType === \"string\") {\n                if (arrayProperty.of.config?.enumValues) {\n                    content = renderArrayEnumTableCell();\n                } else if (arrayProperty.of.config?.storageMeta) {\n                    content = renderGenericArrayCell(arrayProperty.of);\n                } else {\n                    content = renderArrayOfStrings();\n                }\n            } else {\n                content = renderGenericArrayCell(arrayProperty.of);\n            }\n        }\n\n    } else if (property.dataType === \"map\") {\n        content = renderMap(property as MapProperty, size);\n    } else if (property.dataType === \"timestamp\") {\n        content = renderSkeletonText();\n    } else if (property.dataType === \"reference\") {\n        content = renderReference();\n    } else if (property.dataType === \"boolean\") {\n        content = renderSkeletonText();\n    } else {\n        content = renderSkeletonText();\n    }\n    return (content || null);\n}\n\nfunction renderMap<T extends object>(property: MapProperty<T>, size: PreviewSize) {\n\n    if (!property.properties)\n        return <></>;\n\n    let mapProperties: string[];\n    if (!size) {\n        mapProperties = Object.keys(property.properties);\n    } else {\n        if (property.previewProperties)\n            mapProperties = property.previewProperties as string[];\n        else\n            mapProperties = Object.keys(property.properties).slice(0, 3);\n    }\n\n    if (size)\n        return (\n            <List>\n                {mapProperties && mapProperties.map((key: string) => (\n                    <ListItem key={property.title + key}>\n                        <SkeletonComponent\n                            property={(property.properties as any)[key]}\n                            size={\"small\"}/>\n                    </ListItem>\n                ))}\n            </List>\n        );\n\n    return (\n        <Table size={\"small\"}>\n            <TableBody>\n                {mapProperties &&\n                mapProperties.map((key, index) => {\n                    return (\n                        <TableRow key={`table_${property.title}_${index}`}\n                                  sx={{\n                                      \"&:last-child th, &:last-child td\": {\n                                          borderBottom: 0\n                                      }\n                                  }}>\n                            <TableCell key={`table-cell-title-${key}`}\n                                       component=\"th\">\n                                <Skeleton variant=\"text\"/>\n                            </TableCell>\n                            <TableCell key={`table-cell-${key}`} component=\"th\">\n                                <SkeletonComponent\n                                    property={(property.properties as any)[key]}\n                                    size={\"small\"}/>\n                            </TableCell>\n                        </TableRow>\n                    );\n                })}\n            </TableBody>\n        </Table>\n    );\n\n}\n\nfunction renderArrayOfMaps<M>(properties: Properties<M>, size: PreviewSize, previewProperties?: string[]) {\n    let tableProperties = previewProperties;\n    if (!tableProperties || !tableProperties.length) {\n        tableProperties = Object.keys(properties) as string[];\n        if (size)\n            tableProperties = tableProperties.slice(0, 3);\n    }\n\n    return (\n        <Table size={\"small\"}>\n            <TableBody>\n                {\n                    [0, 1, 2].map((value, index) => {\n                        return (\n                            <TableRow key={`table_${value}_${index}`}>\n                                {tableProperties && tableProperties.map(\n                                    (key) => (\n                                        <TableCell\n                                            key={`table-cell-${key}`}\n                                            component=\"th\"\n                                        >\n                                            <SkeletonComponent\n                                                property={(properties as any)[key]}\n                                                size={\"small\"}/>\n                                        </TableCell>\n                                    )\n                                )}\n                            </TableRow>\n                        );\n                    })}\n            </TableBody>\n        </Table>\n    );\n}\n\nfunction renderArrayOfStrings() {\n    return (\n        <Grid>\n            {\n                [0, 1].map((value, index) => (\n                    renderSkeletonText(index)\n                ))}\n        </Grid>\n    );\n}\n\nfunction renderArrayEnumTableCell() {\n    return (\n        <Grid>\n            {\n                [0, 1].map((value, index) =>\n                    <>\n                        {renderSkeletonText(index)}\n                    </>\n                )}\n        </Grid>\n    );\n}\n\nfunction renderGenericArrayCell(\n    property: Property\n) {\n    return (\n        <Grid>\n\n            {\n                [0, 1].map((value, index) =>\n                    <>\n                        <SkeletonComponent property={property}\n                                           size={\"small\"}/>\n                    </>\n                )}\n        </Grid>\n    );\n}\n\nfunction renderUrlAudioComponent() {\n    return (\n        <Skeleton variant=\"rectangular\"\n                  width={300}\n                  height={100}/>\n    );\n}\n\nexport function renderSkeletonImageThumbnail(size: PreviewSize) {\n    const imageSize = size === \"tiny\" ? 40 : size === \"small\" ? 100 : 200;\n    return (\n        <Skeleton variant=\"rectangular\"\n                  width={imageSize}\n                  height={imageSize}/>\n    );\n}\n\nfunction renderUrlVideo(size: PreviewSize) {\n\n    return (\n        <Skeleton variant=\"rectangular\"\n                  width={size !== \"regular\" ? 300 : 500}\n                  height={size !== \"regular\" ? 200 : 250}/>\n    );\n}\n\nfunction renderReference() {\n    return <Skeleton variant=\"rectangular\" width={200} height={100}/>;\n}\n\n\nfunction renderUrlComponent(property: StringProperty, size: PreviewSize = \"regular\") {\n\n    if (typeof property.config?.url === \"boolean\" && property.config.url) {\n        return <div style={{\n            display: \"flex\"\n        }}>\n            {renderSkeletonIcon()}\n            {renderSkeletonText()}\n        </div>;\n    }\n\n    const mediaType = property.config?.url || property.config?.storageMeta?.mediaType;\n    if (mediaType === \"image\") {\n        return renderSkeletonImageThumbnail(size);\n    } else if (mediaType === \"audio\") {\n        return renderUrlAudioComponent();\n    } else if (mediaType === \"video\") {\n        return renderUrlVideo(size);\n    } else {\n        return renderUrlFile(size);\n    }\n}\n\nfunction renderUrlFile(size: PreviewSize) {\n\n    return (\n        <Box\n            sx={{\n                width: getThumbnailMeasure(size),\n                height: getThumbnailMeasure(size)\n            }}>\n            {renderSkeletonIcon()}\n        </Box>\n    );\n}\n\nfunction renderSkeletonText(index?: number) {\n    return <Skeleton variant=\"text\" key={`skeleton_${index}`}/>;\n}\n\nexport function renderSkeletonCaptionText(index?: number) {\n    return <Skeleton\n        height={20}\n        variant=\"text\"/>;\n}\n\nexport function renderSkeletonIcon() {\n    return <Skeleton variant=\"rectangular\" width={24} height={24}/>;\n}\n\n","import React, { useEffect } from \"react\";\n\nimport { renderSkeletonImageThumbnail } from \"./SkeletonComponent\";\nimport { UrlComponentPreview } from \"./UrlComponentPreview\";\nimport { PreviewComponentProps } from \"../internal\";\nimport { useStorageSource } from \"../../hooks\";\n\n/**\n * @category Preview components\n */\nexport const StorageThumbnail = React.memo<PreviewComponentProps<string>>(StorageThumbnailInternal, areEqual) as React.FunctionComponent<PreviewComponentProps<string>>;\n\nfunction areEqual(prevProps: PreviewComponentProps<string>, nextProps: PreviewComponentProps<string>) {\n    return prevProps.name === nextProps.name &&\n        prevProps.size === nextProps.size &&\n        prevProps.height === nextProps.height &&\n        prevProps.width === nextProps.width &&\n        prevProps.value === nextProps.value;\n}\n\nconst URL_CACHE: Record<string, string> = {};\n\nexport function StorageThumbnailInternal({\n                                             name,\n                                             value,\n                                             property,\n                                             size\n                                         }: PreviewComponentProps<string>) {\n    const storage = useStorageSource();\n\n    const storagePathOrDownloadUrl = value;\n\n    const [url, setUrl] = React.useState<string>(URL_CACHE[storagePathOrDownloadUrl]);\n\n\n    useEffect(() => {\n        if (!storagePathOrDownloadUrl)\n            return;\n        let unmounted = false;\n        if (property.config?.storageMeta?.storeUrl) {\n            setUrl(storagePathOrDownloadUrl);\n            URL_CACHE[storagePathOrDownloadUrl] = storagePathOrDownloadUrl;\n        } else if (storagePathOrDownloadUrl)\n            storage.getDownloadURL(storagePathOrDownloadUrl)\n                .then(function (downloadURL) {\n                    if (!unmounted) {\n                        setUrl(downloadURL);\n                        URL_CACHE[storagePathOrDownloadUrl] = downloadURL;\n                    }\n                });\n        return () => {\n            unmounted = true;\n        };\n    }, [property.config?.storageMeta?.storeUrl, storagePathOrDownloadUrl]);\n\n    if (!storagePathOrDownloadUrl) return null;\n\n    return url\n        ? <UrlComponentPreview name={name}\n                             value={url}\n                             property={property}\n                             size={size}/>\n        : renderSkeletonImageThumbnail(size);\n}\n","import React from \"react\";\n\nimport {\n    PreviewComponent,\n    PreviewComponentProps,\n    PreviewSize\n} from \"../internal\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { Property } from \"../../models\";\n\nimport { Theme } from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        arrayWrap: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n        },\n        arrayItem: {\n            margin: theme.spacing(0.5)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayOfStorageComponentsPreview({\n                                                    name,\n                                                    value,\n                                                    property,\n                                                    size\n                                                }: PreviewComponentProps<any[]>) {\n\n    if (property.dataType !== \"array\" || !property.of || property.of.dataType !== \"string\")\n        throw Error(\"Picked wrong preview component ArrayOfStorageComponentsPreview\");\n\n    const childSize: PreviewSize = size === \"regular\" ? \"small\" : \"tiny\";\n    const classes = useStyles();\n\n    return <div className={classes.arrayWrap}>\n        {value &&\n        value.map((v, index) =>\n            <div className={classes.arrayItem}\n                 key={`preview_array_storage_${name}_${index}`}>\n                <ErrorBoundary>\n                    <PreviewComponent\n                        name={name}\n                        value={v}\n                        property={property.of as Property<string>}\n                        size={childSize}/>\n                </ErrorBoundary>\n            </div>\n        )}\n    </div>;\n}\n","import * as React from \"react\";\nimport { useMemo } from \"react\";\n\nimport {\n    Box,\n    darken,\n    IconButton,\n    lighten,\n    Paper,\n    Skeleton,\n    Tooltip,\n    Typography\n} from \"@mui/material\";\nimport { AnyProperty, EntityReference } from \"../../models\";\n\nimport KeyboardTabIcon from \"@mui/icons-material/KeyboardTab\";\nimport { PreviewComponent, PreviewComponentProps } from \"../internal\";\n\nimport { SkeletonComponent } from \"./SkeletonComponent\";\nimport { ErrorView } from \"../../core\";\nimport {\n    useEntityFetch,\n    useNavigation,\n    useSideEntityController\n} from \"../../hooks\";\n\nexport type ReferencePreviewProps =\n    PreviewComponentProps<EntityReference>\n    & { onHover?: boolean };\n\n\n/**\n * @category Preview components\n */\nexport const ReferencePreview = React.memo<ReferencePreviewProps>(ReferencePreviewComponent, areEqual) as React.FunctionComponent<ReferencePreviewProps>;\n\nfunction areEqual(prevProps: ReferencePreviewProps, nextProps: ReferencePreviewProps) {\n    return prevProps.name === nextProps.name &&\n        prevProps.size === nextProps.size &&\n        prevProps.height === nextProps.height &&\n        prevProps.width === nextProps.width &&\n        prevProps.onHover === nextProps.onHover &&\n        prevProps.value?.id === nextProps.value?.id &&\n        prevProps.value?.path === nextProps.value?.path\n        ;\n}\n\nfunction ReferencePreviewComponent<M extends { [Key: string]: any }>(\n    {\n        value,\n        property,\n        onClick,\n        size,\n        onHover\n    }: ReferencePreviewProps) {\n\n    if (typeof property.path !== \"string\") {\n        throw Error(\"Picked the wrong component ReferencePreviewComponent\");\n    }\n\n    const reference: EntityReference = value;\n    const previewProperties = property.previewProperties;\n\n    const navigationContext = useNavigation();\n    const sideEntityController = useSideEntityController();\n\n    const collectionResolver = navigationContext.getCollectionResolver<M>(property.path);\n    if (!collectionResolver) {\n        throw Error(`Couldn't find the corresponding collection view for the path: ${property.path}`);\n    }\n\n    const schema = collectionResolver.schema;\n\n    const {\n        entity,\n        dataLoading,\n        dataLoadingError\n    } = useEntityFetch({\n        path: reference.path,\n        entityId: reference.id,\n        schema: collectionResolver.schemaResolver,\n        useCache: true\n    });\n\n    const listProperties = useMemo(() => {\n        let res = previewProperties;\n        if (!res || !res.length) {\n            res = Object.keys(schema.properties);\n        }\n\n        if (size === \"small\" || size === \"regular\")\n            res = res.slice(0, 3);\n        else if (size === \"tiny\")\n            res = res.slice(0, 1);\n        return res;\n    }, [previewProperties, schema.properties, size]);\n\n    let body: JSX.Element;\n\n    function buildError(error: string, tooltip?: string) {\n        return <ErrorView error={error} tooltip={tooltip}/>;\n    }\n\n    if (!value) {\n        body = buildError(\"Reference not set\");\n    }\n    // currently not happening since this gets filtered out in PreviewComponent\n    else if (!(value instanceof EntityReference)) {\n        body = buildError(\"Unexpected value\", JSON.stringify(value));\n    } else if (entity && !entity.values) {\n        body = buildError(\"Reference does not exist\", reference.path);\n    } else {\n\n        body = (\n            <>\n                <Box sx={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    flexGrow: 1,\n                    maxWidth: \"calc(100% - 60px)\",\n                    margin: 1\n                }}>\n\n                    {size !== \"tiny\" && (\n                        value\n                            ? <Box sx={{\n                                display: size !== \"regular\" ? \"block\" : undefined,\n                                whiteSpace: size !== \"regular\" ? \"nowrap\" : undefined,\n                                overflow: size !== \"regular\" ? \"hidden\" : undefined,\n                                textOverflow: size !== \"regular\" ? \"ellipsis\" : undefined\n                            }}>\n                                <Typography variant={\"caption\"}\n                                            className={\"mono\"}>\n                                    {value.id}\n                                </Typography>\n                            </Box>\n                            : <Skeleton variant=\"text\"/>)}\n\n\n                    {listProperties && listProperties.map((key) => {\n                        const childProperty = schema.properties[key as string];\n                        if (!childProperty) return null;\n\n                        return (\n                            <div key={\"ref_prev_\" + (key as string)}>\n                                {entity\n                                    ? <PreviewComponent name={key as string}\n                                                        value={entity.values[key as string]}\n                                                        property={childProperty as AnyProperty}\n                                                        size={\"tiny\"}/>\n                                    : <SkeletonComponent\n                                        property={childProperty as AnyProperty}\n                                        size={\"tiny\"}/>\n                                }\n                            </div>\n                        );\n                    })}\n\n                </Box>\n                <Box sx={{\n                    margin: \"auto\"\n                }}>\n                    {entity &&\n                        <Tooltip title={`See details for ${entity.id}`}>\n                            <IconButton\n                                size={size === \"tiny\" ? \"small\" : \"medium\"}\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    sideEntityController.open({\n                                        entityId: entity.id,\n                                        path: entity.path,\n                                        schema: schema,\n                                        overrideSchemaRegistry: false\n                                    });\n                                }}>\n                                <KeyboardTabIcon fontSize={\"small\"}/>\n                            </IconButton>\n                        </Tooltip>}\n                </Box>\n            </>\n        );\n    }\n\n\n    return (\n        <Paper elevation={0} sx={(theme) => {\n            const clickableStyles = onClick\n                ? {\n                    tabindex: 0,\n                    backgroundColor: onHover ? (theme.palette.mode === \"dark\" ? lighten(theme.palette.background.default, 0.1) : darken(theme.palette.background.default, 0.15)) : darken(theme.palette.background.default, 0.1),\n                    transition: \"background-color 300ms ease, box-shadow 300ms ease\",\n                    boxShadow: onHover ? \"0 0 0 2px rgba(128,128,128,0.05)\" : undefined,\n                    cursor: onHover ? \"pointer\" : undefined\n                }\n                : {};\n            return ({\n                width: \"100%\",\n                display: \"flex\",\n                color: \"#838383\",\n                backgroundColor: darken(theme.palette.background.default, 0.1),\n                borderRadius: \"2px\",\n                overflow: \"hidden\",\n                padding: size === \"regular\" ? 1 : 0,\n                itemsAlign: size === \"tiny\" ? \"center\" : undefined,\n                fontWeight: theme.typography.fontWeightMedium,\n                ...clickableStyles\n            });\n        }}\n               onClick={onClick}>\n\n            {body}\n\n        </Paper>\n    );\n\n}\n","import { PreviewComponentProps, PreviewSize } from \"../internal\";\nimport { ReferenceProperty } from \"../../models\";\nimport { ReferencePreview } from \"./ReferencePreview\";\n\nimport { Theme } from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        arrayItem: {\n            margin: theme.spacing(0.5)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayOfReferencesPreview({\n                                             name,\n                                             value,\n                                             property,\n                                             size\n                                         }: PreviewComponentProps<any[]>) {\n\n    if (property.dataType !== \"array\" || !property.of || property.of.dataType !== \"reference\")\n        throw Error(\"Picked wrong preview component ArrayOfReferencesPreview\");\n\n    const classes = useStyles();\n    const childSize: PreviewSize = size === \"regular\" ? \"small\" : \"tiny\";\n\n    return (\n        <>\n            {value &&\n            value.map((v, index) =>\n                <div className={classes.arrayItem}\n                     key={`preview_array_ref_${name}_${index}`}>\n                    <ReferencePreview\n                        name={`${name}[${index}]`}\n                        size={childSize}\n                        value={v}\n                        property={property.of as ReferenceProperty}\n                    />\n                </div>\n            )}\n        </>\n    );\n}\n","import React from \"react\";\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableRow,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { PreviewComponent, PreviewComponentProps } from \"../internal\";\nimport { MapProperty } from \"../../models\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        tableNoBottomBorder: {\n            \"&:last-child th, &:last-child td\": {\n                borderBottom: 0\n            }\n        },\n        verticalAlignTop: {\n            verticalAlign: \"top\"\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function MapPreview<T extends {}>({\n                                             name,\n                                             value,\n                                             property,\n                                             size\n                                         }: PreviewComponentProps<T>) {\n\n    const classes = useStyles();\n\n    if (property.dataType !== \"map\") {\n        throw Error(\"Picked wrong preview component MapPreview\");\n    }\n\n    const mapProperty = property as MapProperty;\n    if (!mapProperty.properties) {\n        throw Error(`You need to specify a 'properties' prop (or specify a custom field) in your map property ${name}`);\n    }\n\n    if (!value) return null;\n\n\n    let mapPropertyKeys: string[];\n    if (size === \"regular\") {\n        mapPropertyKeys = Object.keys(mapProperty.properties);\n    } else {\n        mapPropertyKeys = (mapProperty.previewProperties || Object.keys(mapProperty.properties)) as string[];\n        if (size === \"small\")\n            mapPropertyKeys = mapPropertyKeys.slice(0, 3);\n        else if (size === \"tiny\")\n            mapPropertyKeys = mapPropertyKeys.slice(0, 1);\n    }\n\n    if (size !== \"regular\")\n        return (\n            <>\n                {mapPropertyKeys.map((key, index) => (\n                    <div\n                        key={\"map_preview_\" + mapProperty.title + key + index}>\n                        <ErrorBoundary>\n                            <PreviewComponent name={key}\n                                              value={(value as any)[key]}\n                                              property={mapProperty.properties![key]}\n                                              size={size}/>\n                        </ErrorBoundary>\n                    </div>\n                ))}\n            </>\n        );\n\n    return (\n        <Table size=\"small\" key={`map_preview_${name}`}>\n            <TableBody>\n                {mapPropertyKeys &&\n                mapPropertyKeys.map((key, index) => {\n                    return (\n                        <TableRow\n                            key={`map_preview_table_${name}_${index}`}\n                            className={classes.tableNoBottomBorder}>\n                            <TableCell key={`table-cell-title-${name}-${key}`}\n                                       className={classes.verticalAlignTop}\n                                       width=\"30%\"\n                                       component=\"th\">\n                                <Typography variant={\"caption\"}\n                                            color={\"textSecondary\"}>\n                                    {mapProperty.properties![key].title}\n                                </Typography>\n                            </TableCell>\n                            <TableCell key={`table-cell-${name}-${key}`}\n                                       width=\"70%\"\n                                       className={classes.verticalAlignTop}\n                                       component=\"th\">\n                                <ErrorBoundary>\n                                    <PreviewComponent\n                                        name={key}\n                                        value={(value as any)[key]}\n                                        property={mapProperty.properties![key]}\n                                        size={\"small\"}/>\n                                </ErrorBoundary>\n                            </TableCell>\n                        </TableRow>\n                    );\n                })}\n            </TableBody>\n        </Table>\n    );\n\n}\n","import React from \"react\";\n\nimport { Divider, Theme } from \"@mui/material\";\n\nimport {\n    PreviewComponent,\n    PreviewComponentProps,\n    PreviewSize\n} from \"../internal\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { Property } from \"../../models\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        array: {\n            display: \"flex\",\n            flexDirection: \"column\"\n        },\n        arrayItemBig: {\n            margin: theme.spacing(1)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayPreview({\n                                 name,\n                                 value,\n                                 property,\n                                 size\n                             }: PreviewComponentProps<any[]>) {\n\n    if (!property.of) {\n        throw Error(`You need to specify an 'of' prop (or specify a custom field) in your array property ${name}`);\n    }\n\n    const classes = useStyles();\n\n    if (property.dataType !== \"array\")\n        throw Error(\"Picked wrong preview component ArrayPreview\");\n\n    const values = value;\n\n    if (!values) return null;\n\n    const childSize: PreviewSize = size === \"regular\" ? \"small\" : \"tiny\";\n\n    return (\n        <div className={classes.array}>\n            {values &&\n            values.map((value, index) =>\n                <React.Fragment key={\"preview_array_\" + value + \"_\" + index}>\n                    <div className={classes.arrayItemBig}>\n                        <ErrorBoundary>\n                            <PreviewComponent\n                                name={name}\n                                value={value}\n                                property={property.of as Property<any>}\n                                size={childSize}/>\n                        </ErrorBoundary>\n                    </div>\n                    {index < values.length - 1 && <Divider/>}\n                </React.Fragment>\n            )}\n        </div>\n    );\n}\n","import React from \"react\";\n\nimport { Divider, Theme } from \"@mui/material\";\nimport {\n    PreviewComponent,\n    PreviewComponentProps,\n    PreviewSize\n} from \"../internal\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { Property } from \"../../models\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        array: {\n            display: \"flex\",\n            flexDirection: \"column\"\n        },\n        arrayWrap: {\n            display: \"flex\",\n            flexWrap: \"wrap\"\n        },\n        arrayItemBig: {\n            margin: theme.spacing(1)\n        }\n    })\n);\n\n/**\n * @category Preview components\n */\nexport function ArrayOneOfPreview({\n                                      name,\n                                      value,\n                                      property,\n                                      size\n                                  }: PreviewComponentProps<any[]>) {\n\n    if (property.dataType !== \"array\")\n        throw Error(\"Picked wrong preview component ArrayPreview\");\n\n    if (!property.oneOf) {\n        throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${name}`);\n    }\n\n    const classes = useStyles();\n    const values = value;\n\n    if (!values) return null;\n\n    const childSize: PreviewSize = size === \"regular\" ? \"small\" : \"tiny\";\n\n    const typeField = property.oneOf.typeField ?? \"type\";\n    const valueField = property.oneOf.valueField ?? \"value\";\n    const properties = property.oneOf.properties;\n\n    return (\n        <div className={classes.array}>\n            {values &&\n            values.map((value, index) =>\n                <React.Fragment key={\"preview_array_\" + value + \"_\" + index}>\n                    <div className={classes.arrayItemBig}>\n                        <ErrorBoundary>\n                            {value && <PreviewComponent\n                                name={name}\n                                value={value[valueField]}\n                                property={properties[value[typeField]] as Property<any>}\n                                size={childSize}/>}\n                        </ErrorBoundary>\n                    </div>\n                    {index < values.length - 1 && <Divider/>}\n                </React.Fragment>\n            )}\n        </div>\n    );\n}\n","import React, { createElement } from \"react\";\nimport {\n    ArrayProperty,\n    BooleanProperty,\n    CMSType,\n    EntityReference,\n    MapProperty,\n    NumberProperty,\n    ReferenceProperty,\n    StringProperty,\n    TimestampProperty\n} from \"../models\";\n\nimport {\n    ArrayOfMapsPreview,\n    ArrayOfReferencesPreview,\n    ArrayOfStorageComponentsPreview,\n    ArrayOfStringsPreview,\n    ArrayOneOfPreview,\n    ArrayPreview,\n    ArrayPropertyEnumPreview,\n    BooleanPreview,\n    EmptyValue,\n    MapPreview,\n    NumberPreview,\n    ReferencePreview,\n    StorageThumbnail,\n    StringPreview,\n    TimestampPreview,\n    UrlComponentPreview\n} from \"./internal\";\nimport { ErrorView } from \"../core/components\";\n\nimport { PreviewComponentProps } from \"./PreviewComponentProps\";\n\nimport { Markdown } from \"./components/Markdown\";\n\n/**\n * @category Preview components\n */\nexport function PreviewComponent<T extends CMSType>(props: PreviewComponentProps<T>) {\n    let content: JSX.Element | any;\n    const {\n        property, name, value, size, height, width\n    } = props;\n\n    const fieldProps = { ...props };\n\n    if (value === undefined) {\n        content = <EmptyValue/>;\n    } else if (property.config?.Preview) {\n        content = createElement(property.config.Preview as React.ComponentType<PreviewComponentProps>,\n            {\n                name,\n                value,\n                property,\n                size,\n                height,\n                width,\n                customProps: property.config.customProps\n            });\n    } else if (value === null) {\n        content = <EmptyValue/>;\n    } else if (property.dataType === \"string\") {\n        const stringProperty = property as StringProperty;\n        if (typeof value === \"string\") {\n            if (stringProperty.config?.url) {\n                content = <UrlComponentPreview {...fieldProps}\n                                               property={property as StringProperty}\n                                               value={value}/>;\n            } else if (stringProperty.config?.storageMeta) {\n                content = <StorageThumbnail {...fieldProps}\n                                            property={property as StringProperty}\n                                            value={value}/>;\n            } else if (stringProperty.config?.markdown) {\n                content = <Markdown source={value}/>;\n            } else {\n                content = <StringPreview {...fieldProps}\n                                         property={property as StringProperty}\n                                         value={value}/>;\n            }\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else if (property.dataType === \"array\") {\n        if (value instanceof Array) {\n            const arrayProperty = property as ArrayProperty;\n            if (!arrayProperty.of && !arrayProperty.oneOf) {\n                throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${name}`);\n            }\n\n            if (arrayProperty.of) {\n                if (arrayProperty.of.dataType === \"map\") {\n                    content =\n                        <ArrayOfMapsPreview name={name}\n                                            property={property as ArrayProperty}\n                                            value={value as object[]}\n                                            size={size}\n                        />;\n                } else if (arrayProperty.of.dataType === \"reference\") {\n                    if (typeof arrayProperty.of.path === \"string\") {\n                        content = <ArrayOfReferencesPreview {...fieldProps}\n                                                            value={value}\n                                                            property={property as ArrayProperty}/>;\n                    } else {\n                        content = <EmptyValue/>;\n                    }\n                } else if (arrayProperty.of.dataType === \"string\") {\n                    if (arrayProperty.of.config?.enumValues) {\n                        content = <ArrayPropertyEnumPreview\n                            {...fieldProps}\n                            value={value as string[]}\n                            property={property as ArrayProperty}/>;\n                    } else if (arrayProperty.of.config?.storageMeta) {\n                        content = <ArrayOfStorageComponentsPreview\n                            {...fieldProps}\n                            value={value}\n                            property={property as ArrayProperty}/>;\n                    } else {\n                        content = <ArrayOfStringsPreview\n                            {...fieldProps}\n                            value={value as string[]}\n                            property={property as ArrayProperty}/>;\n                    }\n                } else if (arrayProperty.of.dataType === \"number\") {\n                    if (arrayProperty.of.config?.enumValues) {\n                        content = <ArrayPropertyEnumPreview\n                            {...fieldProps}\n                            value={value as string[]}\n                            property={property as ArrayProperty}/>;\n                    }\n                } else {\n                    content = <ArrayPreview {...fieldProps}\n                                            value={value}\n                                            property={property as ArrayProperty}/>;\n                }\n            } else if (arrayProperty.oneOf) {\n                content = <ArrayOneOfPreview {...fieldProps}\n                                             value={value}\n                                             property={property as ArrayProperty}/>;\n            }\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else if (property.dataType === \"map\") {\n        if (typeof value === \"object\") {\n            content =\n                <MapPreview {...fieldProps}\n                            property={property as MapProperty}/>;\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else if (property.dataType === \"timestamp\") {\n        if (value instanceof Date) {\n            content = <TimestampPreview {...fieldProps}\n                                        value={value}\n                                        property={property as TimestampProperty}/>;\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else if (property.dataType === \"reference\") {\n        if (typeof property.path === \"string\") {\n            if (value instanceof EntityReference) {\n                content = <ReferencePreview\n                    {...fieldProps}\n                    value={value as EntityReference}\n                    property={property as ReferenceProperty}\n                />;\n            } else {\n                content = buildWrongValueType(name, property.dataType, value);\n            }\n        } else {\n            content = <EmptyValue/>;\n        }\n\n    } else if (property.dataType === \"boolean\") {\n        if (typeof value === \"boolean\") {\n            content = <BooleanPreview {...fieldProps}\n                                      value={value}\n                                      property={property as BooleanProperty}/>;\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else if (property.dataType === \"number\") {\n        if (typeof value === \"number\") {\n            content = <NumberPreview {...fieldProps}\n                                     value={value}\n                                     property={property as NumberProperty}/>;\n        } else {\n            content = buildWrongValueType(name, property.dataType, value);\n        }\n    } else {\n        content = JSON.stringify(value);\n    }\n\n    return content === undefined || content === null ? <EmptyValue/> : content;\n}\n\nfunction buildWrongValueType(name: string | undefined, dataType: string, value: any) {\n    console.error(`Unexpected value for property ${name}, of type ${dataType}`, value);\n    return (\n        <ErrorView error={`Unexpected value: ${JSON.stringify(value)}`}/>\n    );\n}\n\n\n// export const PreviewComponent = React.memo<PreviewComponentProps<any>>(PreviewComponentInternal, areEqual) as React.FunctionComponent<PreviewComponentProps<any>>;\n//\n// function areEqual(prevProps: PreviewComponentProps<any>, nextProps: PreviewComponentProps<any>) {\n//     return prevProps.name === nextProps.name\n//         && prevProps.size === nextProps.size\n//         && prevProps.height === nextProps.height\n//         && prevProps.width === nextProps.width\n//         && isEqual(prevProps.value, nextProps.value)\n//         ;\n// }\n","import { Property } from \"../../models\";\nimport ShortTextIcon from \"@mui/icons-material/ShortText\";\nimport SubjectIcon from \"@mui/icons-material/Subject\";\nimport AttachmentIcon from \"@mui/icons-material/Attachment\";\nimport Crop75Icon from \"@mui/icons-material/Crop75\";\nimport ListIcon from \"@mui/icons-material/List\";\nimport ScheduleIcon from \"@mui/icons-material/Schedule\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport React from \"react\";\nimport RoomIcon from \"@mui/icons-material/Room\";\nimport ViewListIcon from \"@mui/icons-material/ViewList\";\nimport LinkIcon from \"@mui/icons-material/Link\";\nimport EqualizerIcon from \"@mui/icons-material/Equalizer\";\nimport PhotoIcon from \"@mui/icons-material/Photo\";\nimport HttpIcon from \"@mui/icons-material/Http\";\nimport FlagIcon from \"@mui/icons-material/Flag\";\nimport AdjustIcon from \"@mui/icons-material/Adjust\";\n\nexport function getIdIcon(\n    color: \"inherit\" | \"primary\" | \"secondary\" | \"action\" | \"disabled\" | \"error\" = \"inherit\",\n    fontSize: \"inherit\" | \"medium\" | \"large\" | \"small\" | undefined = \"inherit\"): React.ReactNode {\n    return <AdjustIcon color={color} fontSize={fontSize}/>;\n}\n\nexport function getIconForProperty(\n    property: Property,\n    color: \"inherit\" | \"primary\" | \"secondary\" | \"action\" | \"disabled\" | \"error\" = \"inherit\",\n    fontSize: \"inherit\" | \"medium\" | \"large\" | \"small\" | undefined = \"inherit\"): React.ReactNode {\n    if (property.dataType === \"string\") {\n        if (property.config?.multiline || property.config?.markdown) {\n            return <SubjectIcon color={color} fontSize={fontSize}/>;\n        } else if (property.config?.storageMeta) {\n            if (property.config.storageMeta.mediaType === \"image\")\n                return <PhotoIcon color={color} fontSize={fontSize}/>;\n            return <AttachmentIcon color={color} fontSize={fontSize}/>;\n        } else if (property.config?.url) {\n            return <HttpIcon color={color} fontSize={fontSize}/>;\n        } else if (property.config?.enumValues) {\n            return <ListIcon color={color} fontSize={fontSize}/>;\n        } else {\n            return <ShortTextIcon color={color} fontSize={fontSize}/>;\n        }\n    } else if (property.dataType === \"number\") {\n        return <EqualizerIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"geopoint\") {\n        return <RoomIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"map\") {\n        if (property.properties)\n            return <ViewListIcon color={color} fontSize={fontSize}/>;\n        else\n            return <ListAltIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"array\") {\n        if (property.of)\n            return getIconForProperty(property.of, color, fontSize);\n        else\n            return <ListAltIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"boolean\") {\n        return <FlagIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"timestamp\") {\n        return <ScheduleIcon color={color} fontSize={fontSize}/>;\n    } else if (property.dataType === \"reference\") {\n        return <LinkIcon color={color} fontSize={fontSize}/>;\n    } else {\n        return <Crop75Icon color={color} fontSize={fontSize}/>;\n    }\n}\n","import * as React from \"react\";\n\nimport {\n    Box,\n    IconButton,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableRow,\n    Theme,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n    AnyProperty,\n    Entity,\n    FireCMSContext,\n    Properties,\n    ResolvedEntitySchema\n} from \"../../models\";\nimport { PreviewComponent } from \"../../preview/PreviewComponent\";\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\";\nimport { getIconForProperty, getIdIcon } from \"../util/property_icons\";\nimport { ErrorBoundary } from \"../internal/ErrorBoundary\";\nimport { useFireCMSContext } from \"../../hooks\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        property: {\n            display: \"flex\"\n        },\n        valuePreview: {\n            height: \"72px\",\n            padding: theme.spacing(2, 3)\n        },\n        iconCell: {\n            paddingTop: theme.spacing(1)\n        },\n        titleCell: {\n            width: \"25%\",\n            padding: theme.spacing(1)\n        }\n    })\n);\n\n/**\n * @category Components\n */\nexport interface EntityPreviewProps<M> {\n    entity: Entity<M>;\n    schema: ResolvedEntitySchema<M>;\n    path: string;\n}\n\n/**\n * Use this component to render a preview of a property values\n * @param entity\n * @param schema\n * @param path\n * @constructor\n * @category Components\n */\nexport function EntityPreview<M>(\n    {\n        entity,\n        schema,\n        path\n    }: EntityPreviewProps<M>) {\n\n    const classes = useStyles();\n\n    const appConfig: FireCMSContext | undefined = useFireCMSContext();\n\n    const properties:Properties = schema.properties;\n\n    return (\n        <TableContainer>\n            <Table aria-label=\"entity table\">\n                <TableBody>\n                    <TableRow>\n                        <TableCell align=\"right\"\n                                   component=\"td\"\n                                   scope=\"row\"\n                                   className={classes.titleCell}>\n                            <Typography variant={\"caption\"}\n                                        color={\"textSecondary\"}>\n                                Id\n                            </Typography>\n                        </TableCell>\n                        <TableCell padding=\"none\"\n                                   className={classes.iconCell}>\n                            {getIdIcon(\"disabled\", \"small\")}\n                        </TableCell>\n                        <TableCell className={classes.valuePreview}>\n                            <Box display=\"flex\" alignItems=\"center\">\n                                {entity.id}\n                                {appConfig?.entityLinkBuilder &&\n                                <a href={appConfig.entityLinkBuilder({ entity })}\n                                   rel=\"noopener noreferrer\"\n                                   target=\"_blank\">\n                                    <IconButton\n                                        aria-label=\"go-to-entity-datasource\"\n                                        size=\"large\">\n                                        <OpenInNewIcon\n                                            fontSize={\"small\"}/>\n                                    </IconButton>\n                                </a>}\n                            </Box>\n                        </TableCell>\n                    </TableRow>\n\n                    {schema && Object.entries(properties)\n                        .map(([key, property]) => {\n                            const value = (entity.values as any)[key];\n                            return (\n                                <TableRow\n                                    key={\"entity_prev\" + property.title + key}>\n                                    <TableCell align=\"right\"\n                                               component=\"td\"\n                                               scope=\"row\"\n                                               className={classes.titleCell}>\n                                        <Typography\n                                            style={{ paddingLeft: \"16px\" }}\n                                            variant={\"caption\"}\n                                            color={\"textSecondary\"}>\n                                            {property.title}\n                                        </Typography>\n                                    </TableCell>\n\n                                    <TableCell padding=\"none\"\n                                               className={classes.iconCell}>\n                                        {getIconForProperty(property, \"disabled\", \"small\")}\n                                    </TableCell>\n\n                                <TableCell\n                                    className={classes.valuePreview}>\n                                    <ErrorBoundary>\n                                        <PreviewComponent\n                                            name={key}\n                                            value={value}\n                                            property={property as AnyProperty}\n                                            size={\"regular\"}/>\n                                    </ErrorBoundary>\n                                </TableCell>\n\n                            </TableRow>\n                        );\n                    })}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n\n}\n\nexport default EntityPreview;\n","import { useMemo } from \"react\";\nimport {\n    ArrayProperty,\n    EntityCollection,\n    Properties,\n    Property,\n    ResolvedEntitySchema\n} from \"../../../../models\";\n\n\nexport type Sort = \"asc\" | \"desc\" | undefined;\n\n\nexport function getCellAlignment(property: Property): \"right\" | \"left\" | \"center\" {\n    if (property.dataType === \"boolean\") {\n        return \"center\";\n    } else if (property.dataType === \"number\") {\n        if (property.config?.enumValues)\n            return \"left\";\n        return \"right\";\n    } else if (property.dataType === \"timestamp\") {\n        return \"right\";\n    } else {\n        return \"left\";\n    }\n}\n\nexport function isPropertyFilterable(property: Property): boolean {\n    if (property.dataType === \"boolean\") {\n        return true;\n    } else if (property.dataType === \"number\") {\n        return true;\n    } else if (property.dataType === \"string\") {\n        return true;\n    } else if (property.dataType === \"timestamp\") {\n        return true;\n    } else if (property.dataType === \"array\") {\n        if (property.of)\n            return isPropertyFilterable(property.of);\n        else\n            return false;\n    } else {\n        return false;\n    }\n}\n\nexport function getPropertyColumnWidth(property: Property): number {\n\n    if (property.columnWidth) {\n        return property.columnWidth;\n    }\n\n    if (property.dataType === \"string\") {\n        if (property.config?.url) {\n            if (property.config?.url === \"video\" || property.config?.storageMeta?.mediaType === \"video\")\n                return 340;\n            else if (property.config?.url === \"audio\" || property.config?.storageMeta?.mediaType === \"audio\")\n                return 300;\n            return 240;\n        } else if (property.config?.storageMeta) {\n            return 220;\n        } else if (property.config?.enumValues) {\n            return 200;\n        } else if (property.config?.multiline) {\n            return 300;\n        } else if (property.config?.markdown) {\n            return 300;\n        } else if (property.validation?.email) {\n            return 200;\n        } else {\n            return 200;\n        }\n    } else if (property.dataType === \"array\") {\n        const arrayProperty = property as ArrayProperty;\n        if (arrayProperty.of) {\n            return getPropertyColumnWidth(arrayProperty.of as Property);\n        } else {\n            return 300;\n        }\n    } else if (property.dataType === \"number\") {\n        if (property.config?.enumValues) {\n            return 200;\n        }\n        return 140;\n    } else if (property.dataType === \"map\") {\n        return 360;\n    } else if (property.dataType === \"timestamp\") {\n        return 160;\n    } else if (property.dataType === \"reference\") {\n        return 220;\n    } else if (property.dataType === \"boolean\") {\n        return 140;\n    } else {\n        return 200;\n    }\n}\n\n\nexport function getSubcollectionColumnId(collection: EntityCollection) {\n    return `subcollection:${collection.path}`;\n}\n\nexport function useColumnIds<M>(collection: EntityCollection<M>, resolvedSchema:ResolvedEntitySchema<M>, includeSubcollections: boolean): string[] {\n\n    return useMemo(() => {\n        const initialDisplayedProperties = collection.properties;\n        const excludedProperties = collection.excludedProperties;\n        const additionalColumns = collection.additionalColumns ?? [];\n        const subCollections: EntityCollection[] = collection.subcollections ?? [];\n\n        const properties:Properties = resolvedSchema.properties;\n\n        const hiddenColumnIds: string[] = Object.entries(properties)\n            .filter(([_, property]) => {\n                return property.disabled && typeof property.disabled === \"object\" && property.disabled.hidden;\n            })\n            .map(([propertyKey, _]) => propertyKey);\n\n        const columnIds: string[] = [\n            ...Object.keys(collection.schema.properties) as string[],\n            ...additionalColumns.map((column) => column.id)\n        ];\n\n        let result: string[];\n        if (initialDisplayedProperties) {\n            result = initialDisplayedProperties\n                .map((p) => {\n                    return columnIds.find(id => id === p);\n                }).filter(c => !!c) as string[];\n        } else if (excludedProperties) {\n            result = columnIds\n                .filter(id => !(excludedProperties as string[]).includes(id));\n        } else {\n            result = columnIds.filter((columnId) => !hiddenColumnIds.includes(columnId));\n        }\n\n        if (includeSubcollections) {\n            const subCollectionIds = subCollections\n                .map((collection) => getSubcollectionColumnId(collection))\n                .filter((subColId) => excludedProperties ? !excludedProperties?.includes(subColId) : true);\n            result.push(...subCollectionIds.filter((subColId) => !result.includes(subColId)));\n        }\n\n        return result;\n\n    }, [collection.properties, collection.excludedProperties, collection.additionalColumns, collection.subcollections, collection.schema.properties, resolvedSchema.properties, includeSubcollections]);\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport InputBase from \"@mui/material/InputBase\";\nimport { alpha, darken, Theme } from \"@mui/material/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { FormControl, IconButton } from \"@mui/material\";\n\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        search: {\n            position: \"relative\",\n            display: \"flex\",\n            alignItems: \"center\",\n            height: 40,\n            borderRadius: theme.shape.borderRadius,\n            backgroundColor: theme.palette.mode === \"light\" ? alpha(theme.palette.common.black, 0.05) : darken(theme.palette.background.default, 0.2),\n            \"&:hover\": {\n                backgroundColor: theme.palette.mode === \"light\" ? alpha(theme.palette.common.black, 0.10) : darken(theme.palette.background.default, 0.3)\n            },\n            marginLeft: theme.spacing(1),\n            [theme.breakpoints.up(\"sm\")]: {\n                marginLeft: theme.spacing(1),\n                width: \"auto\"\n            }\n        },\n        searchIcon: {\n            padding: theme.spacing(0, 2),\n            height: \"100%\",\n            position: \"absolute\",\n            pointerEvents: \"none\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        inputRoot: {\n            color: \"inherit\",\n            minHeight: \"inherit\"\n        },\n        inputInput: {\n            padding: theme.spacing(1, 1, 1, 0),\n            // vertical padding + font size from searchIcon\n            paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n            transition: theme.transitions.create(\"width\"),\n            width: \"100%\",\n            [theme.breakpoints.up(\"sm\")]: {\n                width: \"12ch\"\n            }\n        },\n        inputActive: {\n            [theme.breakpoints.up(\"sm\")]: {\n                width: \"20ch\"\n            }\n        }\n    })\n);\n\n\ninterface SearchBarProps {\n    onTextSearch: (searchString?: string) => void;\n}\n\nexport function SearchBar({ onTextSearch }: SearchBarProps) {\n\n    const classes = useStyles();\n\n    const [searchText, setSearchText] = useState<string>(\"\");\n    const [active, setActive] = useState<boolean>(false);\n\n    /**\n     * Debounce on Search text update\n     */\n    useEffect(\n        () => {\n            const handler = setTimeout(() => {\n                if (searchText) {\n                    onTextSearch(searchText);\n                } else {\n                    onTextSearch(undefined);\n                }\n            }, 250);\n\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [searchText]\n    );\n\n    const clearText = useCallback(() => {\n        setSearchText(\"\");\n        onTextSearch(undefined);\n    }, []);\n\n    return (\n        <FormControl>\n            <div className={classes.search}>\n                <div className={classes.searchIcon}>\n                    <SearchIcon htmlColor={\"#666\"}/>\n                </div>\n                <InputBase\n                    placeholder=\"Search\"\n                    value={searchText}\n                    onChange={(event) => {\n                        setSearchText(event.target.value);\n                    }}\n                    onFocus={() => setActive(true)}\n                    onBlur={() => setActive(false)}\n                    classes={{\n                        root: classes.inputRoot,\n                        input: clsx(classes.inputInput, {\n                            [classes.inputActive]: active\n                        })\n                    }}\n                    endAdornment={searchText\n                        ? <IconButton\n                            size={\"small\"}\n                            onClick={clearText}>\n                            <ClearIcon fontSize={\"small\"}/>\n                        </IconButton>\n                        : <div style={{ width: 26 }}/>\n                    }\n                    inputProps={{ \"aria-label\": \"search\" }}\n                />\n            </div>\n        </FormControl>\n    );\n}\n","import React from \"react\";\nimport {\n    alpha,\n    Box,\n    CircularProgress,\n    darken,\n    Hidden,\n    IconButton,\n    InputBase,\n    MenuItem,\n    Select,\n    Theme,\n    Tooltip,\n    useMediaQuery,\n    useTheme\n} from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { CollectionSize } from \"../../../../models\";\nimport { SearchBar } from \"./SearchBar\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        toolbar: {\n            minHeight: 56,\n            [theme.breakpoints.down(\"xl\")]: {\n                paddingLeft: theme.spacing(0.5),\n                paddingRight: theme.spacing(0.5)\n            },\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            backgroundColor: theme.palette.mode === \"light\" ? theme.palette.common.white : theme.palette.background.default,\n            borderBottom: `1px solid ${theme.palette.divider}`,\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: \"100%\"\n        },\n        actions: {\n            display: \"flex\",\n            alignItems: \"center\",\n            \"& > *\": {\n                [theme.breakpoints.down(\"md\")]: {\n                    marginRight: theme.spacing(0.5)\n                },\n                marginRight: theme.spacing(1)\n            }\n        },\n        selectRoot: {\n            \"label + &\": {\n                marginTop: theme.spacing(3)\n            }\n        },\n        input: {\n            borderRadius: 4,\n            position: \"relative\",\n            backgroundColor: theme.palette.mode === \"light\" ? alpha(theme.palette.common.black, 0.05) : darken(theme.palette.background.default, 0.2),\n            fontSize: 14,\n            fontWeight: theme.typography.fontWeightMedium,\n            padding: \"10px 26px 10px 12px\",\n            transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n            \"&:focus\": {\n                borderRadius: 4\n            }\n        },\n        item: {\n            backgroundColor: theme.palette.background.default,\n            fontSize: 14,\n            fontWeight: theme.typography.fontWeightMedium,\n            paddingTop: theme.spacing(1),\n            paddingBottom: theme.spacing(1),\n            \"&:hover\": {\n                backgroundColor: darken(theme.palette.background.default, 0.1)\n            },\n            \"&:focus\": {\n                backgroundColor: darken(theme.palette.background.default, 0.2),\n                \"& .MuiListItemIcon-root, & .MuiListItemText-primary\": {\n                    color: theme.palette.text.primary\n                }\n            }\n        }\n    })\n);\n\n\ninterface CollectionTableToolbarProps {\n    size: CollectionSize;\n    filterIsSet: boolean;\n    actions?: React.ReactNode;\n    loading: boolean;\n    title?: React.ReactNode,\n    onTextSearch?: (searchString?: string) => void;\n    onSizeChanged: (size: CollectionSize) => void;\n\n    clearFilter(): void;\n}\n\nexport function CollectionTableToolbar<M extends { [Key: string]: any }>(props: CollectionTableToolbarProps) {\n    const classes = useStyles();\n\n    const theme = useTheme();\n    const largeLayout = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n    const filterView = props.filterIsSet &&\n        <Box display={\"flex\"}\n             alignItems=\"center\">\n\n            <Tooltip title=\"Clear filter\">\n                <IconButton\n                    style={{ height: \"fit-content\" }}\n                    aria-label=\"filter clear\"\n                    onClick={props.clearFilter}\n                    size=\"large\">\n                    <ClearIcon/>\n                </IconButton>\n            </Tooltip>\n\n        </Box>;\n\n    return (\n        <div\n            className={classes.toolbar}\n        >\n\n            <Box display={\"flex\"}\n                 alignItems=\"center\">\n\n                {props.title && <Hidden lgDown>\n                    <Box mr={2}>\n                        {props.title}\n                    </Box>\n                </Hidden>}\n\n\n                {filterView}\n\n\n            </Box>\n\n\n            <div className={classes.actions}>\n\n                {largeLayout && <Box width={22}>\n                    {props.loading &&\n                    <CircularProgress size={16} thickness={8}/>}\n                </Box>}\n\n                {props.onTextSearch &&\n                <SearchBar\n                    key={\"search-bar\"}\n                    onTextSearch={props.onTextSearch}/>\n                }\n\n                {props.actions}\n\n            </div>\n\n        </div>\n    );\n}\n","import { CollectionSize, Entity } from \"../../../../models\";\n\nimport React, { MouseEvent, useCallback } from \"react\";\nimport {\n    alpha,\n    Checkbox,\n    IconButton,\n    ListItemIcon,\n    ListItemText,\n    Menu,\n    MenuItem,\n    Skeleton,\n    Theme,\n    Tooltip,\n    Typography\n} from \"@mui/material\";\nimport { Delete, FileCopy, KeyboardTab, MoreVert } from \"@mui/icons-material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useTableStyles = makeStyles<Theme>(theme => createStyles({\n    tableContainer: {\n        width: \"100%\",\n        height: \"100%\",\n        flexGrow: 1\n    },\n    headerTypography: {\n        fontSize: \"0.750rem\",\n        fontWeight: 600,\n        textTransform: \"uppercase\"\n    },\n    header: {\n        width: \"calc(100% + 24px)\",\n        margin: \"0px -12px\",\n        padding: \"0px 12px\",\n        color: theme.palette.text.secondary,\n        backgroundColor: theme.palette.background.default,\n        transition: \"color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        height: \"100%\",\n        fontSize: \"0.750rem\",\n        textTransform: \"uppercase\",\n        fontWeight: 600\n    },\n    tableRow: {\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"0.875rem\"\n    },\n    tableRowClickable: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.mode === \"dark\" ? alpha(theme.palette.background.default, 0.6) : alpha(theme.palette.background.default, 0.5)\n        }\n    },\n    column: {\n        padding: \"0px !important\"\n    },\n    cellButtonsWrap: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        backgroundColor: theme.palette.mode === \"dark\" ? alpha(theme.palette.background.default, 0.8) : alpha(theme.palette.background.default, 0.8)\n    },\n    cellButtons: {\n        minWidth: 138\n    },\n    cellButtonsId: {\n        width: 138,\n        textAlign: \"center\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\"\n    },\n    selectContainer: {\n        display: \"flex\",\n        justifyContent: \"space-around\"\n    },\n    verticalLine: {\n        width: \"1px\",\n        backgroundColor: \"#dfdfdf\",\n        height: \"55px\"\n    },\n    \"select-all\": {\n        position: \"absolute\",\n        top: \"-100px\",\n        right: \"-100px\",\n        opacity: \"0\"\n    }\n}));\n\n\n/**\n *\n * @param entity\n * @param isSelected\n * @param isAllSelected\n * @param selectionEnabled\n * @param size\n * @param toggleEntitySelection\n * @param data\n * @param selectAll\n * @param onCopyClicked\n * @param onEditClicked\n * @param onDeleteClicked\n * @constructor\n *\n * @category Collection components\n */\nexport function CollectionRowActions<M extends { [Key: string]: any }>({\n                                                                           entity,\n                                                                           isSelected,\n                                                                           isAllSelected,\n                                                                           selectionEnabled,\n                                                                           size,\n                                                                           toggleEntitySelection,\n                                                                           selectAll,\n                                                                           onCopyClicked,\n                                                                           onEditClicked,\n                                                                           onDeleteClicked,\n                                                                           data\n                                                                       }:\n                                                                           {\n                                                                               entity: Entity<M>,\n                                                                               size: CollectionSize,\n                                                                               isSelected?: boolean,\n                                                                               isAllSelected?: any,\n                                                                               selectionEnabled?: boolean,\n                                                                               toggleEntitySelection?: (selectedEntity: Entity<M>) => void\n                                                                               selectAll?: (data: any) => void\n                                                                               onEditClicked?: (selectedEntity: Entity<M>) => void,\n                                                                               onCopyClicked?: (selectedEntity: Entity<M>) => void,\n                                                                               onDeleteClicked?: (selectedEntity: Entity<M>) => void,\n                                                                               data?: any\n                                                                           }) {\n\n    const editEnabled = Boolean(onEditClicked);\n    const copyEnabled = Boolean(onCopyClicked);\n    const deleteEnabled = Boolean(onDeleteClicked);\n\n    const classes = useTableStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState<any | null>(null);\n\n    const openMenu = useCallback((event: React.MouseEvent) => {\n        setAnchorEl(event.currentTarget);\n        event.stopPropagation();\n    }, [setAnchorEl]);\n\n    const closeMenu = useCallback(() => {\n        setAnchorEl(null);\n    }, [setAnchorEl]);\n\n    const onCheckboxChange = (event: React.ChangeEvent) => {\n        if (toggleEntitySelection)\n            toggleEntitySelection(entity);\n        event.stopPropagation();\n    };\n    const onCheckboxChange1 = (event: React.ChangeEvent) => {\n        if (selectAll) {\n            selectAll(entity)\n        }\n        event.stopPropagation();\n    };\n\n    const onDeleteClick = useCallback((event: MouseEvent) => {\n        event.stopPropagation();\n        if (onDeleteClicked)\n            onDeleteClicked(entity);\n        setAnchorEl(null);\n    }, [entity, onDeleteClicked, setAnchorEl]);\n\n    const onCopyClick = useCallback((event: MouseEvent) => {\n        event.stopPropagation();\n        if (onCopyClicked)\n            onCopyClicked(entity);\n        setAnchorEl(null);\n    }, [entity, onCopyClicked, setAnchorEl]);\n\n    return (\n        <div className={classes.cellButtonsWrap}>\n\n            {(editEnabled || deleteEnabled || selectionEnabled) &&\n                <div className={classes.cellButtons}\n                >\n                    (\n                    <div className={classes.selectContainer}>\n                        {editEnabled &&\n                            <Tooltip title={`Edit ${entity.id}`}>\n                                <IconButton\n                                    onClick={(event: MouseEvent) => {\n                                        event.stopPropagation();\n                                        if (onEditClicked)\n                                            onEditClicked(entity);\n                                    }}\n                                    size=\"large\">\n                                    <KeyboardTab/>\n                                </IconButton>\n                            </Tooltip>\n                        }\n                        <span className={classes.verticalLine}></span>\n                        {selectionEnabled &&\n                            <div>\n                                <Tooltip title={`Select ${entity.id}`} style={{ marginTop: \"5px\" }}>\n                                    <Checkbox\n                                        checked={isSelected}\n                                        onChange={onCheckboxChange}\n                                    />\n                                </Tooltip>\n                                <Tooltip title={\"Select All\"} className={classes[\"select-all\"] + \" select-all\"}>\n                                    <Checkbox\n                                        checked={isAllSelected}\n                                        onChange={onCheckboxChange1}\n                                    />\n                                </Tooltip>\n                            </div>}\n                    </div>\n                    )\n                </div>}\n\n            {size !== \"xs\" && (\n                <div className={classes.cellButtonsId}>\n\n                    {entity\n                        ? <Typography\n                            className={\"mono\"}\n                            variant={\"caption\"}\n                            color={\"textSecondary\"}> {entity.id} </Typography>\n                        : <Skeleton variant=\"text\"/>\n                    }\n                </div>\n            )}\n\n        </div>\n    );\n\n}\n","import { TableSize } from \"./TableProps\";\n\nexport function getRowHeight(size: TableSize): number {\n    switch (size) {\n        case \"xl\":\n            return 400;\n        case \"l\":\n            return 280;\n        case \"m\":\n            return 140;\n        case \"s\":\n            return 80;\n        case \"xs\":\n            return 54;\n        default:\n            throw Error(\"Missing mapping for collection size -> height\");\n    }\n}\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { IconButton, Theme, Tooltip } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport Measure, { ContentRect } from \"react-measure\";\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\";\nimport RemoveCircleIcon from \"@mui/icons-material/RemoveCircle\";\nimport clsx from \"clsx\";\nimport { CellStyleProps } from \"./styles\";\nimport { getRowHeight } from \"./common\";\nimport isEqual from \"react-fast-compare\";\n\nexport const useCellStyles = makeStyles<Theme, CellStyleProps & { disabled: boolean, removePadding?: boolean }>(theme => createStyles({\n        tableCell: {\n            position: \"relative\",\n            height: \"100%\",\n            width: \"100%\",\n            border: \"2px solid transparent\",\n            borderRadius: 4,\n            overflow: \"hidden\",\n            contain: \"strict\",\n            display: \"flex\",\n            padding: ({ size, removePadding }) => {\n                if (removePadding) return 0;\n                switch (size) {\n                    case \"l\":\n                    case \"xl\":\n                        return theme.spacing(2);\n                    case \"m\":\n                        return theme.spacing(1);\n                    case \"s\":\n                        return theme.spacing(0.5);\n                    default:\n                        return theme.spacing(0.25);\n                }\n            },\n            \"&:hover\": {\n                backgroundColor: ({ disabled }: any) => disabled ? undefined : (theme.palette.mode === \"dark\" ? theme.palette.background.paper : theme.palette.background.default)\n            },\n            justifyContent: ({ align }) => {\n                switch (align) {\n                    case \"right\":\n                        return \"flex-end\";\n                    case \"center\":\n                        return \"center\";\n                    case \"left\":\n                    default:\n                        return \"flex-start\";\n                }\n            }\n        },\n        fullWidth: {\n            width: \"100%\"\n        },\n        fullHeight: {\n            height: \"100%\"\n        },\n        error: {\n            border: `2px solid ${theme.palette.error.light} !important`\n        },\n        selected: {},\n        saved: {\n            border: `2px solid ${theme.palette.success.light}`\n        },\n        disabled: {\n            alpha: 0.8\n        },\n        iconsTop: {\n            position: \"absolute\",\n            top: 2,\n            right: 2\n        },\n        arrow: {\n            color: theme.palette.error.light\n        },\n        tooltip: {\n            margin: \"0 8px\",\n            backgroundColor: theme.palette.error.light\n        },\n        centered: {\n            alignItems: \"center\"\n        },\n        faded: {\n            \"-webkit-mask-image\": \"linear-gradient(to bottom, black 60%, transparent 100%)\",\n            maskImage: \"linear-gradient(to bottom, black 60%, transparent 100%)\",\n            alignItems: \"start\"\n        },\n        scrollable: {\n            overflow: \"auto\",\n            alignItems: \"start\"\n        }\n    })\n);\n\n\n\ninterface TableCellProps {\n    children: React.ReactNode;\n    /**\n     * The value is used only to check changes and force rerenders\n     */\n    value?: any;\n    disabled: boolean;\n    saved?: boolean;\n    error?: Error;\n    allowScroll?: boolean;\n    disabledTooltip?: string;\n    focused?: boolean;\n    selected?: boolean;\n    showExpandIcon?: boolean;\n    removePadding?: boolean;\n    fullHeight?: boolean;\n    select?: (cellRect: DOMRect | undefined) => void;\n    openPopup?: (cellRect: DOMRect | undefined) => void;\n}\n\nconst TableCellInternal = ({\n                               children,\n                               selected,\n                               focused,\n                               disabled,\n                               disabledTooltip,\n                               size,\n                               saved,\n                               error,\n                               align,\n                               allowScroll,\n                               openPopup,\n                               removePadding,\n                               fullHeight,\n                               select,\n                               showExpandIcon = true\n                           }: TableCellProps & CellStyleProps) => {\n\n    const ref = React.createRef<HTMLDivElement>();\n\n    const [isOverflowing, setIsOverflowing] = useState<boolean>(false);\n    const maxHeight = useMemo(() => getRowHeight(size), [size]);\n\n    const [onHover, setOnHover] = useState(false);\n    const [internalSaved, setInternalSaved] = useState(saved);\n\n    const iconRef = React.createRef<HTMLButtonElement>();\n    useEffect(() => {\n        if (iconRef.current && focused) {\n            iconRef.current.focus({ preventScroll: true });\n        }\n    }, [focused]);\n\n    useEffect(() => {\n        if (internalSaved !== saved) {\n            if (saved) {\n                setInternalSaved(true);\n            } else {\n                setInternalSaved(true);\n            }\n        }\n        const removeSavedState = () => {\n            setInternalSaved(false);\n        };\n        const handler = setTimeout(removeSavedState, 500);\n\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [saved]);\n\n    const doOpenPopup = useCallback(() => {\n        if (openPopup) {\n            const cellRect = ref && ref?.current?.getBoundingClientRect();\n            openPopup(cellRect);\n        }\n    }, [ref]);\n\n    const onClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n        if (event.detail === 3) {\n            doOpenPopup();\n        }\n    }, [doOpenPopup]);\n\n    const onSelect = useCallback(() => {\n        if (!select) return;\n        const cellRect = ref && ref?.current?.getBoundingClientRect();\n        if (disabled) {\n            select(undefined);\n        } else if (!selected && cellRect) {\n            select(cellRect);\n        }\n    }, [ref, select, selected, disabled]);\n\n    const onFocus = useCallback((event: React.SyntheticEvent<HTMLDivElement>) => {\n        onSelect();\n        event.stopPropagation();\n    }, [onSelect]);\n\n    const onMeasure = useCallback((contentRect: ContentRect) => {\n        if (contentRect?.bounds) {\n            const newOverflowingValue = contentRect.bounds.height > maxHeight;\n            if (isOverflowing !== newOverflowingValue)\n                setIsOverflowing(newOverflowingValue);\n        }\n    }, [isOverflowing, maxHeight]);\n\n    const cellClasses = useCellStyles({\n        size,\n        align,\n        disabled,\n        removePadding\n    });\n\n    const measuredDiv = <Measure\n        bounds\n        onResize={onMeasure}\n    >\n        {({ measureRef }) => (\n            <div ref={measureRef}\n                 className={clsx(cellClasses.fullWidth, { [cellClasses.fullHeight]: fullHeight })}>\n                {children}\n            </div>\n        )}\n    </Measure>;\n\n    return (\n        <div\n            tabIndex={selected || disabled ? undefined : 0}\n            ref={ref}\n            onFocus={onFocus}\n            onClick={onClick}\n            onMouseEnter={() => setOnHover(true)}\n            onMouseMove={() => setOnHover(true)}\n            onMouseLeave={() => setOnHover(false)}\n            // style={{\n            //     background: \"#\" + Math.floor(Math.random() * 16777215).toString(16)\n            // }}\n            className={clsx(\n                cellClasses.tableCell,\n                {\n                    [cellClasses.disabled]: disabled,\n                    [cellClasses.centered]: disabled || !isOverflowing,\n                    [cellClasses.error]: error,\n                    [cellClasses.saved]: selected && internalSaved,\n                    [cellClasses.fullHeight]: fullHeight\n                })}>\n\n            <div className={clsx(cellClasses.fullWidth, {\n                [cellClasses.faded]: !disabled && !allowScroll && isOverflowing,\n                [cellClasses.scrollable]: !disabled && allowScroll && isOverflowing,\n                [cellClasses.fullHeight]: fullHeight\n            })}>\n                {measuredDiv}\n            </div>\n\n            {disabled && onHover && disabledTooltip &&\n                <div style={{\n                    position: \"absolute\",\n                    top: 4,\n                    right: 4,\n                    fontSize: \"14px\"\n                }}>\n                </div>}\n\n            {(error || showExpandIcon) &&\n                <div className={cellClasses.iconsTop}>\n\n                    {error && <Tooltip\n                        classes={{\n                            arrow: cellClasses.arrow,\n                            tooltip: cellClasses.tooltip\n                        }}\n                        arrow\n                        placement={\"left\"}\n                        title={error.message}>\n                        <ErrorOutlineIcon\n                            fontSize={\"inherit\"}\n                            color={\"error\"}\n                        />\n                    </Tooltip>\n                    }\n\n\n                </div>\n            }\n\n        </div>\n    );\n};\n\nexport const TableCell = React.memo<TableCellProps & CellStyleProps>(TableCellInternal, areEqual) as React.FunctionComponent<TableCellProps & CellStyleProps>;\n\nfunction areEqual(prevProps: TableCellProps & CellStyleProps, nextProps: TableCellProps & CellStyleProps) {\n    return prevProps.selected === nextProps.selected &&\n        prevProps.focused === nextProps.selected &&\n        prevProps.disabled === nextProps.disabled &&\n        prevProps.size === nextProps.size &&\n        prevProps.align === nextProps.align &&\n        prevProps.saved === nextProps.saved &&\n        prevProps.showExpandIcon === nextProps.showExpandIcon &&\n        prevProps.removePadding === nextProps.removePadding &&\n        prevProps.fullHeight === nextProps.fullHeight &&\n        isEqual(prevProps.value, nextProps.value)\n        ;\n}\n\n","import {\n    ArrayProperty,\n    BooleanProperty,\n    GeopointProperty,\n    MapProperty,\n    NumberProperty,\n    Properties,\n    Property,\n    ReferenceProperty,\n    StringProperty,\n    TimestampProperty\n} from \"../models\";\nimport * as yup from \"yup\";\nimport {\n    AnySchema,\n    ArraySchema,\n    BooleanSchema,\n    DateSchema,\n    NumberSchema,\n    ObjectSchema,\n    StringSchema\n} from \"yup\";\nimport { enumToObjectEntries } from \"../core/util/enums\";\n\n// Add custom unique function for array values\ndeclare module \"yup\" {\n    // tslint:disable-next-line\n    interface ArraySchema<T> {\n        uniqueInArray(mapper: (a: T) => T, message: string): ArraySchema<T>;\n    }\n}\nyup.addMethod(yup.array, \"uniqueInArray\", function(\n    mapper = (a: any) => a,\n    message: string\n) {\n    return this.test(\"uniqueInArray\", message, values => {\n        return !values || values.length === new Set(values.map(mapper)).size;\n    });\n});\n\n\nexport type CustomFieldValidator = (props: {\n    name: string,\n    value: any,\n    property: Property,\n    parentProperty?: MapProperty | ArrayProperty\n}) => Promise<boolean>;\n\ninterface PropertyContext<PT extends Property> {\n    property: PT,\n    parentProperty?: MapProperty | ArrayProperty,\n    customFieldValidator?: CustomFieldValidator,\n    name?: any\n}\n\nexport function getYupEntitySchema<M>(properties: Properties<M>,\n                                      customFieldValidator?: CustomFieldValidator): ObjectSchema<any> {\n    const objectSchema: any = {};\n    Object.entries(properties).forEach(([name, property]) => {\n        objectSchema[name] = mapPropertyToYup({\n            property,\n            customFieldValidator,\n            name\n        });\n    });\n    return yup.object().shape(objectSchema);\n}\n\nexport function mapPropertyToYup(propertyContext: PropertyContext<any>): AnySchema<unknown> {\n\n    const property = propertyContext.property;\n    if (typeof property === \"function\") {\n        console.log(\"Error in property\", propertyContext);\n        throw Error(\"PropertyBuilders can only be defined as the root properties in entity schemas, not in child properties\");\n    }\n\n    if (property.dataType === \"string\") {\n        return getYupStringSchema(propertyContext);\n    } else if (property.dataType === \"number\") {\n        return getYupNumberSchema(propertyContext);\n    } else if (property.dataType === \"boolean\") {\n        return getYupBooleanSchema(propertyContext);\n    } else if (property.dataType === \"map\") {\n        return getYupMapObjectSchema(propertyContext);\n    } else if (property.dataType === \"array\") {\n        return getYupArraySchema(propertyContext);\n    } else if (property.dataType === \"timestamp\") {\n        return getYupDateSchema(propertyContext);\n    } else if (property.dataType === \"geopoint\") {\n        return getYupGeoPointSchema(propertyContext);\n    } else if (property.dataType === \"reference\") {\n        return getYupReferenceSchema(propertyContext);\n    }\n    console.error(\"Unsupported data type in yup mapping\", property)\n    throw Error(\"Unsupported data type in yup mapping\");\n}\n\nexport function getYupMapObjectSchema({\n                                                                            property,\n                                                                            parentProperty,\n                                                                            customFieldValidator,\n                                                                            name\n                                                                        }: PropertyContext<MapProperty>): ObjectSchema<any> {\n    const objectSchema: any = {};\n    if (property.properties)\n        Object.entries(property.properties).forEach(([childName, childProperty]: [string, Property]) => {\n            objectSchema[childName] = mapPropertyToYup({\n                property: childProperty,\n                parentProperty: property,\n                customFieldValidator,\n                name: `${name}[${childName}]`\n            });\n        });\n    return yup.object().shape(objectSchema);\n}\n\nfunction getYupStringSchema({\n                                property,\n                                parentProperty,\n                                customFieldValidator,\n                                name\n                            }: PropertyContext<StringProperty>): StringSchema {\n    let schema: StringSchema<any> = yup.string();\n    const validation = property.validation;\n    if (property.config?.enumValues) {\n        if (validation?.required)\n            schema = schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\");\n        schema = schema.oneOf(\n            enumToObjectEntries(property.config?.enumValues)\n                .map(([key, _]) => key)\n        );\n    }\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.unique && customFieldValidator && name)\n            schema = schema.test(\"unique\", \"This value already exists and should be unique\",\n                (value, context) =>\n                    customFieldValidator({\n                        name,\n                        property,\n                        parentProperty,\n                        value\n                    }));\n        if (validation.min || validation.min === 0) schema = schema.min(validation.min, `${property.title} must be min ${validation.min} characters long`);\n        if (validation.max || validation.max === 0) schema = schema.max(validation.max, `${property.title} must be max ${validation.max} characters long`);\n        if (validation.matches) schema = schema.matches(validation.matches, validation.matchesMessage);\n        if (validation.email) schema = schema.email(`${property.title} must be an email`);\n        if (validation.url) schema = schema.url(`${property.title} must be a url`);\n        if (validation.trim) schema = schema.trim();\n        if (validation.lowercase) schema = schema.lowercase();\n        if (validation.uppercase) schema = schema.uppercase();\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction getYupNumberSchema({\n                                property,\n                                parentProperty,\n                                customFieldValidator,\n                                name\n                            }: PropertyContext<NumberProperty>): NumberSchema {\n    const validation = property.validation;\n    let schema: NumberSchema<any> = yup.number().typeError(\"Must be a number\");\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.unique && customFieldValidator && name)\n            schema = schema.test(\"unique\",\n                \"This value already exists and should be unique\",\n                (value) => customFieldValidator({\n                    name,\n                    property,\n                    parentProperty,\n                    value\n                }));\n        if (validation.min || validation.min === 0) schema = schema.min(validation.min, `${property.title} must be higher or equal to ${validation.min}`);\n        if (validation.max || validation.max === 0) schema = schema.max(validation.max, `${property.title} must be lower or equal to ${validation.max}`);\n        if (validation.lessThan || validation.lessThan === 0) schema = schema.lessThan(validation.lessThan, `${property.title} must be higher than ${validation.lessThan}`);\n        if (validation.moreThan || validation.moreThan === 0) schema = schema.moreThan(validation.moreThan, `${property.title} must be lower than ${validation.moreThan}`);\n        if (validation.positive) schema = schema.positive(`${property.title} must be positive`);\n        if (validation.negative) schema = schema.negative(`${property.title} must be negative`);\n        if (validation.integer) schema = schema.integer(`${property.title} must be an integer`);\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction getYupGeoPointSchema({\n                                  property,\n                                  parentProperty,\n                                  customFieldValidator,\n                                  name\n                              }: PropertyContext<GeopointProperty>): AnySchema {\n    let schema: ObjectSchema<any> = yup.object();\n    const validation = property.validation;\n    if (validation?.unique && customFieldValidator && name)\n        schema = schema.test(\"unique\",\n            \"This value already exists and should be unique\",\n            (value) => customFieldValidator({\n                name,\n                property,\n                parentProperty,\n                value\n            }));\n    if (validation?.required) {\n        schema = schema.required(validation.requiredMessage).nullable(true);\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction getYupDateSchema({\n                              property,\n                              parentProperty,\n                              customFieldValidator,\n                              name\n                          }: PropertyContext<TimestampProperty>): AnySchema | DateSchema {\n    if (property.autoValue) {\n        return yup.object().nullable(true);\n    }\n    let schema: DateSchema<any> = yup.date();\n    const validation = property.validation;\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.unique && customFieldValidator && name)\n            schema = schema.test(\"unique\",\n                \"This value already exists and should be unique\",\n                (value) => customFieldValidator({\n                    name,\n                    property,\n                    parentProperty,\n                    value\n                }));\n        if (validation.min) schema = schema.min(validation.min, `${property.title} must be after ${validation.min}`);\n        if (validation.max) schema = schema.max(validation.max, `${property.title} must be before ${validation.min}`);\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction getYupReferenceSchema({\n                                                                     property,\n                                                                     parentProperty,\n                                                                     customFieldValidator,\n                                                                     name\n                                                                 }: PropertyContext<ReferenceProperty>): AnySchema {\n    let schema: ObjectSchema<any> = yup.object();\n    const validation = property.validation;\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.unique && customFieldValidator && name)\n            schema = schema.test(\"unique\",\n                \"This value already exists and should be unique\",\n                (value) => customFieldValidator({\n                    name,\n                    property,\n                    parentProperty,\n                    value\n                }));\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction getYupBooleanSchema({\n                                 property,\n                                 parentProperty,\n                                 customFieldValidator,\n                                 name\n                             }: PropertyContext<BooleanProperty>): BooleanSchema {\n    let schema: BooleanSchema<any> = yup.boolean();\n    const validation = property.validation;\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.unique && customFieldValidator && name)\n            schema = schema.test(\"unique\",\n                \"This value already exists and should be unique\",\n                (value) => customFieldValidator({\n                    name,\n                    property,\n                    parentProperty,\n                    value\n                }));\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n\nfunction hasUniqueInArrayModifier(property: Property): boolean | [string, Property][] {\n    if (property.validation?.uniqueInArray) {\n        return true;\n    } else if (property.dataType === \"map\" && property.properties) {\n        return Object.entries(property.properties)\n            .filter(([key, childProperty]) => childProperty.validation?.uniqueInArray);\n    }\n    return false;\n}\n\nfunction getYupArraySchema({\n                                  property,\n                                  parentProperty,\n                                  customFieldValidator,\n                                  name\n                              }: PropertyContext<ArrayProperty>): ArraySchema<any> {\n\n    let schema: ArraySchema<any> = yup.array();\n\n    if (property.of) {\n        schema = schema.of(mapPropertyToYup({\n            property: property.of,\n            parentProperty: property\n        }));\n        const arrayUniqueFields = hasUniqueInArrayModifier(property.of);\n        if (arrayUniqueFields) {\n            if (typeof arrayUniqueFields === \"boolean\") {\n                schema = schema.uniqueInArray(v => v, `${property.title} should have unique values within the array`);\n            } else if (Array.isArray(arrayUniqueFields)) {\n                arrayUniqueFields.forEach(([name, childProperty]) => {\n                        schema = schema.uniqueInArray(v => v && v[name], `${property.title}  ${childProperty.title ?? name}: should have unique values within the array`);\n                    }\n                );\n            }\n        }\n    }\n    const validation = property.validation;\n\n    if (validation) {\n        schema = validation.required\n            ? schema.required(validation?.requiredMessage ? validation.requiredMessage : \"Required\").nullable(true)\n            : schema.notRequired().nullable(true);\n        if (validation.min || validation.min === 0) schema = schema.min(validation.min, `${property.title} should be min ${validation.min} entries long`);\n        if (validation.max) schema = schema.max(validation.max, `${property.title} should be max ${validation.max} entries long`);\n    } else {\n        schema = schema.notRequired().nullable(true);\n    }\n    return schema;\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { TextareaAutosize, Theme } from \"@mui/material\";\nimport clsx from \"clsx\";\n\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\n\nexport const useInputStyles = makeStyles<Theme>(theme => createStyles({\n        input: {\n            padding: 0,\n            margin: 0,\n            width: \"100%\",\n            color: \"unset\",\n            fontWeight: \"unset\",\n            lineHeight: \"unset\",\n            fontSize: \"unset\",\n            fontFamily: \"unset\",\n            background: \"unset\",\n            border: \"unset\",\n            resize: \"none\",\n            outline: \"none\"\n        }\n    })\n);\n\nexport function TableInput(props: {\n    error: Error | undefined;\n    value: string;\n    multiline: boolean;\n    focused: boolean;\n    disabled: boolean;\n    updateValue: (newValue: (string | null)) => void;\n}) {\n    const { disabled, value, multiline, updateValue, focused } = props;\n    const [internalValue, setInternalValue] = useState<typeof value>(value);\n    const focusedState = useRef<boolean>(false);\n\n    useEffect(\n        () => {\n            const doUpdate = () => {\n                const emptyInitialValue = !value || value.length === 0;\n                if (emptyInitialValue && !internalValue)\n                    return;\n                if (internalValue !== value)\n                    updateValue(internalValue);\n            };\n            const handler = setTimeout(doUpdate, 300);\n\n            return () => {\n                clearTimeout(handler);\n            };\n\n        },\n        [internalValue]\n    );\n\n    useEffect(\n        () => {\n            if (!focused && value !== internalValue)\n                setInternalValue(value);\n        },\n        [value, focused]\n    );\n\n    const classes = useInputStyles();\n\n    const ref = React.createRef<HTMLTextAreaElement>();\n    useEffect(() => {\n        if (ref.current && focused && !focusedState.current) {\n            focusedState.current = true;\n            ref.current.focus({ preventScroll: true });\n            ref.current.selectionStart = ref.current.value.length;\n            ref.current.selectionEnd = ref.current.value.length;\n        } else {\n            focusedState.current = focused;\n        }\n    }, [focused, ref]);\n\n    return (\n        <div style={{ display: \"flex\" }}>\n            <TextareaAutosize\n                ref={ref}\n                disabled={disabled}\n                className={clsx(classes.input)}\n                value={internalValue ?? \"\"}\n                onChange={(evt) => {\n                    const newValue = evt.target.value as string;\n                    if (multiline || !newValue.endsWith(\"\\n\"))\n                        setInternalValue(newValue);\n                }}\n            />\n        </div>\n    );\n}\n","import { EnumValues } from \"../../../../../models\";\nimport { ArrayEnumPreview } from \"../../../../../preview\";\nimport React, { useEffect, useState } from \"react\";\nimport { Checkbox, ListItemText, MenuItem, Select, Theme } from \"@mui/material\";\nimport {\n    enumToObjectEntries,\n    isEnumValueDisabled\n} from \"../../../../util/enums\";\nimport { EnumValuesChip } from \"../../../../../preview/components/CustomChip\";\n\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useInputStyles = makeStyles<Theme>(theme => createStyles({\n        select: {\n            height: \"100%\"\n        },\n        selectRoot: {\n            display: \"flex\",\n            alignItems: \"center\",\n            height: \"100%\"\n        }\n    })\n);\n\nexport function TableSelect(props: {\n    name: string;\n    enumValues: EnumValues;\n    error: Error | undefined;\n    multiple: boolean;\n    disabled: boolean;\n    small: boolean;\n    internalValue: string | number | string[] | number[] | undefined;\n    valueType: \"string\" | \"number\";\n    updateValue: (newValue: (string | number | string[] | number[] | null)) => void;\n    focused: boolean;\n    onBlur?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    setPreventOutsideClick: (value: any) => void;\n}) {\n\n    const {\n        name,\n        enumValues,\n        error,\n        internalValue,\n        disabled,\n        small,\n        focused,\n        updateValue,\n        multiple,\n        setPreventOutsideClick,\n        valueType\n    } = props;\n\n    const [open, setOpen] = useState<boolean>(false);\n    const handleOpen = () => {\n        setPreventOutsideClick(true);\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setPreventOutsideClick(false);\n        setOpen(false);\n    };\n\n    const classes = useInputStyles();\n\n    const validValue = (Array.isArray(internalValue) && multiple) ||\n        (!Array.isArray(internalValue) && !multiple);\n\n    const ref = React.createRef<HTMLInputElement>();\n    useEffect(() => {\n        if (ref.current && focused) {\n            ref.current?.focus({ preventScroll: true });\n        }\n    }, [focused, ref]);\n\n    return (\n        <Select\n            variant={\"standard\"}\n            key={`table_select_${name}`}\n            inputRef={ref}\n            className={classes.select}\n            classes={{ select: classes.selectRoot }}\n            open={open}\n            disabled={disabled}\n            multiple={multiple}\n            onClose={handleClose}\n            onOpen={handleOpen}\n            fullWidth\n            inputProps={{\n                style: {\n                    height: \"100%\"\n                }\n            }}\n            disableUnderline\n            error={!!error}\n            value={validValue\n                ? (multiple ? (internalValue as any[]).map(v => v.toString()) : internalValue)\n                : (multiple ? [] : \"\")}\n            onChange={(evt) => {\n                if (valueType === \"number\") {\n                    if (multiple) {\n                        const newValue = (evt.target.value as string[]).map((v) => parseFloat(v));\n                        updateValue(newValue);\n                    } else {\n                        updateValue(parseFloat(evt.target.value as string));\n                    }\n                } else if (valueType === \"string\") {\n                    if (!evt.target.value)\n                        updateValue(null)\n                    else\n                        updateValue(evt.target.value);\n                } else {\n                    throw Error(\"Missing mapping in TableSelect\");\n                }\n            }}\n            renderValue={(enumKey: any) => {\n                if (multiple && Array.isArray(enumKey)) {\n                    return <ArrayEnumPreview value={enumKey}\n                                             name={name}\n                                             enumValues={enumValues}\n                                             size={small ? \"small\" : \"regular\"}/>;\n                } else {\n                    return <EnumValuesChip\n                        enumKey={enumKey}\n                        enumValues={enumValues}\n                        small={small}/>;\n                }\n            }\n            }>\n\n            {enumToObjectEntries(enumValues).map(([key, labelOrConfig]) => {\n\n                const chip = <EnumValuesChip\n                    enumKey={key}\n                    enumValues={enumValues}\n                    small={true}/>;\n                if (multiple) {\n                    return (\n                        <MenuItem key={`select-${name}-${key}`}\n                                  value={key}\n                                  disabled={isEnumValueDisabled(labelOrConfig)}\n                                  dense={true}>\n                            <Checkbox\n                                checked={Array.isArray(internalValue) && (internalValue as any[]).map(v => v.toString()).includes(key.toString())}/>\n                            <ListItemText primary={chip}/>\n                        </MenuItem>\n                    );\n                } else {\n                    return (\n                        <MenuItem key={`select-${name}-${key}`} value={key}\n                                  disabled={isEnumValueDisabled(labelOrConfig)}\n                                  dense={true}>\n                            {chip}\n                        </MenuItem>\n                    );\n                }\n            })}\n        </Select>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Input, Theme } from \"@mui/material\";\nimport clsx from \"clsx\";\n\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\n\nexport const useInputStyles = makeStyles<Theme>(theme => createStyles({\n        input: {\n            padding: 0,\n            margin: 0,\n            width: \"100%\",\n            color: \"unset\",\n            fontWeight: \"unset\",\n            lineHeight: \"unset\",\n            fontSize: \"unset\",\n            fontFamily: \"unset\",\n            background: \"unset\",\n            border: \"unset\",\n            resize: \"none\",\n            outline: \"none\"\n        },\n        numberInput: {\n            textAlign: \"right\"\n        }\n    })\n);\n\nexport function NumberTableInput(props: {\n    error: Error | undefined;\n    value: number;\n    align: \"right\" | \"left\" | \"center\";\n    updateValue: (newValue: (number | null)) => void;\n    focused: boolean;\n    disabled: boolean;\n    onBlur?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n}) {\n\n    const { align, value, updateValue, focused, onBlur, disabled } = props;\n    const propStringValue = (value && typeof value === \"number\") ? value.toString() : \"\";\n    const [internalValue, setInternalValue] = useState<string | null>(propStringValue);\n\n    useEffect(\n        () => {\n            const doUpdate = () => {\n                if (internalValue !== propStringValue) {\n                    if (internalValue !== undefined && internalValue !== null) {\n                        const numberValue = parseFloat(internalValue);\n                        if (isNaN(numberValue))\n                            return;\n                        if (numberValue !== undefined && numberValue !== null)\n                            updateValue(numberValue);\n                    } else {\n                        updateValue(null);\n                    }\n                }\n            };\n            const handler = setTimeout(doUpdate, 300);\n\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [internalValue]\n    );\n\n    useEffect(\n        () => {\n            if (!focused && propStringValue !== internalValue)\n                setInternalValue(value !== undefined && value !== null ? value.toString() : null);\n        },\n        [value, focused]\n    );\n\n    const ref = React.createRef<HTMLInputElement>();\n    const classes = useInputStyles();\n\n    useEffect(() => {\n        if (ref.current && focused) {\n            ref.current.focus({ preventScroll: true });\n        }\n    }, [focused, ref]);\n\n    const regexp = /^-?[0-9]+[,.]?[0-9]*$/;\n\n    return (\n        <Input\n            inputRef={ref}\n            style={{\n                width: \"100%\",\n                fontSize: \"unset\",\n                fontFamily: \"unset\",\n                background: \"unset\",\n                border: \"unset\",\n                resize: \"none\",\n                outline: \"none\",\n                padding: 0\n\n            }}\n            inputProps={{\n                style: {\n                    textAlign: align\n                }\n            }}\n            disabled={disabled}\n            className={clsx(classes.input, classes.numberInput)}\n            disableUnderline\n            value={internalValue ?? \"\"}\n            onBlur={onBlur}\n            onChange={(evt) => {\n                const newValue = evt.target.value.replace(\",\", \".\");\n                if (newValue.length === 0)\n                    setInternalValue(null);\n                if (regexp.test(newValue) || newValue.startsWith(\"-\"))\n                    setInternalValue(newValue);\n            }}\n        />\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { Switch } from \"@mui/material\";\n\nexport function TableSwitch(props: {\n    error: Error | undefined;\n    internalValue?: boolean;\n    focused: boolean;\n    disabled: boolean;\n    updateValue: (newValue: (boolean | null)) => void;\n}) {\n    const { disabled, internalValue, updateValue, focused } = props;\n\n    const ref = React.createRef<HTMLTextAreaElement>();\n    useEffect(() => {\n        if (ref.current && focused) {\n            ref.current.focus({ preventScroll: true });\n        }\n    }, [focused, ref]);\n\n    return (\n        <Switch\n            inputRef={ref}\n            color={\"secondary\"}\n            checked={Boolean(internalValue)}\n            disabled={disabled}\n            onChange={(evt) => {\n                const value = evt.target.checked as boolean;\n                updateValue(value);\n            }}\n        />\n    );\n}\n","import React, { useCallback } from \"react\";\nimport { Box, TextField as MuiTextField, Theme } from \"@mui/material\";\nimport { TimestampProperty } from \"../../../../../models\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\n\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nexport const useInputStyles = makeStyles<Theme>(theme => createStyles({\n        hidden: {\n            display: \"none\"\n        }\n    })\n);\n\nexport function TableDateField(props: {\n    name: string;\n    error: Error | undefined;\n    internalValue: Date | undefined | null;\n    updateValue: (newValue: (Date | null)) => void;\n    focused: boolean;\n    disabled: boolean;\n    onBlur?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    setPreventOutsideClick: (value: any) => void;\n}) {\n\n    const {\n        disabled,\n        error,\n        internalValue,\n        setPreventOutsideClick,\n        updateValue\n    } = props;\n\n    const handleOpen = useCallback(() => {\n        setPreventOutsideClick(true);\n    }, []);\n\n    const handleClose = useCallback(() => {\n        setPreventOutsideClick(false);\n    }, []);\n\n    return (\n        <Box display={\"flex\"} alignItems={\"center\"} width={\"100%\"}>\n\n            <DateTimePicker\n                value={internalValue ?? null}\n                clearable\n                disabled={disabled}\n                onChange={(dateValue: Date | null) => {\n                    updateValue(dateValue);\n                }}\n                renderInput={(params) =>\n                    <MuiTextField {...params}\n                                  variant={\"standard\"}\n                                  error={Boolean(error)}\n                                  style={{\n                                      height: \"100%\"\n                                  }}\n                                  InputProps={{\n                                      ...params.InputProps,\n                                      style: { fontSize: 14 },\n                                      disableUnderline: true\n                                  }}\n                    />}\n                InputAdornmentProps={{\n                    style: {\n                        fontSize: \"small\",\n                        height: 26\n                    }\n                }}\n                onOpen={handleOpen}\n                onClose={handleClose}\n            />\n        </Box>\n    );\n}\n","import React, { useCallback, useState } from \"react\";\nimport { Box, Button } from \"@mui/material\";\nimport { ReferencePreview } from \"../../../../../preview\";\nimport { ErrorView } from \"../../../index\";\nimport {\n    ArrayProperty,\n    CollectionSize,\n    Entity,\n    EntityReference,\n    ReferenceProperty\n} from \"../../../../../models\";\nimport { ReferenceDialog } from \"../../../ReferenceDialog\";\n\nimport { getPreviewSizeFrom } from \"../../../../../preview/util\";\nimport { getReferenceFrom } from \"../../../../utils\";\nimport { useNavigation } from \"../../../../../hooks\";\n\n\nexport function TableReferenceField(props: {\n    name: string;\n    disabled: boolean;\n    internalValue: EntityReference | EntityReference[] | undefined | null;\n    updateValue: (newValue: (EntityReference | EntityReference [] | null)) => void;\n    property: ReferenceProperty | ArrayProperty<EntityReference[]>;\n    size: CollectionSize;\n    setPreventOutsideClick: (value: any) => void;\n}) {\n\n    const {\n        name,\n        internalValue,\n        setPreventOutsideClick,\n        property,\n        updateValue,\n        size,\n        disabled\n    } = props;\n\n    let usedProperty: ReferenceProperty;\n    let multiselect;\n    if (property.dataType === \"reference\") {\n        usedProperty = property;\n        multiselect = false;\n    } else if (property.dataType === \"array\" && property.of?.dataType === \"reference\") {\n        usedProperty = property.of;\n        multiselect = true;\n    } else {\n        throw Error(\"TableReferenceField misconfiguration\");\n    }\n\n    if (typeof usedProperty.path !== \"string\") {\n        throw Error(\"Picked the wrong component TableReferenceField\");\n    }\n\n    const path = usedProperty.path;\n\n    const [onHover, setOnHover] = useState(false);\n    const [open, setOpen] = useState<boolean>(false);\n\n    const navigationContext = useNavigation();\n    const collectionResolver = navigationContext.getCollectionResolver(path);\n    if (!collectionResolver) {\n        throw Error(`Couldn't find the corresponding collection view for the path: ${path}`);\n    }\n    const handleOpen = useCallback((event: React.MouseEvent) => {\n        if (disabled)\n            return;\n        if (event.detail <= 1) {\n            event.stopPropagation();\n            setPreventOutsideClick(true);\n            setOpen(true);\n        }\n    }, [disabled, setPreventOutsideClick]);\n\n    const handleClose = useCallback(() => {\n        setPreventOutsideClick(false);\n        setOpen(false);\n    }, [setPreventOutsideClick, setOpen]);\n\n    const onSingleValueSet = useCallback((entity: Entity<any>) => {\n        updateValue(entity ? getReferenceFrom(entity) : null);\n        setPreventOutsideClick(false);\n        setOpen(false);\n    }, [updateValue, setPreventOutsideClick, setOpen]);\n\n    const onMultipleEntitiesSelected = useCallback((entities: Entity<any>[]) => {\n        updateValue(entities.map((e) => getReferenceFrom(e)));\n    }, [updateValue]);\n\n    const selectedIds = internalValue\n        ? (Array.isArray(internalValue)\n            ? internalValue.map((ref) => ref.id)\n            : internalValue.id ? [internalValue.id] : [])\n        : [];\n    const valueNotSet = !internalValue || (Array.isArray(internalValue) && internalValue.length === 0);\n\n    function buildSingleReferenceField() {\n        if (internalValue instanceof EntityReference)\n            return <ReferencePreview name={name}\n                                     onClick={disabled ? undefined : handleOpen}\n                                     value={internalValue as EntityReference}\n                                     property={usedProperty}\n                                     onHover={onHover}\n                                     size={getPreviewSizeFrom(size)}\n            />;\n        else\n            return <ErrorView error={\"Data is not a reference\"}/>;\n    }\n\n    function buildMultipleReferenceField() {\n        if (Array.isArray(internalValue))\n            return <>\n                {internalValue.map((v, index) =>\n                    <Box sx={{ m: 0.5 }}\n                         key={`preview_array_ref_${name}_${index}`}>\n                        <ReferencePreview\n                            name={`${name}[${index}]`}\n                            onClick={disabled ? undefined : handleOpen}\n                            size={\"tiny\"}\n                            onHover={onHover}\n                            value={v}\n                            property={usedProperty}\n\n                        />\n                    </Box>\n                )\n                }\n            </>;\n        else\n            return <ErrorView error={\"Data is not an array of references\"}/>;\n    }\n\n    if (!collectionResolver)\n        return <ErrorView error={\"The specified collection does not exist\"}/>;\n\n    return (\n        <div\n            onMouseEnter={() => setOnHover(true)}\n            onMouseMove={() => setOnHover(true)}\n            onMouseLeave={() => setOnHover(false)}>\n\n            {internalValue && !multiselect &&\n            buildSingleReferenceField()\n            }\n\n            {internalValue && multiselect &&\n            buildMultipleReferenceField()\n            }\n\n            {valueNotSet &&\n            <Button\n                onClick={handleOpen}\n                size={\"small\"}\n                variant=\"outlined\"\n                color=\"primary\">\n                Edit {property.title}\n            </Button>}\n\n            {!disabled &&\n            open &&\n            <ReferenceDialog open={open}\n                                multiselect={multiselect}\n                                path={path}\n                                collectionResolver={collectionResolver}\n                                onClose={handleClose}\n                                onMultipleEntitiesSelected={onMultipleEntitiesSelected}\n                                onSingleEntitySelected={onSingleValueSet}\n                                selectedEntityIds={selectedIds}\n            />}\n\n\n        </div>\n    );\n}\n","import * as React from \"react\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport { Box, IconButton, Skeleton, Theme, Typography } from \"@mui/material\";\n\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport {\n    ArrayProperty,\n    EntityValues,\n    Property,\n    StorageMeta,\n    StringProperty\n} from \"../../../../../models\";\nimport { useDropzone } from \"react-dropzone\";\nimport { PreviewComponent, PreviewSize } from \"../../../../../preview\";\nimport isEqual from \"react-fast-compare\";\nimport { ErrorBoundary } from \"../../../../internal/ErrorBoundary\";\n\nimport clsx from \"clsx\";\nimport { useSnackbarController, useStorageSource } from \"../../../../../hooks\";\nimport { getThumbnailMeasure } from \"../../../../../preview/util\";\n\nexport const useStyles = makeStyles<Theme, {hasValue:boolean}>((theme: Theme) => ({\n    dropZone: {\n        position: \"relative\",\n        height: \"100%\",\n        outline: 0,\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n        justifyContent: ({ hasValue }) => hasValue ? \"start\" : \"center\",\n        alignItems: \"center\"\n    },\n    activeDrop: {\n        borderRadius: \"2px\",\n        border: \"2px solid\",\n        borderColor: \"transparent\"\n    },\n    acceptDrop: {\n        transition: \"background-color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n        background: \"repeating-linear-gradient( 45deg, rgba(128, 128, 128, 0.2), rgba(128, 128, 128, 0.2) 10px, rgba(128, 128, 128, 0.25) 10px, rgba(128, 128, 128, 0.25) 20px) !important\",\n        // background: \"repeating-linear-gradient( 45deg, rgba(0, 0, 0, 0.09), rgba(0, 0, 0, 0.09) 10px, rgba(0, 0, 0, 0.12) 10px, rgba(0, 0, 0, 0.12) 20px) !important\",\n        borderColor: theme.palette.success.light\n    },\n    rejectDrop: {\n        borderColor: theme.palette.error.light\n    },\n    arrayEntry: {\n        border: \"1px dashed transparent\",\n        borderRadius: \"4px\"\n    },\n    arrayEntryHovered: {\n        opacity: 0.5,\n        border: \"1px dashed gray\",\n        boxSizing: \"border-box\"\n    },\n    thumbnailCloseIcon: {\n        position: \"absolute\",\n        borderRadius: \"9999px\",\n        top: -8,\n        right: -8,\n        zIndex: 100,\n        backgroundColor: theme.palette.background.paper\n    }\n}));\n\n\n/**\n * Field that allows to upload files to Google Cloud Storage.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function TableStorageUpload(props: {\n    name: string;\n    error: Error | undefined;\n    disabled: boolean;\n    internalValue: string | string[] | null;\n    updateValue: (newValue: (string | string[] | null)) => void;\n    focused: boolean;\n    property: StringProperty | ArrayProperty<string[]>;\n    entityId: string;\n    previewSize: PreviewSize;\n    entityValues: EntityValues<any>;\n    onBlur?: React.FocusEventHandler<HTMLInputElement | HTMLTextAreaElement>;\n    setPreventOutsideClick: (value: any) => void;\n}) {\n\n    const {\n        name,\n        error,\n        internalValue,\n        disabled,\n        property,\n        entityId,\n        entityValues,\n        previewSize,\n        updateValue,\n        setPreventOutsideClick\n    } = props;\n\n    const multipleFilesSupported = property.dataType === \"array\";\n\n    const storageMeta: StorageMeta | undefined = property.dataType === \"string\"\n? property.config?.storageMeta\n        : property.dataType === \"array\" &&\n        (property.of as Property).dataType === \"string\"\n? (property.of as StringProperty).config?.storageMeta\n            : undefined;\n\n    if (!storageMeta)\n        throw Error(\"Storage meta must be specified\");\n\n    const fileNameBuilder = (file: File) => {\n        if (storageMeta.fileName) {\n            const fileName = storageMeta.fileName({\n                entityId,\n                values: entityValues,\n                property,\n                file,\n                storageMeta,\n                name\n            });\n\n            if (!fileName || fileName.length === 0) {\n                throw Error(\"You need to return a valid filename\");\n            }\n            return fileName;\n        }\n        return file.name;\n    };\n\n    const storagePathBuilder = (file: File) => {\n        if (typeof storageMeta.storagePath === \"string\")\n            return storageMeta.storagePath;\n\n        if (typeof storageMeta.storagePath === \"function\") {\n            const storagePath = storageMeta.storagePath({\n                entityId: entityId,\n                values: entityValues,\n                property,\n                file,\n                storageMeta,\n                name\n            });\n\n            if (!storagePath || storagePath.length === 0) {\n                throw Error(\"You need to return a valid filename\");\n            }\n            return storagePath;\n        }\n        console.warn(\"When using a storage property, if you don't specify the storagePath, the root storage is used\");\n        return \"/\";\n    };\n\n\n    return (\n\n        <StorageUpload\n            value={internalValue}\n            name={name}\n            disabled={disabled}\n            autoFocus={false}\n            property={property}\n            onChange={(newValue) => {\n                updateValue(\n                    newValue\n                );\n            }}\n            fileNameBuilder={fileNameBuilder}\n            storagePathBuilder={storagePathBuilder}\n            storageMeta={storageMeta}\n            multipleFilesSupported={multipleFilesSupported}\n            previewSize={previewSize}/>\n\n    );\n}\n\n/**\n * Internal representation of an item in the storage\n * It can have two states, having a storagePathOrDownloadUrl set,\n * which means the file has\n * been uploaded and it is rendered as a preview\n * Or have a pending file being uploaded.\n */\ninterface StorageFieldItem {\n    id: number; // generated on the fly for internal use only\n    storagePathOrDownloadUrl?: string;\n    file?: File;\n    fileName?: string;\n    metadata?: any\n}\n\ninterface StorageUploadProps {\n    value: string | string[] | null;\n    name: string;\n    property: StringProperty | ArrayProperty<string[]>;\n    onChange: (value: string | string[] | null) => void;\n    multipleFilesSupported: boolean;\n    autoFocus: boolean;\n    disabled: boolean;\n    previewSize: PreviewSize;\n    storageMeta: StorageMeta;\n    fileNameBuilder: (file: File) => string;\n    storagePathBuilder: (file: File) => string;\n}\n\nfunction StorageUpload({\n                           property,\n                           name,\n                           value,\n                           onChange,\n                           multipleFilesSupported,\n                           previewSize: previewSizeInput,\n                           disabled,\n                           autoFocus,\n                           storageMeta,\n                           fileNameBuilder,\n                                  storagePathBuilder\n                              }: StorageUploadProps) {\n\n    const storage = useStorageSource();\n    const [onHover, setOnHover] = useState(false);\n\n    const previewSize = multipleFilesSupported && previewSizeInput === \"regular\" ? \"small\" : previewSizeInput;\n    if (multipleFilesSupported) {\n        const arrayProperty = property as ArrayProperty<string[]>;\n        if (arrayProperty.of) {\n            if (arrayProperty.of.dataType !== \"string\") {\n                throw Error(\"Storage field using array must be of data type string\");\n            }\n        } else {\n            throw Error(\"Storage field using array must be of data type string\");\n        }\n    }\n\n    const metadata: any | undefined = storageMeta?.metadata;\n    const hasValue = Boolean(value);\n\n    const classes = useStyles({ hasValue });\n\n    const internalInitialValue: StorageFieldItem[] =\n        value == null\n            ? []\n            : (multipleFilesSupported\n                ? value as string[]\n                : [value as string]).map(entry => (\n                {\n                    id: getRandomId(),\n                    storagePathOrDownloadUrl: entry,\n                    metadata: metadata,\n                    size: previewSize\n                }\n            ));\n\n    const initialValue = React.useRef<string | string[] | null>(value);\n    const [internalValue, setInternalValue] = React.useState<StorageFieldItem[]>(internalInitialValue);\n\n    if (!isEqual(initialValue.current, value)) {\n        initialValue.current = value;\n        setInternalValue(internalInitialValue ?? []);\n    }\n\n    function getRandomId() {\n        return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n    }\n\n    function removeDuplicates(items: StorageFieldItem[]) {\n        return items.filter(\n            (v, i) => {\n                return ((items.map((v) => v.storagePathOrDownloadUrl).indexOf(v.storagePathOrDownloadUrl) === i) || !v.storagePathOrDownloadUrl) &&\n                    ((items.map((v) => v.file).indexOf(v.file) === i) || !v.file);\n            }\n        );\n    }\n\n    const onExternalDrop = (acceptedFiles: File[]) => {\n\n        if (!acceptedFiles.length || disabled)\n            return;\n\n        let newInternalValue: StorageFieldItem[];\n        if (multipleFilesSupported) {\n            newInternalValue = [...internalValue,\n                ...(acceptedFiles.map(file => ({\n                    id: getRandomId(),\n                    file,\n                    fileName: fileNameBuilder(file),\n                    metadata\n                } as StorageFieldItem)))];\n        } else {\n            newInternalValue = [{\n                id: getRandomId(),\n                file: acceptedFiles[0],\n                fileName: fileNameBuilder(acceptedFiles[0]),\n                metadata\n            }];\n        }\n\n        // Remove either storage path or file duplicates\n        newInternalValue = removeDuplicates(newInternalValue);\n        setInternalValue(newInternalValue);\n    };\n\n    const onFileUploadComplete = async (uploadedPath: string,\n                                        entry: StorageFieldItem,\n                                        metadata?: any) => {\n\n        let uploadPathOrDownloadUrl = uploadedPath;\n        if (storageMeta.storeUrl) {\n            uploadPathOrDownloadUrl = await storage.getDownloadURL(uploadedPath);\n        }\n        if (storageMeta.postProcess) {\n            uploadPathOrDownloadUrl = await storageMeta.postProcess(uploadPathOrDownloadUrl);\n        }\n\n        let newValue: StorageFieldItem[];\n\n        entry.storagePathOrDownloadUrl = uploadPathOrDownloadUrl;\n        entry.metadata = metadata;\n        newValue = [...internalValue];\n\n        newValue = removeDuplicates(newValue);\n        setInternalValue(newValue);\n\n        const fieldValue = newValue\n            .filter(e => !!e.storagePathOrDownloadUrl)\n            .map(e => e.storagePathOrDownloadUrl as string);\n\n        if (multipleFilesSupported) {\n            onChange(fieldValue);\n        } else {\n            onChange(fieldValue ? fieldValue[0] : null);\n        }\n    };\n\n    const onClear = (clearedStoragePathOrDownloadUrl: string) => {\n        if (multipleFilesSupported) {\n            const newValue: StorageFieldItem[] = internalValue.filter(v => v.storagePathOrDownloadUrl !== clearedStoragePathOrDownloadUrl);\n            onChange(newValue.filter(v => !!v.storagePathOrDownloadUrl).map(v => v.storagePathOrDownloadUrl as string));\n            setInternalValue(newValue);\n        } else {\n            onChange(null);\n            setInternalValue([]);\n        }\n    };\n\n    const {\n        open,\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject\n    } = useDropzone({\n            accept: storageMeta.acceptedFiles,\n            disabled: disabled,\n            noClick: true,\n            noKeyboard: true,\n            onDrop: onExternalDrop\n        }\n    );\n\n    const { ...rootProps } = getRootProps();\n\n    const helpText = multipleFilesSupported\n        ? \"Drag 'n' drop some files here, or click here to edit\"\n        : \"Drag 'n' drop a file here, or click here edit\";\n\n    const renderProperty = multipleFilesSupported\n        ? (property as ArrayProperty<string[]>).of as StringProperty\n        : property as StringProperty;\n\n    return (\n        <Box {...rootProps}\n\n             onMouseEnter={() => setOnHover(true)}\n             onMouseMove={() => setOnHover(true)}\n             onMouseLeave={() => setOnHover(false)}\n             className={clsx(classes.dropZone, {\n                 [classes.activeDrop]: isDragActive,\n                 [classes.rejectDrop]: isDragReject,\n                 [classes.acceptDrop]: isDragAccept\n             })}\n        >\n\n            <input autoFocus={autoFocus} {...getInputProps()} />\n\n            {internalValue.map((entry, index) => {\n                let child;\n                if (entry.storagePathOrDownloadUrl) {\n                    child = (\n                        <StorageItemPreview\n                            key={`storage_preview_${index}`}\n                            property={renderProperty}\n                            disabled={disabled}\n                            value={entry.storagePathOrDownloadUrl}\n                            onClear={onClear}\n                            size={previewSize}/>\n                    );\n                } else if (entry.file) {\n                    child = (\n                        <StorageUploadProgress\n                            key={`storage_progress_${index}`}\n                            entry={entry}\n                            metadata={metadata}\n                            storagePath={storagePathBuilder(entry.file)}\n                            onFileUploadComplete={onFileUploadComplete}\n                            size={previewSize}\n                        />\n                    );\n                }\n\n                return child;\n            })\n            }\n\n            {!value && <Box\n                sx={{\n                    flexGrow: 1,\n                    m: 2,\n                    maxWidth: 200\n                }}\n                onClick={open}>\n                <Typography\n                    sx={{\n                        color: (theme) => (theme.palette.mode === \"light\" ? \"#999\" : \"#444\")\n                    }}\n                    variant={\"body2\"}\n                    align={\"center\"}>\n                    {helpText}\n                </Typography>\n            </Box>}\n\n            {onHover &&\n            <IconButton\n                color={\"inherit\"}\n                size={\"small\"}\n                onClick={open}\n                sx={{\n                    position: \"absolute\",\n                    bottom: 2,\n                    right: 2\n                }}>\n                <EditIcon sx={{\n                    width: 16,\n                    height: 16,\n                    fill: \"#666\"\n                }\n                }/>\n            </IconButton>\n            }\n\n\n        </Box>\n    );\n\n}\n\n\ninterface StorageUploadItemProps {\n    storagePath: string;\n    metadata?: any,\n    entry: StorageFieldItem,\n    onFileUploadComplete: (value: string,\n                           entry: StorageFieldItem,\n                           metadata?: any) => Promise<void>;\n    size: PreviewSize;\n}\n\nexport function StorageUploadProgress({\n                                          storagePath,\n                                          entry,\n                                          metadata,\n                                          onFileUploadComplete,\n                                          size\n                                      }: StorageUploadItemProps) {\n\n    const storage = useStorageSource();\n\n    const snackbarContext = useSnackbarController();\n\n    const [error, setError] = React.useState<string>();\n    const [loading, setLoading] = React.useState<boolean>(false);\n    const mounted = React.useRef(false);\n\n    const upload = useCallback((file: File, fileName?: string) => {\n\n        setError(undefined);\n        setLoading(true);\n\n        storage.uploadFile({ file, fileName, path: storagePath, metadata })\n            .then(async ({ path }) => {\n                console.debug(\"Upload successful\");\n                await onFileUploadComplete(path, entry, metadata);\n                if (mounted.current)\n                    setLoading(false);\n            })\n            .catch((e) => {\n                console.error(\"Upload error\", e);\n                if (mounted.current) {\n                    setError(e.message);\n                    setLoading(false);\n                }\n                snackbarContext.open({\n                    type: \"error\",\n                    title: \"Error uploading file\",\n                    message: e.message\n                });\n            });\n    }, [entry, metadata, onFileUploadComplete, snackbarContext, storage, storagePath]);\n\n    useEffect(() => {\n        mounted.current = true;\n        if (entry.file)\n            upload(entry.file, entry.fileName);\n        return () => {\n            mounted.current = false;\n        };\n    }, [entry.file, entry.fileName, upload]);\n\n    const imageSize = useMemo(() => getThumbnailMeasure(size), [size]);\n\n    return (\n\n        <Box m={1} sx={{\n            width: imageSize,\n            height: imageSize\n        }}>\n\n            {loading && <Skeleton variant=\"rectangular\" sx={{\n                width: imageSize,\n                height: imageSize\n            }}/>}\n\n            {error && <p>Error uploading file: {error}</p>}\n\n        </Box>\n\n    );\n\n}\n\ninterface StorageItemPreviewProps {\n    property: StringProperty;\n    value: string,\n    onClear: (value: string) => void;\n    size: PreviewSize;\n    disabled: boolean;\n}\n\nexport function StorageItemPreview({\n                                       property,\n                                       value,\n                                       size\n                                   }: StorageItemPreviewProps) {\n\n    return (\n        <Box\n            m={1}\n            position={\"relative\"}\n        >\n\n            {value &&\n            <ErrorBoundary>\n                <PreviewComponent value={value}\n                                  property={property}\n                                  size={size}/>\n            </ErrorBoundary>\n            }\n\n        </Box>\n    );\n\n}\n","import {\n    ArrayProperty,\n    CMSType,\n    EntityReference,\n    EntityValues,\n    NumberProperty,\n    Property,\n    ReferenceProperty,\n    StringProperty\n} from \"../../../../models\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { TableInput } from \"./fields/TableInput\";\nimport { TableSelect } from \"./fields/TableSelect\";\nimport { NumberTableInput } from \"./fields/TableNumberInput\";\nimport { TableSwitch } from \"./fields/TableSwitch\";\nimport { TableDateField } from \"./fields/TableDateField\";\nimport { ErrorBoundary } from \"../../../internal/ErrorBoundary\";\nimport { PreviewComponent } from \"../../../../preview\";\nimport { CellStyleProps } from \"../../Table/styles\";\nimport { TableReferenceField } from \"./fields/TableReferenceField\";\n\nimport { getPreviewSizeFrom } from \"../../../../preview/util\";\nimport { useClearRestoreValue } from \"../../../../hooks\";\nimport isEqual from \"react-fast-compare\";\nimport { isReadOnly } from \"../../../utils\";\nimport { TableCell } from \"../../Table/TableCell\";\nimport { AnySchema } from \"yup\";\nimport { TableStorageUpload } from \"./fields/TableStorageUpload\";\n\n\nexport interface PropertyTableCellProps<T extends CMSType> {\n    name: string;\n    selected: boolean;\n    value: T;\n    select: (cellRect: DOMRect | undefined) => void;\n    openPopup: (cellRect: DOMRect | undefined) => void;\n    setPreventOutsideClick: (value: boolean) => void;\n    focused: boolean;\n    setFocused: (value: boolean) => void;\n    property: Property<T>;\n    height: number;\n    width: number;\n    entityId: string;\n    entityValues: EntityValues<any>;\n    validation: AnySchema;\n    onValueChange?: (params: OnCellChangeParams<T>) => void\n}\n\n/**\n * Props passed in a callback when the content of a cell in a table has been edited\n */\nexport interface OnCellChangeParams<T> {\n    value: T,\n    name: string,\n    setError: (e: Error) => void,\n    setSaved: (saved: boolean) => void\n}\n\nconst PropertyTableCellInternal = <T extends CMSType>({\n                                                                                            selected,\n                                                                                            focused,\n                                                                                            name,\n                                                                                            setPreventOutsideClick,\n                                                                                            setFocused,\n                                                                                            onValueChange,\n                                                                                            select,\n                                                                                            openPopup,\n                                                                                            value,\n                                                                                            property,\n                                                                                            validation,\n                                                                                            size,\n                                                                                            align,\n                                                                                            width,\n                                                                                            height,\n                                                                                            entityId,\n                                                                                            entityValues\n                                                                                        }: PropertyTableCellProps<T> & CellStyleProps) => {\n\n    const [internalValue, setInternalValue] = useState<any | null>(value);\n\n    useClearRestoreValue<T>({\n        property,\n        value: internalValue,\n        setValue: setInternalValue\n    });\n\n    const [error, setError] = useState<Error | undefined>();\n    const [saved, setSaved] = useState<boolean>(false);\n\n    const customField = Boolean(property.config?.Field);\n    const customPreview = Boolean(property.config?.Preview);\n    const readOnly = isReadOnly(property);\n    const disabledTooltip: string | undefined = typeof property.disabled === \"object\" ? property.disabled.disabledMessage : undefined;\n    const disabled = Boolean(property.disabled);\n\n    const onBlur = useCallback(() => {\n        setFocused(false);\n    }, []);\n\n    useEffect(\n        () => {\n            if (value !== internalValue) {\n                setInternalValue(value);\n            }\n        },\n        [value]\n    );\n\n    useEffect(\n        () => {\n            if (!isEqual(value, internalValue)) {\n                setSaved(false);\n                validation\n                    .validate(internalValue)\n                    .then(() => {\n                        setError(undefined);\n                        if (onValueChange) {\n                            onValueChange({\n                                value: internalValue,\n                                name,\n                                setError,\n                                setSaved\n                            });\n                        }\n                    })\n                    .catch((e) => {\n                        console.error(e);\n                        setError(e);\n                    });\n            }\n        },\n        [internalValue]\n    );\n\n    const updateValue = useCallback(\n        (newValue: any | null) => {\n\n            let updatedValue: any;\n            if (newValue === undefined) {\n                updatedValue = null;\n            } else {\n                updatedValue = newValue;\n            }\n            setInternalValue(updatedValue);\n        },\n        []\n    );\n\n    let innerComponent: JSX.Element | undefined;\n    let allowScroll = false;\n    let showExpandIcon = false;\n    let removePadding = false;\n    let fullHeight = false;\n\n    if (!readOnly && !customField && (!customPreview || selected)) {\n        const isAStorageProperty = (property.dataType === \"string\" && (property as StringProperty).config?.storageMeta) ||\n            (property.dataType === \"array\" && (property as ArrayProperty).of?.dataType === \"string\" && ((property as ArrayProperty).of as StringProperty)?.config?.storageMeta);\n        if (isAStorageProperty) {\n            innerComponent = <TableStorageUpload error={error}\n                                                 disabled={disabled}\n                                                 focused={focused}\n                                                 property={property as StringProperty | ArrayProperty<string[]>}\n                                                 entityId={entityId}\n                                                 entityValues={entityValues}\n                                                 internalValue={internalValue}\n                                                 previewSize={getPreviewSizeFrom(size)}\n                                                 updateValue={updateValue}\n                                                 name={name as string}\n                                                 onBlur={onBlur}\n                                                 setPreventOutsideClick={setPreventOutsideClick}\n            />;\n            showExpandIcon = true;\n            fullHeight = true;\n            removePadding = true;\n        } else if (selected && property.dataType === \"number\") {\n            const numberProperty = property as NumberProperty;\n            if (numberProperty.config?.enumValues) {\n                innerComponent = <TableSelect name={name as string}\n                                              multiple={false}\n                                              disabled={disabled}\n                                              focused={focused}\n                                              valueType={\"number\"}\n                                              small={getPreviewSizeFrom(size) !== \"regular\"}\n                                              enumValues={numberProperty.config.enumValues}\n                                              error={error}\n                                              onBlur={onBlur}\n                                              internalValue={internalValue as string | number}\n                                              updateValue={updateValue}\n                                              setPreventOutsideClick={setPreventOutsideClick}\n                />;\n            } else {\n                innerComponent = <NumberTableInput\n                    align={align}\n                    error={error}\n                    focused={focused}\n                    disabled={disabled}\n                    onBlur={onBlur}\n                    value={internalValue as number}\n                    updateValue={updateValue}\n                />;\n                allowScroll = true;\n            }\n        } else if (selected && property.dataType === \"string\") {\n            const stringProperty = property as StringProperty;\n            if (stringProperty.config?.enumValues) {\n                innerComponent = <TableSelect name={name as string}\n                                              multiple={false}\n                                              focused={focused}\n                                              disabled={disabled}\n                                              valueType={\"string\"}\n                                              small={getPreviewSizeFrom(size) !== \"regular\"}\n                                              enumValues={stringProperty.config.enumValues}\n                                              error={error}\n                                              onBlur={onBlur}\n                                              internalValue={internalValue as string | number}\n                                              updateValue={updateValue}\n                                              setPreventOutsideClick={setPreventOutsideClick}\n                />;\n            } else if (!stringProperty.config?.storageMeta && !stringProperty.config?.markdown) {\n                const multiline = !!stringProperty.config?.multiline;\n                innerComponent = <TableInput error={error}\n                                             disabled={disabled}\n                                             multiline={multiline}\n                                             focused={focused}\n                                             value={internalValue as string}\n                                             updateValue={updateValue}\n                />;\n                allowScroll = true;\n            }\n        } else if (property.dataType === \"boolean\") {\n            innerComponent = <TableSwitch error={error}\n                                          disabled={disabled}\n                                          focused={focused}\n                                          internalValue={internalValue as boolean}\n                                          updateValue={updateValue}\n            />;\n        } else if (property.dataType === \"timestamp\") {\n            innerComponent = <TableDateField name={name as string}\n                                             error={error}\n                                             disabled={disabled}\n                                             focused={focused}\n                                             internalValue={internalValue as Date}\n                                             updateValue={updateValue}\n                                             setPreventOutsideClick={setPreventOutsideClick}\n            />;\n            allowScroll = true;\n        } else if (property.dataType === \"reference\") {\n            if (typeof property.path === \"string\") {\n                innerComponent = <TableReferenceField name={name as string}\n                                                      internalValue={internalValue as EntityReference}\n                                                      updateValue={updateValue}\n                                                      disabled={disabled}\n                                                      size={size}\n                                                      property={property as ReferenceProperty}\n                                                      setPreventOutsideClick={setPreventOutsideClick}\n                />;\n            }\n            allowScroll = true;\n        } else if (property.dataType === \"array\") {\n            const arrayProperty = (property as ArrayProperty);\n            if (arrayProperty.of) {\n                if (arrayProperty.of.dataType === \"string\" || arrayProperty.of.dataType === \"number\") {\n                    if (selected && arrayProperty.of.config?.enumValues) {\n                        innerComponent = <TableSelect name={name as string}\n                                                      multiple={true}\n                                                      disabled={disabled}\n                                                      focused={focused}\n                                                      small={getPreviewSizeFrom(size) !== \"regular\"}\n                                                      valueType={arrayProperty.of.dataType}\n                                                      enumValues={arrayProperty.of.config.enumValues}\n                                                      error={error}\n                                                      onBlur={onBlur}\n                                                      internalValue={internalValue as string | number}\n                                                      updateValue={updateValue}\n                                                      setPreventOutsideClick={setPreventOutsideClick}\n                        />;\n                        allowScroll = true;\n                    }\n                } else if (arrayProperty.of.dataType === \"reference\") {\n                    if (typeof arrayProperty.of.path === \"string\") {\n                        innerComponent =\n                            <TableReferenceField name={name as string}\n                                                 disabled={disabled}\n                                                 internalValue={internalValue as EntityReference[]}\n                                                 updateValue={updateValue}\n                                                 size={size}\n                                                 property={property as ArrayProperty}\n                                                 setPreventOutsideClick={setPreventOutsideClick}\n                            />;\n                    }\n                    allowScroll = false;\n                }\n            }\n\n            if (!arrayProperty.of && !arrayProperty.oneOf) {\n                throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${name}`);\n            }\n        }\n    }\n\n    if (!innerComponent) {\n        allowScroll = false;\n        showExpandIcon = selected && !innerComponent && !disabled && !readOnly;\n        innerComponent = (\n            <ErrorBoundary>\n                <PreviewComponent\n                    width={width}\n                    height={height}\n                    name={name as string}\n                    value={internalValue}\n                    property={property}\n                    size={getPreviewSizeFrom(size)}\n                />\n            </ErrorBoundary>\n        );\n    }\n\n    return (\n        <TableCell\n            select={select}\n            selected={selected}\n            focused={focused}\n            disabled={disabled || readOnly}\n            disabledTooltip={disabledTooltip ?? \"Disabled\"}\n            removePadding={removePadding}\n            fullHeight={fullHeight}\n            size={size}\n            saved={saved}\n            error={error}\n            align={align}\n            allowScroll={allowScroll}\n            showExpandIcon={showExpandIcon}\n            openPopup={!disabled ? openPopup : undefined}\n            value={internalValue}\n        >\n\n            {innerComponent}\n\n        </TableCell>\n    );\n\n};\n\nexport const PropertyTableCell = React.memo<PropertyTableCellProps<any> & CellStyleProps>(PropertyTableCellInternal, areEqual) as React.FunctionComponent<PropertyTableCellProps<any> & CellStyleProps>;\n\nfunction areEqual(prevProps: PropertyTableCellProps<any> & CellStyleProps, nextProps: PropertyTableCellProps<any> & CellStyleProps) {\n    return prevProps.selected === nextProps.selected &&\n        prevProps.focused === nextProps.selected &&\n        prevProps.height === nextProps.height &&\n        prevProps.size === nextProps.size &&\n        prevProps.align === nextProps.align &&\n        prevProps.width === nextProps.width &&\n        isEqual(prevProps.property, nextProps.property) &&\n        isEqual(prevProps.value, nextProps.value)\n        ;\n}\n\n","import React, { useEffect } from \"react\";\n\ninterface DraggableProps {\n    containerRef: React.RefObject<HTMLDivElement>,\n    ref: React.RefObject<HTMLDivElement>,\n    x?: number;\n    y?: number;\n    onMove: (x: number, y: number) => void,\n}\n\nexport function useDraggable({\n                                 containerRef,\n                                 ref,\n                                 x,\n                                 y,\n                                 onMove\n                             }: DraggableProps) {\n\n\n    let relX = 0;\n    let relY = 0;\n\n\n    const onMouseDown = (event: any) => {\n        if (event.button !== 0 || !ref.current || event.target !== ref.current) {\n            return;\n        }\n\n        const { x, y } = ref.current.getBoundingClientRect();\n\n        relX = event.screenX - x;\n        relY = event.screenY - y;\n        document.addEventListener(\"mousemove\", onMouseMove);\n        document.addEventListener(\"mouseup\", onMouseUp);\n        event.stopPropagation();\n    };\n\n    const onMouseUp = (event: any) => {\n        document.removeEventListener(\"mousemove\", onMouseMove);\n        document.removeEventListener(\"mouseup\", onMouseUp);\n        event.stopPropagation();\n    };\n\n    const onMouseMove = (event: any) => {\n        onMove(\n            event.screenX - relX,\n            event.screenY - relY\n        );\n        event.stopPropagation();\n    };\n\n    const update = () => {\n        if (containerRef.current) {\n            containerRef.current.style.top = `${y}px`;\n            containerRef.current.style.left = `${x}px`;\n        }\n    };\n\n    useEffect(() => {\n        const current = ref.current;\n        if (current)\n            current.addEventListener(\"mousedown\", onMouseDown);\n        update();\n        return () => {\n            if (current)\n                current.removeEventListener(\"mousedown\", onMouseDown);\n        };\n    });\n\n}\n","import { useLayoutEffect, useState } from \"react\";\n\ninterface WindowSize {\n    width: number,\n    height: number\n}\n\nexport function useWindowSize(): WindowSize {\n    const [size, setSize] = useState<WindowSize>({ width: 0, height: 0 });\n    useLayoutEffect(() => {\n        function updateSize() {\n            setSize({ width: window.innerWidth, height: window.innerHeight });\n        }\n\n        window.addEventListener(\"resize\", updateSize);\n        updateSize();\n        return () => window.removeEventListener(\"resize\", updateSize);\n    }, []);\n    return size;\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { FieldArray } from \"formik\";\n\nimport { Box, Button, IconButton } from \"@mui/material\";\n\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport DragHandleIcon from \"@mui/icons-material/DragHandle\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { getHashValue } from \"../../core/util/objects\";\n\n\ninterface ArrayContainerProps<T> {\n    value: T[];\n    name: string;\n    buildEntry: (index: number, internalId: number) => React.ReactNode;\n    disabled: boolean;\n    onInternalIdAdded?: (id: number) => void;\n    includeAddButton?: boolean;\n}\n\n/**\n * @category Form custom fields\n */\nexport function ArrayContainer<T>({\n                                      name,\n                                      value,\n                                      disabled,\n                                      buildEntry,\n                                      onInternalIdAdded,\n                                      includeAddButton\n                                  }: ArrayContainerProps<T>) {\n\n    const hasValue = value && Array.isArray(value) && value.length > 0;\n\n    const internalIdsMap: Record<string, number> = useMemo(() =>\n            hasValue\n                ? value.map((v, index) => {\n                    if (!v) return {};\n                    return ({\n                        [getHashValue(v) + index]: getRandomId()\n                    });\n                }).reduce((a, b) => ({ ...a, ...b }), {})\n                : {},\n        [value, hasValue]);\n    const internalIdsRef = useRef<Record<string, number>>(internalIdsMap);\n\n    const [internalIds, setInternalIds] = useState<number[]>(\n        hasValue\n            ? Object.values(internalIdsRef.current)\n            : []);\n\n    useEffect(() => {\n        if (hasValue && value && value.length !== internalIds.length) {\n            const newInternalIds = value.map((v, index) => {\n                const hashValue = getHashValue(v) + index;\n                if (hashValue in internalIdsRef.current) {\n                    return internalIdsRef.current[hashValue];\n                } else {\n                    const newInternalId = getRandomId();\n                    internalIdsRef.current[hashValue] = newInternalId;\n                    return newInternalId;\n                }\n            });\n            setInternalIds(newInternalIds);\n        }\n    }, [hasValue, internalIds.length, value]);\n\n\n    return <FieldArray\n        name={name}\n        validateOnChange={true}\n        render={arrayHelpers => {\n\n            const insertInEnd = () => {\n                if (disabled) return;\n                const id = getRandomId();\n                const newIds: number[] = [...internalIds, id];\n                if (onInternalIdAdded)\n                    onInternalIdAdded(id);\n                setInternalIds(newIds);\n                arrayHelpers.push(null);\n            };\n\n            const remove = (index: number) => {\n                const newValue = [...internalIds];\n                newValue.splice(index, 1);\n                setInternalIds(newValue);\n                arrayHelpers.remove(index);\n            };\n\n            const onDragEnd = (result: any) => {\n                // dropped outside the list\n                if (!result.destination) {\n                    return;\n                }\n                const sourceIndex = result.source.index;\n                const destinationIndex = result.destination.index;\n\n                const newIds = [...internalIds];\n                const temp = newIds[sourceIndex];\n                newIds[sourceIndex] = newIds[destinationIndex];\n                newIds[destinationIndex] = temp;\n                setInternalIds(newIds);\n\n                arrayHelpers.move(sourceIndex, destinationIndex);\n            }\n\n            return (\n                <DragDropContext onDragEnd={onDragEnd}>\n                    <Droppable droppableId={`droppable_${name}`}>\n                        {(droppableProvided, droppableSnapshot) => (\n                            <div\n                                {...droppableProvided.droppableProps}\n                                ref={droppableProvided.innerRef}>\n                                {hasValue && internalIds.map((internalId: number, index: number) => {\n                                    return (\n                                        <Draggable\n                                            key={`array_field_${name}_${internalId}}`}\n                                            draggableId={`array_field_${name}_${internalId}}`}\n                                            isDragDisabled={disabled}\n                                            index={index}>\n                                            {(provided, snapshot) => (\n\n                                                <Box\n                                                    ref={provided.innerRef}\n                                                    {...provided.draggableProps}\n                                                    style={\n                                                        provided.draggableProps.style\n                                                    }\n                                                    sx={{\n                                                        marginBottom: 1,\n                                                        borderRadius: \"4px\",\n                                                        opacity: 1\n                                                    }}\n                                                >\n                                                    <Box key={`field_${index}`}\n                                                         display=\"flex\">\n                                                        <Box flexGrow={1}\n                                                             width={\"100%\"}\n                                                             key={`field_${name}_entryValue`}>\n                                                            {buildEntry(index, internalId)}\n                                                        </Box>\n                                                        <Box width={\"36px\"}\n                                                             display=\"flex\"\n                                                             flexDirection=\"column\"\n                                                             alignItems=\"center\">\n                                                            <div\n                                                                {...provided.dragHandleProps}>\n                                                                <DragHandleIcon\n                                                                    fontSize={\"small\"}\n                                                                    color={disabled ? \"disabled\" : \"inherit\"}\n                                                                    sx={{ cursor: disabled ? \"inherit\" : \"move\" }}/>\n                                                            </div>\n                                                            {!disabled &&\n                                                            <IconButton\n                                                                size=\"small\"\n                                                                aria-label=\"remove\"\n                                                                onClick={() => remove(index)}>\n                                                                <ClearIcon\n                                                                    fontSize={\"small\"}/>\n                                                            </IconButton>}\n                                                        </Box>\n                                                    </Box>\n                                                </Box>\n                                            )}\n                                        </Draggable>);\n                                })}\n\n                                {droppableProvided.placeholder}\n\n                                {includeAddButton && !disabled && <Box p={1}\n                                                                       justifyContent=\"center\"\n                                                                       textAlign={\"left\"}>\n                                    <Button variant=\"outlined\"\n                                            color=\"primary\"\n                                            disabled={disabled}\n                                            onClick={insertInEnd}>\n                                        Add\n                                    </Button>\n                                </Box>}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n            );\n        }}\n    />;\n}\n\n\nfunction getRandomId() {\n    return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n}\n","import React from \"react\";\nimport { CMSType, Property } from \"../../models\";\n\nimport {\n    Box,\n    FormHelperText,\n    IconButton,\n    Tooltip,\n    Typography\n} from \"@mui/material\";\nimport InfoIcon from \"@mui/icons-material/InfoOutlined\";\n\ninterface FieldDescriptionPopoverProps<T extends CMSType> {\n    property: Property<T>,\n}\n\n/**\n * Render the field description for a property\n * @category Form custom fields\n */\nexport function FieldDescription<T extends CMSType>({ property }: FieldDescriptionPopoverProps<T>) {\n    const disabledTooltip: string | undefined = typeof property.disabled === \"object\" ? property.disabled.disabledMessage : undefined;\n    return (\n\n        // <FormHelperText>{disabledTooltip ? disabledTooltip : property.description}</FormHelperText>\n        <Box display=\"flex\">\n\n            <Box flexGrow={1}>\n                <FormHelperText>{disabledTooltip || property.description}</FormHelperText>\n            </Box>\n\n            {property.longDescription &&\n            <Tooltip title={\n                <Typography\n                    variant={\"caption\"}>{property.longDescription}</Typography>\n            }\n                     placement=\"bottom-start\"\n                     arrow>\n                <IconButton\n                    edge={\"start\"}\n                    size={\"small\"}>\n\n                    <InfoIcon color={\"disabled\"}\n                              fontSize={\"small\"}/>\n                </IconButton>\n            </Tooltip>}\n\n        </Box>\n    );\n}\n","import React from \"react\";\nimport { Property } from \"../../models\";\nimport { getIconForProperty } from \"../../core/util/property_icons\";\n\ninterface LabelWithIconProps {\n    property: Property<any>,\n}\n\n/**\n * Render the label of a form field for a given property, with the corresponding\n * icon\n * @category Form custom fields\n */\nexport function LabelWithIcon({\n                                  property\n                              }: LabelWithIconProps) {\n\n    return (\n        <>\n            <span style={{ paddingRight: \"12px\" }}>\n                {getIconForProperty(property)}\n            </span>\n            <span>{property.title}</span>\n        </>\n    );\n}\n","import React from \"react\";\nimport {\n    FormControl,\n    FormHelperText,\n    InputLabel,\n    MenuItem,\n    Select as MuiSelect,\n    Theme\n} from \"@mui/material\";\n\nimport { EnumType, EnumValues, FieldProps } from \"../../models\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\nimport {\n    enumToObjectEntries,\n    isEnumValueDisabled\n} from \"../../core/util/enums\";\nimport { EnumValuesChip } from \"../../preview/components/CustomChip\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst formStyles = makeStyles((theme: Theme) => createStyles({\n    inputLabel: {\n        marginTop: theme.spacing(1 / 2),\n        marginLeft: theme.spacing(1 / 2)\n    },\n    shrinkInputLabel: {\n        marginTop: \"-2px\",\n        marginLeft: theme.spacing(1 / 2)\n    }\n}))\n\ntype SelectProps<T extends EnumType> = FieldProps<T>;\n\n/**\n * If `enumValues` are set in the string config, this field renders a select\n * where each option is a colored chip.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function Select<T extends EnumType>({\n                                               name,\n                                               value,\n                                               setValue,\n                                               error,\n                                               showError,\n                                               disabled,\n                                               autoFocus,\n                                               touched,\n                                               property,\n                                               includeDescription,\n                                               shouldAlwaysRerender\n                                           }: SelectProps<T>) {\n\n    const classes = formStyles();\n    const enumValues = property.config?.enumValues as EnumValues;\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    return (\n        <FormControl\n            variant=\"filled\"\n            fullWidth\n            required={property.validation?.required}\n            error={showError}\n            disabled={disabled}\n        >\n\n            <InputLabel id={`${name}-select-label`}\n                        classes={{\n                            root: classes.inputLabel,\n                            shrink: classes.shrinkInputLabel\n                        }}>\n                <LabelWithIcon property={property}/>\n            </InputLabel>\n\n            <MuiSelect\n                sx={{\n                    minHeight: \"64px\"\n                }}\n                variant={\"filled\"}\n                labelId={`${name}-select-label`}\n                autoFocus={autoFocus}\n                value={value !== undefined ? value : \"\"}\n                disabled={disabled}\n                onChange={(evt: any) => {\n                    const eventValue = evt.target.value;\n                    const newValue = eventValue\n                        ? (property.dataType === \"number\" ? parseFloat(eventValue) : eventValue)\n                        : null;\n\n                    return setValue(newValue);\n                }}\n                renderValue={(enumKey: any) => {\n                    return <EnumValuesChip\n                        enumKey={enumKey}\n                        enumValues={enumValues}\n                        small={false}/>;\n                }\n                }>\n\n                {enumToObjectEntries(enumValues)\n                    .map(([enumKey, labelOrConfig]) => {\n                        return (\n                            <MenuItem key={`select_${name}_${enumKey}`}\n                                      value={enumKey}\n                                      disabled={isEnumValueDisabled(labelOrConfig)}>\n                                <EnumValuesChip\n                                    enumKey={enumKey}\n                                    enumValues={enumValues}\n                                    small={true}/>\n                            </MenuItem>\n                        );\n                    })}\n            </MuiSelect>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n            {showError && <FormHelperText>{error}</FormHelperText>}\n\n        </FormControl>\n    );\n}\n","import React from \"react\";\nimport {\n    Checkbox,\n    FormControl,\n    FormHelperText,\n    InputLabel,\n    ListItemText,\n    MenuItem,\n    Select as MuiSelect,\n    Theme\n} from \"@mui/material\";\nimport { EnumType, FieldProps } from \"../../models\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\nimport {\n    enumToObjectEntries,\n    isEnumValueDisabled\n} from \"../../core/util/enums\";\nimport { EnumValuesChip } from \"../../preview/components/CustomChip\";\n\nimport { ArrayEnumPreview } from \"../../preview\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst formStyles = makeStyles((theme: Theme) => createStyles({\n    inputLabel: {\n        marginTop: theme.spacing(1 / 2),\n        marginLeft: theme.spacing(1 / 2)\n    },\n    shrinkInputLabel: {\n        marginTop: \"-2px\",\n        marginLeft: theme.spacing(1 / 2)\n    }\n}));\n\n/**\n * This fields renders a dropdown with multiple selection.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ArrayEnumSelect({\n                                    name,\n                                    value,\n                                    setValue,\n                                    error,\n                                    showError,\n                                    disabled,\n                                    property,\n                                    includeDescription,\n                                    autoFocus\n                                }: FieldProps<EnumType[]>) {\n\n    const classes = formStyles();\n\n    if (!property.of) {\n        throw Error(\"Using wrong component ArrayEnumSelect\");\n    }\n\n    if (property.of.dataType !== \"string\" && property.of.dataType !== \"number\") {\n        throw Error(\"Field misconfiguration: array field of type string or number\");\n    }\n\n    const enumValues = property.of.config?.enumValues;\n    if (!enumValues) {\n        console.error(property);\n        throw Error(\"Field misconfiguration: array field of type string or number needs to have enumValues\");\n    }\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const validValue = !!value && Array.isArray(value);\n    return (\n        <FormControl\n            variant=\"filled\"\n            fullWidth\n            required={property.validation?.required}\n            error={showError}\n        >\n\n            <InputLabel id={`${name}-multiselect-label`}\n                        classes={{\n                            root: classes.inputLabel,\n                            shrink: classes.shrinkInputLabel\n                        }}>\n                <LabelWithIcon property={property}/>\n            </InputLabel>\n\n            <MuiSelect\n                multiple\n                sx={{\n                    minHeight: \"64px\"\n                }}\n                variant={\"filled\"}\n                labelId={`${name}-multiselect-label`}\n                value={validValue ? value.map(v => v.toString()) : []}\n                autoFocus={autoFocus}\n                disabled={disabled}\n                onChange={(evt: any) => {\n                    let newValue;\n                    if (property.of?.dataType === \"number\")\n                        newValue = evt.target.value ? evt.target.value.map((e: any) => parseFloat(e)) : [];\n                    else\n                        newValue = evt.target.value;\n                    return setValue(\n                        newValue\n                    );\n                }}\n                renderValue={(selected: any) => (\n                    <ArrayEnumPreview value={selected}\n                                      name={name}\n                                      enumValues={enumValues}\n                                      size={\"regular\"}/>\n                )}>\n\n                {enumToObjectEntries(enumValues)\n                    .map(([enumKey, labelOrConfig]) => {\n                        const checked = validValue && value.map(v => v.toString()).includes(enumKey.toString());\n                        return (\n                            <MenuItem key={`form-select-${name}-${enumKey}`}\n                                      value={enumKey}\n                                      disabled={isEnumValueDisabled(labelOrConfig)}\n                                      dense={true}>\n                                <Checkbox checked={checked}/>\n                                <ListItemText primary={\n                                    <EnumValuesChip\n                                        enumKey={enumKey}\n                                        enumValues={enumValues}\n                                        small={true}/>\n                                }/>\n                            </MenuItem>\n                        );\n                    })}\n            </MuiSelect>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n            {showError && <FormHelperText>{error}</FormHelperText>}\n\n        </FormControl>\n    );\n}\n","import * as React from \"react\";\nimport { useCallback } from \"react\";\n\nimport isEqual from \"react-fast-compare\";\nimport {\n    Box,\n    FormControl,\n    FormHelperText,\n    IconButton,\n    Paper,\n    Skeleton,\n    Theme,\n    Typography\n} from \"@mui/material\";\n\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport {\n    ArrayProperty,\n    FieldProps,\n    Property,\n    StorageMeta,\n    StringProperty\n} from \"../../models\";\nimport { useDropzone } from \"react-dropzone\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport { PreviewComponent, PreviewSize } from \"../../preview\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\n\nimport clsx from \"clsx\";\nimport {\n    useClearRestoreValue,\n    useSnackbarController,\n    useStorageSource\n} from \"../../hooks\";\nimport { isReadOnly } from \"../../core/utils\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    dropZone: {\n        position: \"relative\",\n        paddingTop: \"2px\",\n        border: \"2px solid transparent\",\n        minHeight: \"254px\",\n        outline: 0,\n        borderTopLeftRadius: \"2px\",\n        borderTopRightRadius: \"2px\",\n        backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.06)\" : \"rgba(255, 255, 255, 0.09)\",\n        borderBottom: theme.palette.mode === \"light\" ? \"1px solid rgba(0, 0, 0, 0.42)\" : \"1px solid rgba(255, 255, 255, 0.7)\",\n        boxSizing: \"border-box\",\n        transition: \"border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        \"&:focus\": {\n            borderBottom: `2px solid ${theme.palette.primary.main}`\n        }\n    },\n    disabled: {\n        backgroundColor: \"rgba(0, 0, 0, 0.12)\",\n        color: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.38)\" : \"rgba(255, 255, 255, 0.38)\",\n        borderBottom: `1px dotted ${theme.palette.grey[400]}`\n    },\n    nonActiveDrop: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.09)\" : \"rgba(255, 255, 255, 0.13)\"\n        }\n    },\n    activeDrop: {\n        paddingTop: \"0px\",\n        boxSizing: \"border-box\",\n        border: \"2px solid\"\n    },\n    acceptDrop: {\n        transition: \"background-color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n        background: \"repeating-linear-gradient( 45deg, rgba(0, 0, 0, 0.09), rgba(0, 0, 0, 0.09) 10px, rgba(0, 0, 0, 0.12) 10px, rgba(0, 0, 0, 0.12) 20px) !important\",\n        border: \"2px solid\",\n        borderColor: theme.palette.success.light\n    },\n    rejectDrop: {\n        border: \"2px solid\",\n        borderColor: theme.palette.error.light\n    },\n    uploadItem: {\n        padding: theme.spacing(1),\n        minWidth: 220,\n        minHeight: 220\n    },\n    uploadItemSmall: {\n        padding: theme.spacing(1),\n        minWidth: 118,\n        minHeight: 118,\n        boxSizing: \"border-box\"\n    },\n    thumbnailCloseIcon: {\n        position: \"absolute\",\n        borderRadius: \"9999px\",\n        top: -8,\n        right: -8,\n        zIndex: 100,\n        backgroundColor: theme.palette.background.paper\n    }\n}));\n\ntype StorageUploadFieldProps = FieldProps<string | string[]>;\n\n/**\n * Field that allows to upload files to Google Cloud Storage.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function StorageUploadField({\n                                       name,\n                                       value,\n                                       setValue,\n                                       error,\n                                       showError,\n                                       autoFocus,\n                                       tableMode,\n                                       property,\n                                       includeDescription,\n                                       context,\n                                       isSubmitting\n                                   }: StorageUploadFieldProps) {\n\n    const multipleFilesSupported = property.dataType === \"array\";\n    const disabled = isReadOnly(property) || !!property.disabled || isSubmitting;\n\n    const internalValue = multipleFilesSupported\n        ? (Array.isArray(value) ? value : [])\n        : value;\n\n    useClearRestoreValue<string | string[]>({\n        property,\n        value,\n        setValue\n    });\n\n    const storageMeta: StorageMeta | undefined = property.dataType === \"string\"\n? property.config?.storageMeta\n        : property.dataType === \"array\" &&\n        (property.of as Property).dataType === \"string\"\n? (property.of as StringProperty).config?.storageMeta\n            : undefined;\n\n    if (!storageMeta)\n        throw Error(\"Storage meta must be specified\");\n\n    const fileNameBuilder = (file: File) => {\n        if (storageMeta.fileName) {\n            const fileName = storageMeta.fileName({\n                entityId: context.entityId,\n                values: context.values,\n                property,\n                file,\n                storageMeta,\n                name\n            });\n\n            if (!fileName || fileName.length === 0) {\n                throw Error(\"You need to return a valid filename\");\n            }\n            return fileName;\n        }\n        return file.name;\n    };\n\n    const storagePathBuilder = (file: File) => {\n        if (typeof storageMeta.storagePath === \"string\")\n            return storageMeta.storagePath;\n\n        if (typeof storageMeta.storagePath === \"function\") {\n            const storagePath = storageMeta.storagePath({\n                entityId: context.entityId,\n                values: context.values,\n                property,\n                file,\n                storageMeta,\n                name\n            });\n\n            if (!storagePath || storagePath.length === 0) {\n                throw Error(\"You need to return a valid filename\");\n            }\n            return storagePath;\n        }\n        console.warn(\"When using a storage property, if you don't specify the storagePath, the root storage is used\");\n        return \"/\";\n    };\n\n    return (\n\n            <FormControl fullWidth\n                         required={property.validation?.required}\n                         error={showError}>\n\n                {!tableMode &&\n                <FormHelperText filled\n                                required={property.validation?.required}>\n                    <LabelWithIcon property={property}/>\n                </FormHelperText>}\n\n                <StorageUpload\n                    value={internalValue}\n                    name={name}\n                    disabled={disabled}\n                    autoFocus={autoFocus}\n                    property={property}\n                    onChange={(newValue) => {\n                        setValue(newValue);\n                    }}\n                    fileNameBuilder={fileNameBuilder}\n                    storagePathBuilder={storagePathBuilder}\n                    storageMeta={storageMeta}\n                    multipleFilesSupported={multipleFilesSupported}/>\n\n                {includeDescription &&\n                <FieldDescription property={property as any}/>}\n\n                {showError && <FormHelperText>{error}</FormHelperText>}\n\n            </FormControl>\n    );\n}\n\n/**\n * Internal representation of an item in the storage\n * It can have two states, having a storagePathOrDownloadUrl set,\n * which means the file has\n * been uploaded and it is rendered as a preview\n * Or have a pending file being uploaded.\n */\ninterface StorageFieldItem {\n    id: number; // generated on the fly for internal use only\n    storagePathOrDownloadUrl?: string;\n    file?: File;\n    fileName?: string;\n    metadata?: any,\n    size: PreviewSize\n}\n\ninterface StorageUploadProps {\n    value: string | string[];\n    name: string;\n    property: StringProperty | ArrayProperty<string[]>;\n    onChange: (value: string | string[] | null) => void;\n    multipleFilesSupported: boolean;\n    autoFocus: boolean;\n    disabled: boolean;\n    storageMeta: StorageMeta;\n    fileNameBuilder: (file: File) => string;\n    storagePathBuilder: (file: File) => string;\n}\n\nfunction FileDropComponent({\n                               storageMeta,\n                               disabled,\n                               isDraggingOver,\n                               onExternalDrop,\n                               multipleFilesSupported,\n                               droppableProvided,\n                               autoFocus,\n                               internalValue,\n                               property,\n                               onClear,\n                               metadata,\n                               storagePathBuilder,\n                               onFileUploadComplete,\n                               size,\n                               name,\n                               helpText\n                           }: {\n    storageMeta: StorageMeta,\n    disabled: boolean,\n    isDraggingOver: boolean,\n    droppableProvided: any,\n    onExternalDrop: (acceptedFiles: File[]) => void,\n    multipleFilesSupported: boolean,\n    autoFocus: boolean,\n    internalValue: StorageFieldItem[],\n    property: StringProperty | ArrayProperty<string[]>,\n    onClear: (clearedStoragePathOrDownloadUrl: string) => void,\n    metadata: any,\n    storagePathBuilder: (file: File) => string,\n    onFileUploadComplete: (uploadedPath: string, entry: StorageFieldItem, fileMetadata?: any) => Promise<void>,\n    size: PreviewSize,\n    name: string,\n    helpText: string\n}) {\n\n    const classes = useStyles();\n    const {\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject\n    } = useDropzone({\n            accept: storageMeta.acceptedFiles,\n            disabled: disabled || isDraggingOver,\n            noDragEventsBubbling: true,\n            onDrop: onExternalDrop\n        }\n    );\n\n    return (\n        <Box\n            {...getRootProps()}\n            className={clsx(classes.dropZone, {\n                [classes.nonActiveDrop]: !isDragActive,\n                [classes.activeDrop]: isDragActive,\n                [classes.rejectDrop]: isDragReject,\n                [classes.acceptDrop]: isDragAccept,\n                [classes.disabled]: disabled\n            })}\n            sx={{\n                display: multipleFilesSupported && internalValue.length ? undefined : \"flex\",\n                alignItems: \"center\"\n            }}\n        >\n            <Box\n                {...droppableProvided.droppableProps}\n                ref={droppableProvided.innerRef}\n                sx={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    overflow: multipleFilesSupported && internalValue.length ? \"auto\" : undefined,\n                    minHeight: multipleFilesSupported && internalValue.length ? 180 : 250,\n                    p: 1,\n                    \"&::-webkit-scrollbar\": {\n                        display: \"none\"\n                    }\n                }}\n            >\n\n                <input\n                    autoFocus={autoFocus}\n                    {...getInputProps()} />\n\n                {internalValue.map((entry, index) => {\n                    let child: any;\n                    if (entry.storagePathOrDownloadUrl) {\n                        const renderProperty = multipleFilesSupported\n                            ? (property as ArrayProperty<string[]>).of as StringProperty\n                            : property as StringProperty;\n                        child = (\n                            <StorageItemPreview\n                                name={`storage_preview_${entry.storagePathOrDownloadUrl}`}\n                                property={renderProperty}\n                                disabled={disabled}\n                                value={entry.storagePathOrDownloadUrl}\n                                onClear={onClear}\n                                size={entry.size}/>\n                        );\n                    } else if (entry.file) {\n                        child = (\n                            <StorageUploadProgress\n                                entry={entry}\n                                metadata={metadata}\n                                storagePath={storagePathBuilder(entry.file)}\n                                onFileUploadComplete={onFileUploadComplete}\n                                size={size}\n                            />\n                        );\n                    }\n\n                    return (\n                        <Draggable\n                            key={`array_field_${name}_${entry.id}}`}\n                            draggableId={`array_field_${name}_${entry.id}}`}\n                            index={index}>\n                            {(provided, snapshot) => (\n                                <Box\n                                    ref={provided.innerRef}\n                                    {...provided.draggableProps}\n                                    {...provided.dragHandleProps}\n                                    style={\n                                        provided.draggableProps.style\n                                    }\n                                    sx={{\n                                        borderRadius: \"4px\"\n                                    }}\n                                >\n                                    {child}\n                                </Box>\n                            )}\n                        </Draggable>\n                    );\n                })\n                }\n\n                {droppableProvided.placeholder}\n\n\n            </Box>\n\n            <Box\n                sx={{\n                    flexGrow: 1,\n                    minHeight: 38,\n                    boxSizing: \"border-box\",\n                    m: 2\n                }}>\n                <Typography align={\"center\"}\n                            variant={\"body2\"}\n                            sx={(theme) => ({\n                                color: \"#838383\",\n                                fontWeight: theme.typography.fontWeightMedium\n                            })}>\n                    {helpText}\n                </Typography>\n            </Box>\n\n        </Box>\n    );\n}\n\nexport function StorageUpload({\n                                  property,\n                                  name,\n                                  value,\n                                  onChange,\n                                  multipleFilesSupported,\n                                  disabled,\n                                  autoFocus,\n                                  storageMeta,\n                                  fileNameBuilder,\n                                  storagePathBuilder\n                              }: StorageUploadProps) {\n\n    const storage = useStorageSource();\n\n    if (multipleFilesSupported) {\n        const arrayProperty = property as ArrayProperty<string[]>;\n        if (arrayProperty.of) {\n            if (arrayProperty.of.dataType !== \"string\") {\n                throw Error(\"Storage field using array must be of data type string\");\n            }\n        } else {\n            throw Error(\"Storage field using array must be of data type string\");\n        }\n    }\n\n    const metadata: any | undefined = storageMeta?.metadata;\n\n    const size = multipleFilesSupported ? \"small\" : \"regular\";\n\n    const internalInitialValue: StorageFieldItem[] =\n        (multipleFilesSupported\n            ? value as string[]\n            : [value as string]).map(entry => (\n            {\n                id: getRandomId(),\n                storagePathOrDownloadUrl: entry,\n                metadata: metadata,\n                size: size\n            }\n        ));\n\n    const [initialValue, setInitialValue] = React.useState<string | string[]>(value);\n    const [internalValue, setInternalValue] = React.useState<StorageFieldItem[]>(internalInitialValue);\n    const [hoveredIndex, setHoveredIndex] = React.useState<number | undefined>(undefined);\n\n    if (!isEqual(initialValue, value)) {\n        setInitialValue(value);\n        setInternalValue(internalInitialValue);\n    }\n\n    function getRandomId() {\n        return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n    }\n\n    const moveItem = (fromIndex: number, toIndex: number) => {\n        const newValue = [...internalValue];\n        const item = newValue[fromIndex];\n        newValue.splice(fromIndex, 1);\n        newValue.splice(toIndex, 0, item);\n        setInternalValue(newValue);\n        const fieldValue = newValue\n            .filter(e => !!e.storagePathOrDownloadUrl)\n            .map(e => e.storagePathOrDownloadUrl as string);\n        onChange(fieldValue);\n    };\n\n    const onDragEnd = (result: any) => {\n        // dropped outside the list\n        if (!result.destination) {\n            return;\n        }\n\n        moveItem(result.source.index, result.destination.index);\n\n    }\n\n    function removeDuplicates(items: StorageFieldItem[]) {\n        return items.filter(\n            (v, i) => {\n                return ((items.map((v) => v.storagePathOrDownloadUrl).indexOf(v.storagePathOrDownloadUrl) === i) || !v.storagePathOrDownloadUrl) &&\n                    ((items.map((v) => v.file).indexOf(v.file) === i) || !v.file);\n            }\n        );\n    }\n\n    const onExternalDrop = (acceptedFiles: File[]) => {\n\n        if (!acceptedFiles.length || disabled)\n            return;\n\n        let newInternalValue: StorageFieldItem[];\n        if (multipleFilesSupported) {\n            newInternalValue = [...internalValue,\n                ...(acceptedFiles.map(file => ({\n                    id: getRandomId(),\n                    file,\n                    fileName: fileNameBuilder(file),\n                    metadata,\n                    size: size\n                } as StorageFieldItem)))];\n        } else {\n            newInternalValue = [{\n                id: getRandomId(),\n                file: acceptedFiles[0],\n                fileName: fileNameBuilder(acceptedFiles[0]),\n                metadata,\n                size: size\n            }];\n        }\n\n        // Remove either storage path or file duplicates\n        newInternalValue = removeDuplicates(newInternalValue);\n        setInternalValue(newInternalValue);\n    };\n\n    const onFileUploadComplete = async (uploadedPath: string,\n                                        entry: StorageFieldItem,\n                                        metadata?: any) => {\n\n        console.debug(\"onFileUploadComplete\", uploadedPath, entry);\n\n        let uploadPathOrDownloadUrl = uploadedPath;\n        if (storageMeta.storeUrl) {\n            uploadPathOrDownloadUrl = await storage.getDownloadURL(uploadedPath);\n        }\n        if (storageMeta.postProcess) {\n            uploadPathOrDownloadUrl = await storageMeta.postProcess(uploadPathOrDownloadUrl);\n        }\n\n        let newValue: StorageFieldItem[];\n\n        entry.storagePathOrDownloadUrl = uploadPathOrDownloadUrl;\n        entry.metadata = metadata;\n        newValue = [...internalValue];\n\n        newValue = removeDuplicates(newValue);\n        setInternalValue(newValue);\n\n        const fieldValue = newValue\n            .filter(e => !!e.storagePathOrDownloadUrl)\n            .map(e => e.storagePathOrDownloadUrl as string);\n\n        if (multipleFilesSupported) {\n            onChange(fieldValue);\n        } else {\n            onChange(fieldValue ? fieldValue[0] : null);\n        }\n    };\n\n    const onClear = (clearedStoragePathOrDownloadUrl: string) => {\n        if (multipleFilesSupported) {\n            const newValue: StorageFieldItem[] = internalValue.filter(v => v.storagePathOrDownloadUrl !== clearedStoragePathOrDownloadUrl);\n            onChange(newValue.filter(v => !!v.storagePathOrDownloadUrl).map(v => v.storagePathOrDownloadUrl as string));\n            setInternalValue(newValue);\n        } else {\n            onChange(null);\n            setInternalValue([]);\n        }\n    };\n\n    const helpText = multipleFilesSupported\n        ? \"Drag 'n' drop some files here, or click to select files\"\n        : \"Drag 'n' drop a file here, or click to select one\";\n\n    return (\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId={`droppable_${name}`} direction=\"horizontal\">\n                {(provided, snapshot) => {\n                    return <FileDropComponent storageMeta={storageMeta}\n                                              disabled={disabled}\n                                              isDraggingOver={snapshot.isDraggingOver}\n                                              droppableProvided={provided}\n                                              onExternalDrop={onExternalDrop}\n                                              multipleFilesSupported={multipleFilesSupported}\n                                              autoFocus={autoFocus}\n                                              internalValue={internalValue}\n                                              property={property}\n                                              onClear={onClear}\n                                              metadata={metadata}\n                                              storagePathBuilder={storagePathBuilder}\n                                              onFileUploadComplete={onFileUploadComplete}\n                                              size={size}\n                                              name={name}\n                                              helpText={helpText}/>\n                }}\n            </Droppable>\n        </DragDropContext>\n    );\n\n}\n\n\ninterface StorageUploadItemProps {\n    storagePath: string;\n    metadata?: any,\n    entry: StorageFieldItem,\n    onFileUploadComplete: (value: string,\n                           entry: StorageFieldItem,\n                           metadata?: any) => Promise<void>;\n    size: PreviewSize;\n}\n\nexport function StorageUploadProgress({\n                                          storagePath,\n                                          entry,\n                                          metadata,\n                                          onFileUploadComplete,\n                                          size\n                                      }: StorageUploadItemProps) {\n\n\n    const storage = useStorageSource();\n\n    const classes = useStyles();\n    const snackbarContext = useSnackbarController();\n\n    const [error, setError] = React.useState<string>();\n    const [loading, setLoading] = React.useState<boolean>(false);\n    const mounted = React.useRef(false);\n\n    const upload = useCallback((file: File, fileName?: string) => {\n\n        setError(undefined);\n        setLoading(true);\n\n        storage.uploadFile({ file, fileName, path: storagePath, metadata })\n            .then(async ({ path }) => {\n                console.debug(\"Upload successful\");\n                await onFileUploadComplete(path, entry, metadata);\n                if (mounted.current)\n                    setLoading(false);\n            })\n            .catch((e) => {\n                console.error(\"Upload error\", e);\n                if (mounted.current) {\n                    setError(e.message);\n                    setLoading(false);\n                }\n                snackbarContext.open({\n                    type: \"error\",\n                    title: \"Error uploading file\",\n                    message: e.message\n                });\n            });\n    }, [entry, metadata, onFileUploadComplete, snackbarContext, storage, storagePath]);\n\n    React.useEffect(() => {\n        mounted.current = true;\n        if (entry.file)\n            upload(entry.file, entry.fileName);\n        return () => {\n            mounted.current = false;\n        };\n    }, [entry.file, entry.fileName, upload]);\n\n    return (\n\n        <Box m={1}>\n            <Paper elevation={0}\n                   className={size === \"regular\" ? classes.uploadItem : classes.uploadItemSmall}\n                   variant={\"outlined\"}>\n\n                {loading && <Skeleton variant=\"rectangular\" sx={{\n                    width: \"100%\",\n                    height: \"100%\"\n                }}/>}\n\n                {error && <p>Error uploading file: {error}</p>}\n\n            </Paper>\n        </Box>\n\n    );\n\n}\n\ninterface StorageItemPreviewProps {\n    name: string;\n    property: StringProperty;\n    value: string,\n    onClear: (value: string) => void;\n    size: PreviewSize;\n    disabled: boolean;\n}\n\nexport function StorageItemPreview({\n                                       name,\n                                       property,\n                                       value,\n                                       onClear,\n                                       disabled,\n                                       size\n                                   }: StorageItemPreviewProps) {\n\n    const classes = useStyles();\n    return (\n        <Box m={1} position={\"relative\"}>\n\n            <Paper\n                elevation={0}\n                className={size === \"regular\" ? classes.uploadItem : classes.uploadItemSmall}\n                variant={\"outlined\"}>\n\n                {!disabled &&\n\n                <a\n                    className={classes.thumbnailCloseIcon}>\n                    <IconButton\n                        size={\"small\"}\n                        onClick={(event) => {\n                            event.stopPropagation();\n                            onClear(value);\n                        }}>\n                        <ClearIcon fontSize={\"small\"}/>\n                    </IconButton>\n                </a>\n                }\n\n                {value &&\n                <ErrorBoundary>\n                    <PreviewComponent name={name}\n                                      value={value}\n                                      property={property}\n                                      size={size}/>\n                </ErrorBoundary>\n                }\n\n            </Paper>\n\n        </Box>\n    );\n\n}\n","import React from \"react\";\nimport {\n    Box,\n    FilledInput,\n    FormControl,\n    FormControlLabel,\n    FormHelperText,\n    InputLabel,\n    Switch,\n    Theme,\n    Typography\n} from \"@mui/material\";\n\nimport { FieldProps, MediaType, StringProperty } from \"../../models\";\nimport { PreviewComponent } from \"../../preview\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { useClearRestoreValue } from \"../../hooks\";\n\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst formStyles = makeStyles((theme: Theme) => createStyles({\n    inputLabel: {\n        marginTop: theme.spacing(1 / 2),\n        marginLeft: theme.spacing(1 / 2)\n    },\n    shrinkInputLabel: {\n        marginTop: \"-2px\",\n        marginLeft: theme.spacing(1 / 2)\n    }\n}))\n\ninterface TextFieldProps<T extends string | number> extends FieldProps<T> {\n    allowInfinity?: boolean\n}\n\n/**\n * Generic text field.\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function TextField<T extends string | number>({\n                                                         name,\n                                                         value,\n                                                         setValue,\n                                                         error,\n                                                         showError,\n                                                         disabled,\n                                                         autoFocus,\n                                                         property,\n                                                         includeDescription,\n                                                         allowInfinity,\n                                                         shouldAlwaysRerender\n                                                     }: TextFieldProps<T>) {\n\n    const classes = formStyles();\n\n    let mediaType: MediaType | undefined;\n    let multiline: boolean | undefined;\n    if (property.dataType === \"string\") {\n        const url = (property as StringProperty).config?.url;\n        mediaType = typeof url === \"string\" ? url : undefined;\n        multiline = (property as StringProperty).config?.multiline;\n    }\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const isMultiline = !!multiline;\n\n    const internalValue = value ?? (property.dataType === \"string\" ? \"\" : value === 0 ? 0 : \"\");\n\n    const valueIsInfinity = internalValue === Infinity;\n    const inputType = !valueIsInfinity && property.dataType === \"number\" ? \"number\" : undefined;\n\n    const updateValue = (newValue: typeof internalValue | undefined) => {\n\n        if (!newValue) {\n            setValue(\n                null\n            );\n        } else if (inputType === \"number\") {\n            const numValue = parseFloat(newValue as string);\n            setValue(\n                numValue as T\n            );\n        } else {\n            setValue(\n                newValue\n            );\n        }\n    };\n\n    const filledInput = (\n        <FilledInput\n            sx={{\n                minHeight: \"64px\"\n            }}\n            autoFocus={autoFocus}\n            type={inputType}\n            multiline={isMultiline}\n            inputProps={{\n                rows: 4\n            }}\n            value={valueIsInfinity ? \"Infinity\" : (value ?? \"\")}\n            disabled={disabled}\n            onChange={(evt) => {\n                updateValue(evt.target.value as T);\n            }}\n        />\n    );\n\n    return (\n        <>\n\n            <FormControl\n                variant=\"filled\"\n                required={property.validation?.required}\n                error={showError}\n                disabled={valueIsInfinity}\n                fullWidth>\n\n                <InputLabel\n                    classes={{\n                        root: classes.inputLabel,\n                        shrink: classes.shrinkInputLabel\n                    }}>\n                    <LabelWithIcon property={property}/>\n                </InputLabel>\n\n                {filledInput}\n\n                <Box display={\"flex\"}>\n\n                    <Box flexGrow={1}>\n                        {showError && <FormHelperText>{error}</FormHelperText>}\n\n                        {includeDescription &&\n                        <FieldDescription property={property}/>}\n                    </Box>\n\n                    {allowInfinity &&\n                    <FormControlLabel\n                        checked={valueIsInfinity}\n                        style={{ marginRight: 0 }}\n                        labelPlacement={\"start\"}\n                        control={\n                            <Switch\n                                size={\"small\"}\n                                type={\"checkbox\"}\n                                onChange={(evt) => {\n                                    updateValue(\n                                        evt.target.checked ? Infinity as T : undefined);\n                                }}/>\n                        }\n                        disabled={disabled}\n                        label={\n                            <Typography variant={\"caption\"}>\n                                Set value to Infinity\n                            </Typography>\n                        }\n                    />\n                    }\n                </Box>\n\n            </FormControl>\n\n            {mediaType && internalValue &&\n            <ErrorBoundary>\n                <Box m={1}>\n                    <PreviewComponent name={name}\n                                      value={internalValue}\n                                      property={property}\n                                      size={\"regular\"}/>\n                </Box>\n            </ErrorBoundary>\n            }\n        </>\n    );\n\n}\n","import React, { useState } from \"react\";\nimport {\n    FormControl,\n    FormControlLabel,\n    FormHelperText,\n    Switch,\n    Theme,\n    Typography\n} from \"@mui/material\";\nimport clsx from \"clsx\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { FieldProps } from \"../../models\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            justifyContent: \"space-between\",\n            margin: 0,\n            width: \"100%\",\n            minHeight: \"64px\",\n            paddingLeft: \"16px\",\n            paddingRight: \"24px\",\n            color: \"rgba(0, 0, 0, 0.87)\",\n            boxSizing: \"border-box\",\n            position: \"relative\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.06)\" : \"rgba(255, 255, 255, 0.09)\",\n            borderTopLeftRadius: \"4px\",\n            borderTopRightRadius: \"4px\",\n            transition: \"background-color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n            \"&::before\": {\n                borderBottom: theme.palette.mode === \"light\" ? \"1px solid rgba(0, 0, 0, 0.42)\" : \"1px solid rgba(255, 255, 255, 0.7)\",\n                left: 0,\n                bottom: 0,\n                content: \"\\\"\\\\00a0\\\"\",\n                position: \"absolute\",\n                right: 0,\n                transition: \"border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n                pointerEvents: \"none\"\n            },\n            \"&::after\": {\n                content: \"\\\"\\\"\",\n                transition: \"transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n                left: 0,\n                bottom: 0,\n                position: \"absolute\",\n                right: 0,\n                transform: \"scaleX(0)\",\n                borderBottom: `2px solid ${theme.palette.primary.main}`\n            },\n            \"&:hover\": {\n                backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.09)\" : \"rgba(255, 255, 255, 0.13)\"\n            }\n        },\n        focus: {\n            \"&::before\": {\n                borderBottom: theme.palette.mode === \"light\" ? \"1px solid rgba(255, 255, 255, 0.7)\" : \"1px solid rgba(0, 0, 0, 0.87)\"\n            },\n            \"&::after\": {\n                transform: \"scaleX(1)\",\n                pointerEvents: \"none\"\n            }\n        }\n    })\n);\n\n\ntype SwitchFieldProps = FieldProps<boolean>;\n\nconst SwitchFieldComponent = React.forwardRef(function({\n                                                           name,\n                                                           value,\n                                                           setValue,\n                                                           error,\n                                                           showError,\n                                                           autoFocus,\n                                                           disabled,\n                                                           touched,\n                                                           property,\n                                                           includeDescription,\n                                                           shouldAlwaysRerender\n                                                       }: SwitchFieldProps, ref) {\n\n    const classes = useStyles();\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const [focus, setFocus] = useState<boolean>(autoFocus);\n\n    return (\n        <>\n            <FormControl fullWidth>\n\n                <FormControlLabel\n                    className={clsx(classes.formControl,\n                        {\n                            [classes.focus]: focus\n                        })}\n                    onClick={(e) => setFocus(true)}\n                    labelPlacement={\"start\"}\n                    checked={Boolean(value)}\n                    inputRef={ref}\n                    control={\n                        <Switch\n                            type={\"checkbox\"}\n                            color={\"secondary\"}\n                            autoFocus={autoFocus}\n                            disabled={disabled}\n                            onFocus={(e) => setFocus(true)}\n                            onBlur={(e) => setFocus(false)}\n                            onChange={(evt) => {\n                                setFocus(true);\n                                setValue(\n                                    evt.target.checked\n                                );\n                            }}/>\n                    }\n                    disabled={disabled}\n                    label={\n                        <Typography color={\"textSecondary\"}>\n                            <LabelWithIcon\n\n                                property={property}/>\n                        </Typography>}\n                />\n\n                {includeDescription &&\n                <FieldDescription property={property}/>}\n\n                {showError && <FormHelperText>{error}</FormHelperText>}\n\n            </FormControl>\n\n\n        </>\n\n    );\n});\n\n/**\n * Simple boolean switch.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport const SwitchField = (props: SwitchFieldProps) => {\n    return <SwitchFieldComponent {...props}/>;\n};\n\n","import React from \"react\";\n\nimport { TextField as MuiTextField } from \"@mui/material\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\n\nimport { FieldProps } from \"../../models\";\n\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\n\ntype DateTimeFieldProps = FieldProps<Date>;\n\n/**\n * Field that allows selecting a date\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function DateTimeField({\n                                  name,\n                                  value,\n                                  setValue,\n                                  autoFocus,\n                                  error,\n                                  showError,\n                                  disabled,\n                                  touched,\n                                  property,\n                                  includeDescription,\n                                  shouldAlwaysRerender\n                              }: DateTimeFieldProps) {\n\n\n    const internalValue = value || null;\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    return (\n        <>\n\n            <DateTimePicker\n                clearable\n                autoFocus={autoFocus}\n                value={internalValue}\n                label={\n                    <LabelWithIcon property={property}/>\n                }\n                renderInput={(props) => (\n                    <MuiTextField {...props}\n                                  fullWidth\n                                  InputProps={{\n                                      ...props.InputProps,\n                                      sx: {\n                                          minHeight: \"64px\"\n                                      }\n                                  }}\n                                  error={showError}\n                        // format={dateFormat}\n                                  variant={\"filled\"}\n                                  helperText={showError ? error : null}/>\n                )}\n                disabled={disabled}\n                onChange={(dateValue) => {\n                    return setValue(\n                        dateValue\n                    );\n                }}\n            />\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n        </>\n    );\n}\n","import React, { useMemo } from \"react\";\n\nimport {\n    Box,\n    Button,\n    FormControl,\n    FormHelperText,\n    IconButton,\n    Theme,\n    Tooltip,\n    Typography\n} from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport ErrorIcon from \"@mui/icons-material/Error\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport KeyboardTabIcon from \"@mui/icons-material/KeyboardTab\";\n\nimport {\n    AnyProperty,\n    Entity,\n    EntityCollectionResolver,\n    EntityReference,\n    EntitySchemaResolver,\n    FieldProps\n} from \"../../models\";\nimport { FieldDescription } from \"../../form\";\nimport { ErrorView, ReferenceDialog } from \"../../core\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\nimport { PreviewComponent, SkeletonComponent } from \"../../preview\";\nimport { LabelWithIcon } from \"../components\";\nimport {\n    useClearRestoreValue,\n    useEntityFetch,\n    useNavigation,\n    useSideEntityController\n} from \"../../hooks\";\nimport { getReferenceFrom } from \"../../core/utils\";\n\nexport const useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        elevation: 0,\n        width: \"100%\",\n        padding: theme.spacing(1),\n        position: \"relative\",\n        transition: \"background-color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n        borderTopLeftRadius: \"2px\",\n        borderTopRightRadius: \"2px\",\n        backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.06)\" : \"rgba(255, 255, 255, 0.09)\",\n        // borderBottom: `1px solid ${darken(theme.palette.background.default, 0.1)}`,\n        \"&::before\": {\n            borderBottom: theme.palette.mode === \"light\" ? \"1px solid rgba(0, 0, 0, 0.42)\" : \"1px solid rgba(255, 255, 255, 0.7)\",\n            left: 0,\n            bottom: 0,\n            content: \"\\\"\\\\00a0\\\"\",\n            position: \"absolute\",\n            right: 0,\n            transition: \"border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n            pointerEvents: \"none\"\n        },\n        \"&::after\": {\n            content: \"\\\"\\\"\",\n            transition: \"transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms\",\n            left: 0,\n            bottom: 0,\n            position: \"absolute\",\n            right: 0,\n            transform: \"scaleX(0)\",\n            borderBottom: `2px solid ${theme.palette.primary.main}`\n        },\n        \"&:hover\": {\n            cursor: \"pointer\",\n            backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.09)\" : \"rgba(255, 255, 255, 0.13)\"\n        },\n        color: \"#838383\",\n        fontWeight: theme.typography.fontWeightMedium\n    },\n    disabled: {\n        backgroundColor: \"rgba(0, 0, 0, 0.12)\",\n        color: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.38)\" : \"rgba(255, 255, 255, 0.38)\",\n        \"&::before\": {\n            borderBottom: theme.palette.mode === \"light\" ? \"1px dotted rgba(0, 0, 0, 0.42)\" : \"1px dotted rgba(255, 255, 255, 0.7)\"\n        },\n        \"&::after\": {\n            borderBottom: `2px dotted ${theme.palette.primary.main}`\n        },\n        \"&:hover\": {\n            cursor: \"inherit\",\n            backgroundColor: \"rgba(0, 0, 0, 0.12)\"\n        }\n    }\n}));\n\n/**\n * Field that opens a reference selection dialog.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ReferenceField<M extends { [Key: string]: any }>({\n                                                                     name,\n                                                                     value,\n                                                                     setValue,\n                                                                     error,\n                                                                     showError,\n                                                                     disabled,\n                                                                     touched,\n                                                                     autoFocus,\n                                                                     property,\n                                                                     includeDescription,\n                                                                     context,\n                                                                     shouldAlwaysRerender\n                                                                 }: FieldProps<EntityReference>) {\n\n\n    if (typeof property.path !== \"string\") {\n        throw Error(\"Picked the wrong component ReferenceField\");\n    }\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(autoFocus);\n    const sideEntityController = useSideEntityController();\n\n    const navigationContext = useNavigation();\n    const collectionResolver: EntityCollectionResolver | undefined = useMemo(() => {\n        return navigationContext.getCollectionResolver(property.path as string);\n    }, [property.path, navigationContext]);\n\n    if (!collectionResolver) {\n        throw Error(`Couldn't find the corresponding collection for the path: ${property.path}`);\n    }\n\n    const schemaResolver = collectionResolver.schemaResolver;\n    const path = property.path;\n\n    const validValue = value && value instanceof EntityReference;\n\n    const {\n        entity,\n        dataLoading,\n        dataLoadingError\n    } = useEntityFetch({\n        path: validValue ? value.path : undefined,\n        entityId: validValue ? value.id : undefined,\n        schema: schemaResolver,\n        useCache: true\n    });\n\n    const handleEntityClick = (entity: Entity<M>) => {\n        if (disabled)\n            return;\n        setValue(entity ? getReferenceFrom(entity) : null);\n        setOpen(false);\n    };\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const clearValue = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        setValue(null);\n        setOpen(false);\n    };\n\n    const seeEntityDetails = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        if (entity)\n            sideEntityController.open({\n                entityId: entity.id,\n                path,\n                overrideSchemaRegistry: false\n            });\n    };\n\n    const onClose = () => {\n        setOpen(false);\n    };\n\n    function buildEntityView(schemaResolver?: EntitySchemaResolver) {\n\n        const missingEntity = entity && !entity.values;\n\n        let body: JSX.Element;\n        if (!schemaResolver) {\n            body = (\n                <ErrorView\n                    error={\"The specified collection does not exist. Check console\"}/>\n            );\n        } else if (missingEntity) {\n            body = (\n                <Tooltip title={value && value.path}>\n                    <Box\n                        display={\"flex\"}\n                        alignItems={\"center\"}\n                        p={1}\n                        flexGrow={1}>\n                        <ErrorIcon fontSize={\"small\"} color={\"error\"}/>\n                        <Box marginLeft={1}>Missing\n                            reference {entity && entity.id}</Box>\n                    </Box>\n                </Tooltip>\n            );\n        } else {\n            if (validValue) {\n\n                const schema = schemaResolver({});\n                const allProperties = Object.keys(schema.properties);\n                let listProperties = property.previewProperties?.filter(p => allProperties.includes(p as string));\n                if (!listProperties || !listProperties.length) {\n                    listProperties = allProperties;\n                }\n                listProperties = listProperties.slice(0, 3);\n\n                body = (\n                    <Box display={\"flex\"}\n                         flexDirection={\"column\"}\n                         flexGrow={1}\n                         ml={1}\n                         mr={1}>\n\n                        {listProperties && listProperties.map((key, index) => {\n                            const property = schema.properties[key as string];\n                            if (!property) return null;\n                            return (\n                                <Box\n                                    key={`reference_previews_${key as string}`}\n                                    mt={0.5}\n                                    mb={0.5}>\n                                    <ErrorBoundary>{\n                                        entity\n                                            ? <PreviewComponent\n                                                name={key as string}\n                                                value={(entity.values as any)[key]}\n                                                property={property as AnyProperty}\n                                                size={\"tiny\"}/>\n                                            : <SkeletonComponent\n                                                property={property as AnyProperty}\n                                                size={\"tiny\"}/>}\n                                    </ErrorBoundary>\n                                </Box>\n                            );\n                        })}\n                    </Box>\n                );\n            } else {\n                body = <Box p={1}\n                            onClick={disabled ? undefined : handleClickOpen}\n                            justifyContent=\"center\"\n                            display=\"flex\">\n                    <Typography variant={\"body2\"} sx={(theme) => ({\n                        flexGrow: 1,\n                        textAlign: \"center\",\n                        color: \"#838383\",\n                        fontWeight: theme.typography.fontWeightMedium\n                    })}>No value set</Typography>\n                    {!disabled && <Button variant=\"outlined\"\n                                          color=\"primary\">\n                        Set\n                    </Button>}\n                </Box>;\n            }\n        }\n\n        return (\n            <Box\n                onClick={disabled ? undefined : handleClickOpen}\n                display=\"flex\">\n\n                <Box display={\"flex\"}\n                     flexDirection={\"column\"}\n                     flexGrow={1}>\n\n                    <Box display={\"flex\"}\n                         flexDirection={\"row\"}\n                         flexGrow={1}>\n\n                        <Box flexGrow={1}>\n                            <FormHelperText filled\n                                            required={property.validation?.required}>\n                                <LabelWithIcon\n                                    property={property}/>\n                            </FormHelperText>\n                        </Box>\n\n                        {entity &&\n                        <Box\n                            alignSelf={\"center\"}\n                            m={1}>\n                            <Tooltip title={value && value.path}>\n                                <Typography variant={\"caption\"}\n                                            className={\"mono\"}>\n                                    {entity.id}\n                                </Typography>\n                            </Tooltip>\n                        </Box>}\n\n                        {!missingEntity && entity && value && <Box>\n                            <Tooltip title={`See details for ${entity.id}`}>\n                                <span>\n                                <IconButton\n                                    onClick={seeEntityDetails}\n                                    size=\"large\">\n                                    <KeyboardTabIcon/>\n                                </IconButton>\n                                    </span>\n                            </Tooltip>\n                        </Box>}\n\n                        {value && <Box>\n                            <Tooltip title=\"Clear\">\n                                <span>\n                                <IconButton\n                                    disabled={disabled}\n                                    onClick={disabled ? undefined : clearValue}\n                                    size=\"large\">\n                                    <ClearIcon/>\n                                </IconButton>\n                                </span>\n                            </Tooltip>\n                        </Box>}\n\n                    </Box>\n\n                    {body}\n\n                </Box>\n            </Box>\n        );\n    }\n\n    return (\n        <FormControl error={showError} fullWidth>\n\n            <div\n                className={`${classes.root} ${disabled ? classes.disabled : \"\"}`}>\n\n                {schemaResolver && buildEntityView(schemaResolver)}\n\n                {collectionResolver && <ReferenceDialog open={open}\n                                                        collectionResolver={collectionResolver}\n                                                        multiselect={false}\n                                                        path={path}\n                                                        onClose={onClose}\n                                                        onSingleEntitySelected={handleEntityClick}\n                />}\n\n\n            </div>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n            {showError && <FormHelperText>{error}</FormHelperText>}\n\n        </FormControl>\n    );\n}\n\n\n","import React, { useState } from \"react\";\nimport { CMSType, FieldProps, Property } from \"../../models\";\nimport { FormControl, FormHelperText, Paper, Theme } from \"@mui/material\";\nimport { FieldDescription } from \"../../form\";\nimport { ArrayContainer, LabelWithIcon } from \"../components\";\nimport { buildPropertyField } from \"../form_factory\";\nimport { useClearRestoreValue } from \"../../hooks\";\n\n\n/**\n * Generic array field that allows reordering and renders the child property\n * as nodes.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ArrayDefaultField<T extends Array<any>>({\n                                                            name,\n                                                            value,\n                                                            error,\n                                                            showError,\n                                                            isSubmitting,\n                                                            setValue,\n                                                            tableMode,\n                                                            property,\n                                                            includeDescription,\n                                                            underlyingValueHasChanged,\n                                                            context,\n                                                            disabled,\n                                                            shouldAlwaysRerender\n                                                        }: FieldProps<T>) {\n\n    if (!property.of)\n        throw Error(\"ArrayDefaultField misconfiguration. Property `of` not set\");\n\n    const ofProperty: Property<CMSType[]> = property.of as Property<CMSType[]>;\n\n    const [lastAddedId, setLastAddedId] = useState<number | undefined>();\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const buildEntry = (index: number, internalId: number) => {\n        return buildPropertyField({\n            name: `${name}[${index}]`,\n            disabled,\n            property: ofProperty,\n            includeDescription,\n            underlyingValueHasChanged,\n            context,\n            tableMode: false,\n            partOfArray: true,\n            autoFocus: internalId === lastAddedId,\n            shouldAlwaysRerender: false\n        });\n\n    };\n\n    return (\n\n        <FormControl fullWidth error={showError}>\n\n            {!tableMode && <FormHelperText filled\n                                           required={property.validation?.required}>\n                <LabelWithIcon property={property}/>\n            </FormHelperText>}\n\n            <Paper variant={\"outlined\"}\n                   sx={(theme) => ({\n                       elevation: 0,\n                       padding: theme.spacing(2),\n                       [theme.breakpoints.up(\"md\")]: {\n                           padding: theme.spacing(2)\n                       }\n                   })}>\n                <ArrayContainer value={value}\n                                name={name}\n                                buildEntry={buildEntry}\n                                onInternalIdAdded={setLastAddedId}\n                                disabled={isSubmitting || Boolean(property.disabled)}\n                                includeAddButton={!property.disabled}/>\n\n            </Paper>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n            {showError && typeof error === \"string\" &&\n            <FormHelperText>{error}</FormHelperText>}\n\n        </FormControl>\n    );\n}\n\n\n","import React, { useEffect, useState } from \"react\";\nimport {\n    FormControl,\n    FormHelperText,\n    InputLabel,\n    MenuItem,\n    Paper,\n    Select\n} from \"@mui/material\";\nimport { FastField, FieldProps as FormikFieldProps } from \"formik\";\n\n\nimport { ArrayContainer, FieldDescription, LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\nimport { buildPropertyField } from \"../form_factory\";\nimport { EnumValuesChip } from \"../../preview/components/CustomChip\";\nimport { enumToObjectEntries } from \"../../core/util/enums\";\nimport { EnumValues, FieldProps, FormContext, Property } from \"../../models\";\n\n\n/**\n * If the `oneOf` property is specified, this fields render each array entry as\n * a `type` select and the corresponding field widget to the selected `type.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ArrayOneOfField<T extends Array<any>>({\n                                                          name,\n                                                          value,\n                                                          error,\n                                                          showError,\n                                                          isSubmitting,\n                                                          setValue,\n                                                          tableMode,\n                                                          property,\n                                                          includeDescription,\n                                                          underlyingValueHasChanged,\n                                                          context,\n                                                          disabled,\n                                                          shouldAlwaysRerender\n                                                      }: FieldProps<T>) {\n\n    if (!property.oneOf)\n        throw Error(\"ArrayOneOfField misconfiguration. Property `oneOf` not set\");\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const [lastAddedId, setLastAddedId] = useState<number | undefined>();\n\n    const buildEntry = (index: number, internalId: number) => {\n        return <ArrayOneOfEntry\n            key={`array_one_of_${index}`}\n            name={`${name}[${index}]`}\n            index={index}\n            value={value[index]}\n            typeField={property.oneOf!.typeField ?? \"type\"}\n            valueField={property.oneOf!.valueField ?? \"value\"}\n            properties={property.oneOf!.properties}\n            autoFocus={internalId === lastAddedId}\n            context={context}/>;\n    };\n\n    return (\n\n        <FormControl fullWidth error={showError}>\n\n            {!tableMode && <FormHelperText filled\n                                           required={property.validation?.required}>\n                <LabelWithIcon property={property}/>\n            </FormHelperText>}\n\n            <Paper variant={\"outlined\"}\n                   sx={(theme) => ({\n                       elevation: 0,\n                       padding: theme.spacing(2),\n                       [theme.breakpoints.up(\"md\")]: {\n                           padding: theme.spacing(2)\n                       }\n                   })}>\n                <ArrayContainer value={value}\n                                name={name}\n                                buildEntry={buildEntry}\n                                onInternalIdAdded={setLastAddedId}\n                                disabled={isSubmitting || Boolean(property.disabled)}\n                                includeAddButton={!property.disabled}/>\n            </Paper>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n            {showError &&\n            typeof error === \"string\" &&\n            <FormHelperText>{error}</FormHelperText>}\n\n        </FormControl>\n    );\n}\n\ninterface ArrayOneOfEntryProps {\n    name: string;\n    index: number;\n    value: any;\n    /**\n     * Name of the field to use as the discriminator for type\n     * Defaults to `type`\n     */\n    typeField: string;\n    /**\n     * Name of the  field to use as the value\n     * Defaults to `value`\n     */\n    valueField: string;\n\n    autoFocus: boolean;\n    /**\n     * Record of properties, where the key is the `type` and the value\n     * is the corresponding property\n     */\n    properties: Record<string, Property>;\n\n    /**\n     * Additional values related to the state of the form or the entity\n     */\n    context: FormContext<any>;\n}\n\nfunction ArrayOneOfEntry({\n                             name,\n                             index,\n                             value,\n                             typeField,\n                             valueField,\n                             properties,\n                             autoFocus,\n                             context\n                         }: ArrayOneOfEntryProps) {\n\n\n    const type = value && value[typeField];\n    const [typeInternal, setTypeInternal] = useState<string | undefined>(type ?? undefined);\n\n    useEffect(() => {\n        if (type !== typeInternal) {\n            setTypeInternal(type);\n        }\n    }, [type]);\n\n    const property = typeInternal ? properties[typeInternal] : undefined;\n\n    const enumValues: EnumValues = Object.entries(properties).map(([key, property]) => ({ [key]: property.title ?? key })).reduce((a, b) => ({ ...a, ...b }));\n\n    const typeFieldName = `${name}[${typeField}]`;\n    const valueFieldName = `${name}[${valueField}]`;\n\n    return (\n        <Paper sx={(theme) => ({\n            elevation: 0,\n            padding: theme.spacing(2),\n            [theme.breakpoints.up(\"md\")]: {\n                padding: theme.spacing(2)\n            }\n        })} elevation={0}>\n\n            <FastField\n                required={true}\n                name={typeFieldName}\n            >\n                {(fieldProps: FormikFieldProps) =>\n                    (\n                        <FormControl fullWidth>\n                            <InputLabel\n                                id={`${name}_${index}_select_label`}>\n                                <span>Type</span>\n                            </InputLabel>\n                            <Select\n                                fullWidth\n                                sx={{ marginBottom: 2 }}\n                                labelId={`${name}_${index}_select_label`}\n                                value={fieldProps.field.value !== undefined && fieldProps.field.value !== null ? fieldProps.field.value : \"\"}\n                                onChange={(evt: any) => {\n                                    const eventValue = evt.target.value;\n                                    fieldProps.form.setFieldTouched(typeFieldName);\n                                    setTypeInternal(eventValue);\n                                    fieldProps.form.setFieldValue(typeFieldName, eventValue);\n                                    fieldProps.form.setFieldValue(valueFieldName, null);\n                                }}\n                                renderValue={(enumKey: any) =>\n                                    <EnumValuesChip\n                                        enumKey={enumKey}\n                                        enumValues={enumValues}\n                                        small={true}/>\n                                }>\n                                {enumToObjectEntries(enumValues)\n                                    .map(([enumKey, labelOrConfig]) => {\n                                        return (\n                                            <MenuItem\n                                                key={`select_${name}_${index}_${enumKey}`}\n                                                value={enumKey}>\n                                                <EnumValuesChip\n                                                    enumKey={enumKey}\n                                                    enumValues={enumValues}\n                                                    small={true}/>\n                                            </MenuItem>\n                                        );\n                                    })}\n                            </Select>\n                        </FormControl>\n                    )\n                }\n            </FastField>\n\n            {property && (\n                <FormControl fullWidth\n                             key={`form_control_${name}_${typeInternal}`}>\n                    {buildPropertyField({\n                        name: valueFieldName,\n                        property: property,\n                        context: context,\n                        autoFocus: autoFocus\n                    })}\n                </FormControl>\n            )}\n\n        </Paper>\n    );\n}\n\n\n","import React from \"react\";\nimport { FormControl, FormHelperText, Paper } from \"@mui/material\";\n\nimport { FieldProps } from \"../../models\";\n\nimport { PreviewComponent } from \"../../preview\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\nimport { ErrorBoundary } from \"../../core/internal/ErrorBoundary\";\n\n/**\n *\n * Simply render the non-editable preview of a field\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ReadOnlyField({\n                                  name,\n                                                                    value,\n                                                                    setValue,\n                                                                    error,\n                                                                    showError,\n                                                                    isSubmitting,\n                                                                    touched,\n                                                                    tableMode,\n                                                                    property,\n                                                                    includeDescription,\n                                                                    context\n                                                                }: FieldProps<any>) {\n\n    return (\n\n        <FormControl fullWidth error={showError}>\n\n            {!tableMode && <FormHelperText filled\n                                           required={property.validation?.required}>\n                <LabelWithIcon property={property}/>\n            </FormHelperText>}\n\n            <Paper\n                sx={(theme) => ({\n                    minHeight: \"64px\",\n                    elevation: 0,\n                    padding: theme.spacing(2),\n                    [theme.breakpoints.up(\"md\")]: {\n                        padding: theme.spacing(3)\n                    }\n                })}\n                variant={\"outlined\"}>\n\n                <ErrorBoundary>\n                    <PreviewComponent name={name}\n                                      value={value}\n                                      property={property}\n                                      size={\"regular\"}/>\n                </ErrorBoundary>\n\n            </Paper>\n\n            {showError &&\n            typeof error === \"string\" &&\n            <FormHelperText>{error}</FormHelperText>}\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n        </FormControl>\n    );\n}\n","import React from \"react\";\n\nimport { Box, FormControl, FormHelperText, Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport MDEditor from \"@uiw/react-md-editor\";\n\nimport { FieldProps } from \"../../models\";\nimport { FieldDescription } from \"../../form\";\nimport { LabelWithIcon } from \"../components\";\n\nimport { useClearRestoreValue } from \"../../hooks\";\n\ninterface MarkDownFieldProps extends FieldProps<string> {\n}\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            \"& .w-md-editor-toolbar li > button\": {\n                color: theme.palette.text.secondary\n            },\n            \"& .w-md-editor-toolbar li.active > button\": {\n                color: theme.palette.primary.main\n            },\n            \"& .w-md-editor-text-pre, & .w-md-editor-text-pre .title, & .w-md-editor-text-pre .bold\": {\n                color: \"inherit !important\"\n            },\n            \"& .wmde-markdown-color code.language-markdown\": {\n                color: \"inherit\"\n            },\n            \"& .w-md-editor\": {\n                color: \"inherit\",\n                backgroundColor: theme.palette.mode === \"light\" ? \"rgb(240, 240, 240)\" : \"#323232\"\n            },\n            \"& .w-md-editor-toolbar\": {\n                borderBottom: \"inherit\",\n                backgroundColor: theme.palette.mode === \"light\" ? \"rgba(0, 0, 0, 0.09)\" : \"rgba(255, 255, 255, 0.09)\"\n            }\n        }\n    })\n);\n\n/**\n * Render a markdown field that allows edition and seeing the preview.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function MarkdownField({\n                                  name,\n                                  value,\n                                  setValue,\n                                  error,\n                                  showError,\n                                  disabled,\n                                  autoFocus,\n                                  touched,\n                                  property,\n                                  tableMode,\n                                  includeDescription,\n                                  context,\n                                  shouldAlwaysRerender\n                              }: MarkDownFieldProps) {\n\n    const classes = useStyles();\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const updateValue = (newValue: string | undefined) => {\n        if (!newValue) {\n            setValue(\n                null\n            );\n        } else {\n            setValue(\n                newValue\n            );\n        }\n    };\n\n    return (\n\n        <FormControl\n            required={property.validation?.required}\n            error={showError}\n            fullWidth>\n\n            {!tableMode && <FormHelperText filled\n                                           required={property.validation?.required}>\n                <LabelWithIcon property={property}/>\n            </FormHelperText>}\n\n            <div className={classes.root}>\n                <MDEditor\n                    value={typeof value === \"string\" ? value : \"\"}\n                    preview={\"edit\"}\n                    onChange={(value) => updateValue(value)}\n                />\n            </div>\n\n            <Box display={\"flex\"}>\n                <Box flexGrow={1}>\n                    {showError &&\n                    typeof error === \"string\" &&\n                    <FormHelperText>{error}</FormHelperText>}\n                    {includeDescription &&\n                    <FieldDescription property={property}/>}\n                </Box>\n            </Box>\n\n        </FormControl>\n    );\n\n}\n","import React, { useMemo } from \"react\";\nimport {\n    Box,\n    Button,\n    FormControl,\n    FormHelperText,\n    Paper,\n    Theme\n} from \"@mui/material\";\nimport {\n    Entity,\n    EntityCollectionResolver,\n    EntityReference,\n    FieldProps,\n    Property\n} from \"../../models\";\nimport { ReferencePreview } from \"../../preview\";\nimport { ArrayContainer, FieldDescription, LabelWithIcon } from \"../components\";\nimport { ErrorView, ReferenceDialog } from \"../../core\";\n\nimport { useClearRestoreValue, useNavigation } from \"../../hooks\";\nimport { getReferenceFrom } from \"../../core/utils\";\n\n\ntype ArrayOfReferencesFieldProps = FieldProps<EntityReference[]>;\n\n/**\n * This field allows selecting multiple references.\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function ArrayOfReferencesField({\n                                           name,\n                                           value,\n                                           error,\n                                           showError,\n                                           isSubmitting,\n                                           tableMode,\n                                           property,\n                                           includeDescription,\n                                           setValue\n                                       }: ArrayOfReferencesFieldProps) {\n\n    const ofProperty: Property = property.of as Property;\n    if (ofProperty.dataType !== \"reference\") {\n        throw Error(\"ArrayOfReferencesField expected a property containing references\");\n    }\n\n    const [open, setOpen] = React.useState(false);\n    const [onHover, setOnHover] = React.useState(false);\n    const selectedIds = value && Array.isArray(value) ? value.map((ref) => ref.id) : [];\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    const navigationContext = useNavigation();\n    const collectionResolver: EntityCollectionResolver | undefined = useMemo(() => {\n        return ofProperty.path ? navigationContext.getCollectionResolver(ofProperty.path) : undefined;\n    }, [ofProperty.path]);\n\n    if (!collectionResolver) {\n        throw Error(`Couldn't find the corresponding collection for the path: ${ofProperty.path}`);\n    }\n\n    const onEntryClick = () => {\n        setOpen(true);\n    };\n\n    const onClose = () => {\n        setOpen(false);\n    };\n\n    const onMultipleEntitiesSelected = (entities: Entity<any>[]) => {\n        setValue(entities.map(e => getReferenceFrom(e)));\n    };\n\n    const buildEntry = (index: number, internalId: number) => {\n        const entryValue = value && value.length > index ? value[index] : undefined;\n        if (!entryValue)\n            return <div>Internal ERROR</div>;\n        return (\n            <div\n                onMouseEnter={() => setOnHover(true)}\n                onMouseMove={() => setOnHover(true)}\n                onMouseLeave={() => setOnHover(false)}>\n                <ReferencePreview\n                    value={entryValue}\n                    property={ofProperty}\n                    onHover={onHover}\n                    size={\"regular\"}\n                    onClick={onEntryClick}/>\n            </div>\n        );\n    };\n\n\n    return (\n        <>\n            <FormControl fullWidth error={showError}>\n\n                {!tableMode && <FormHelperText filled\n                                               required={property.validation?.required}>\n                    <LabelWithIcon property={property}/>\n                </FormHelperText>}\n\n                <Paper variant={\"outlined\"}\n                       sx={(theme) => ({\n                           elevation: 0,\n                           padding: theme.spacing(2),\n                           [theme.breakpoints.up(\"md\")]: {\n                               padding: theme.spacing(2)\n                           }\n                       })}>\n\n                    {!collectionResolver && <ErrorView\n                        error={\"The specified collection does not exist. Check console\"}/>}\n\n                    {collectionResolver && <>\n\n                        <ArrayContainer value={value}\n                                        name={name}\n                                        buildEntry={buildEntry}\n                                        disabled={isSubmitting}/>\n\n                        <Box p={1}\n                             justifyContent=\"center\"\n                             textAlign={\"left\"}>\n                            <Button variant=\"outlined\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    onClick={onEntryClick}>\n                                Edit {property.title}\n                            </Button>\n                        </Box>\n                    </>}\n\n                </Paper>\n\n                {includeDescription &&\n                <FieldDescription property={property}/>}\n\n                {showError &&\n                typeof error === \"string\" &&\n                <FormHelperText>{error}</FormHelperText>}\n\n            </FormControl>\n\n            {collectionResolver && ofProperty.path && <ReferenceDialog open={open}\n                                                    multiselect={true}\n                                                    collectionResolver={collectionResolver}\n                                                    path={ofProperty.path}\n                                                    onClose={onClose}\n                                                    onMultipleEntitiesSelected={onMultipleEntitiesSelected}\n                                                    selectedEntityIds={selectedIds}\n            />}\n        </>\n    );\n}\n\n\n","import React, { ComponentType, ReactElement, useEffect, useState } from \"react\";\nimport { FormHelperText } from \"@mui/material\";\n\nimport {\n    FastField,\n    Field,\n    FieldProps as FormikFieldProps,\n    getIn\n} from \"formik\";\n\nimport {\n    ArrayProperty,\n    CMSFormFieldProps,\n    CMSType,\n    FieldProps,\n    Property\n} from \"../models\";\n\nimport { Select } from \"./fields/Select\";\nimport { ArrayEnumSelect } from \"./fields/ArrayEnumSelect\";\nimport { StorageUploadField } from \"./fields/StorageUploadField\";\nimport { TextField } from \"./fields/TextField\";\nimport { SwitchField } from \"./fields/SwitchField\";\nimport { DateTimeField } from \"./fields/DateTimeField\";\nimport { ReferenceField } from \"./fields/ReferenceField\";\nimport { MapField } from \"./fields/MapField\";\nimport { ArrayDefaultField } from \"./fields/ArrayDefaultField\";\nimport { ArrayOneOfField } from \"./fields/ArrayOneOfField\";\nimport { ReadOnlyField } from \"./fields/ReadOnlyField\";\nimport { MarkdownField } from \"./fields/MarkdownField\";\n\nimport { ArrayOfReferencesField } from \"./fields/ArrayOfReferencesField\";\nimport { isReadOnly } from \"../core/utils\";\nimport isEqual from \"react-fast-compare\";\n\n\n/**\n * This factory method renders a form field creating the corresponding configuration\n * from a property. For example if bound to a string property, it will generate\n * a text field.\n *\n * You can use it when you are creating a custom field, and need to\n * render additional fields mapped to properties. This is useful if you\n * need to build a complex property mapping, like an array where each index\n * is a different property.\n *\n * Please note that if you build a custom field in a component, the\n * **validation** passed in the property will have no effect. You need to set\n * the validation in the `EntitySchema` definition.\n *\n * @param name You can use nested names such as `address.street` or `friends[2]`\n * @param property\n * @param context\n * @param includeDescription\n * @param underlyingValueHasChanged\n * @param disabled\n * @param tableMode\n * @param partOfArray\n * @param autoFocus\n * @param shouldAlwaysRerender\n * @category Form custom fields\n */\nexport function buildPropertyField<T extends CMSType = any, M = any>\n({\n     name,\n     property,\n     context,\n     includeDescription,\n     underlyingValueHasChanged,\n     disabled,\n     tableMode,\n     partOfArray,\n     autoFocus,\n     shouldAlwaysRerender\n }: CMSFormFieldProps<M>): ReactElement<CMSFormFieldProps<M>> {\n\n    let component: ComponentType<FieldProps<T, any, M>> | undefined;\n    if (isReadOnly(property)) {\n        component = ReadOnlyField;\n    } else if (property.config?.Field) {\n        component = property.config?.Field as ComponentType<FieldProps<T>>;\n    } else if (property.dataType === \"array\") {\n        const of = (property as ArrayProperty).of;\n        if (of) {\n            if ((of.dataType === \"string\" || of.dataType === \"number\") && of.config?.enumValues) {\n                component = ArrayEnumSelect as ComponentType<FieldProps<T>>;\n            } else if (of.dataType === \"string\" && of.config?.storageMeta) {\n                component = StorageUploadField as ComponentType<FieldProps<T>>;\n            } else if (of.dataType === \"reference\") {\n                component = ArrayOfReferencesField as ComponentType<FieldProps<T>>;\n            } else {\n                component = ArrayDefaultField as ComponentType<FieldProps<T>>;\n            }\n        }\n        const oneOf = (property as ArrayProperty).oneOf;\n        if (oneOf) {\n            component = ArrayOneOfField as ComponentType<FieldProps<T>>;\n        }\n        if (!of && !oneOf) {\n            throw Error(`You need to specify an 'of' or 'oneOf' prop (or specify a custom field) in your array property ${name}`);\n        }\n    } else if (property.dataType === \"map\") {\n        component = MapField as ComponentType<FieldProps<T>>;\n    } else if (property.dataType === \"reference\") {\n        if (!property.path)\n            component = ReadOnlyField as ComponentType<FieldProps<T>>;\n        else {\n            component = ReferenceField as ComponentType<FieldProps<T>>;\n        }\n    } else if (property.dataType === \"timestamp\") {\n        component = DateTimeField as ComponentType<FieldProps<T>>;\n    } else if (property.dataType === \"boolean\") {\n        component = SwitchField as ComponentType<FieldProps<T>>;\n    } else if (property.dataType === \"number\") {\n        if (property.config?.enumValues) {\n            component = Select as ComponentType<FieldProps<T>>;\n        } else {\n            component = TextField as ComponentType<FieldProps<T>>;\n        }\n    } else if (property.dataType === \"string\") {\n        if (property.config?.storageMeta) {\n            component = StorageUploadField as ComponentType<FieldProps<T>>;\n        } else if (property.config?.markdown) {\n            component = MarkdownField as ComponentType<FieldProps<T>>;\n        } else if (property.config?.enumValues) {\n            component = Select as ComponentType<FieldProps<T>>;\n        } else {\n            component = TextField as ComponentType<FieldProps<T>>;\n        }\n    }\n\n    if (component) {\n\n        const componentProps = {\n            name,\n            property,\n            includeDescription,\n            underlyingValueHasChanged,\n            context,\n            disabled,\n            tableMode,\n            partOfArray,\n            autoFocus,\n            shouldAlwaysRerender\n        };\n\n        // we use the standard Field for user defined fields, since it rebuilds\n        // when there are changes in other values, in contrast to FastField\n        const FieldComponent = shouldAlwaysRerender || property.config?.Field ? Field : FastField;\n\n        return (\n            <FieldComponent\n                required={property.validation?.required}\n                name={`${name}`}\n            >\n                {(fieldProps: FormikFieldProps<T>) => {\n                    return <FieldInternal\n                        component={component as ComponentType<FieldProps<T>>}\n                        componentProps={componentProps}\n                        fieldProps={fieldProps}/>;\n                }}\n            </FieldComponent>\n        );\n\n    }\n\n    return (\n        <div>{`Currently the field ${property.dataType} is not supported`}</div>\n    );\n}\n\n\nfunction FieldInternal<T extends CMSType, M extends { [Key: string]: any }>\n({\n     component,\n     componentProps: {\n         name,\n         property,\n         includeDescription,\n         underlyingValueHasChanged,\n         tableMode,\n         partOfArray,\n         autoFocus,\n         context,\n         disabled,\n         shouldAlwaysRerender\n     },\n     fieldProps\n\n }:\n     {\n         component: ComponentType<FieldProps<T>>,\n         componentProps: CMSFormFieldProps<M>,\n         fieldProps: FormikFieldProps<T>\n     }) {\n\n    const customFieldProps: any = property.config?.customProps;\n    const value = fieldProps.field.value;\n    const initialValue = fieldProps.meta.initialValue;\n    const error = getIn(fieldProps.form.errors, name);\n    const touched = getIn(fieldProps.form.touched, name);\n\n    const showError: boolean = error &&\n        (fieldProps.form.submitCount > 0 || property.validation?.unique) &&\n        (!Array.isArray(error) || !!error.filter((e: any) => !!e).length);\n\n    const isSubmitting = fieldProps.form.isSubmitting;\n\n    const [internalValue, setInternalValue] = useState<T | null>(value);\n    useEffect(\n        () => {\n            const handler = setTimeout(() => {\n                fieldProps.form.setFieldValue(name, internalValue);\n            }, 50);\n\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [internalValue]\n    );\n\n    useEffect(\n        () => {\n            if (!isEqual(value, internalValue)) {\n                setInternalValue(value);\n            }\n        },\n        [value]\n    );\n\n    const cmsFieldProps: FieldProps<T> = {\n        name,\n        value: internalValue as T,\n        initialValue,\n        setValue: (value: T | null) => {\n            fieldProps.form.setFieldTouched(name, true, false);\n            setInternalValue(value);\n        },\n        error,\n        touched,\n        showError,\n        isSubmitting,\n        includeDescription: includeDescription ?? true,\n        property: property as Property<T>,\n        disabled: disabled ?? false,\n        underlyingValueHasChanged: underlyingValueHasChanged ?? false,\n        tableMode: tableMode ?? false,\n        partOfArray: partOfArray ?? false,\n        autoFocus: autoFocus ?? false,\n        customProps: customFieldProps,\n        context,\n        shouldAlwaysRerender: shouldAlwaysRerender ?? true\n    };\n\n    return (\n        <>\n\n            {React.createElement(component, cmsFieldProps)}\n\n            {underlyingValueHasChanged && !isSubmitting &&\n            <FormHelperText>\n                This value has been updated elsewhere\n            </FormHelperText>}\n\n        </>);\n\n}\n\n","import React from \"react\";\nimport { FieldProps, Properties, Property } from \"../../models\";\nimport {\n    Box,\n    FormControl,\n    FormHelperText,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Paper,\n    Select\n} from \"@mui/material\";\nimport { SelectChangeEvent } from \"@mui/material/Select\";\n\nimport { pick } from \"../../core/util/objects\";\nimport { FieldDescription, LabelWithIcon } from \"../components\";\nimport { useClearRestoreValue } from \"../../hooks\";\nimport { buildPropertyField } from \"../form_factory\";\nimport { isHidden } from \"../../core/utils\";\n\n/**\n * Field that renders the children property fields\n *\n * This is one of the internal components that get mapped natively inside forms\n * and tables to the specified properties.\n * @category Form fields\n */\nexport function MapField<T extends object>({\n                                               name,\n                                               value,\n                                               showError,\n                                               disabled,\n                                               property,\n                                               setValue,\n                                               tableMode,\n                                               includeDescription,\n                                               underlyingValueHasChanged,\n                                               context\n                                           }: FieldProps<T>) {\n\n\n    const pickOnlySomeKeys = property.config?.pickOnlySomeKeys || false;\n\n    if (!property.properties) {\n        throw Error(`You need to specify a 'properties' prop (or specify a custom field) in your map property ${name}`);\n    }\n\n    let mapProperties: Record<string, Property>;\n    if (!pickOnlySomeKeys) {\n        mapProperties = property.properties as Properties;\n    } else if (value) {\n        mapProperties = pick(property.properties as Properties,\n            ...Object.keys(value)\n                .filter(key => key in property.properties!)\n        );\n    } else {\n        mapProperties = {};\n    }\n\n    useClearRestoreValue({\n        property,\n        value,\n        setValue\n    });\n\n    function buildPickKeysSelect() {\n\n        const keys = Object.keys(property.properties!)\n            .filter((key) => !value || !(key in value));\n\n        const handleAddProperty = (event: SelectChangeEvent) => {\n            setValue({\n                ...value,\n                [event.target.value as string]: null\n            });\n        };\n\n        if (!keys.length) return <></>;\n\n        return <Box m={1}>\n            <FormControl fullWidth>\n                <InputLabel>Add property</InputLabel>\n                <Select\n                    variant={\"standard\"}\n                    value={\"\"}\n                    disabled={disabled}\n                    onChange={handleAddProperty}>\n                    {keys.map((key) => (\n                        <MenuItem key={key} value={key}>\n                            {(property.properties as Properties)[key].title || key}\n                        </MenuItem>\n                    ))}\n                </Select>\n            </FormControl>\n        </Box>;\n    }\n\n    return (\n        <FormControl fullWidth error={showError}>\n\n            {!tableMode && <FormHelperText filled\n                                           required={property.validation?.required}>\n                <LabelWithIcon property={property}/>\n            </FormHelperText>}\n\n            <Paper elevation={0} variant={\"outlined\"} sx={(theme) => ({\n                elevation: 0,\n                padding: theme.spacing(2),\n                [theme.breakpoints.up(\"md\")]: {\n                    padding: theme.spacing(2)\n                }\n            })}>\n                <Grid container spacing={2}>\n                    {Object.entries(mapProperties)\n                        .filter(([_, property]) => !isHidden(property))\n                        .map(([entryKey, childProperty], index) => {\n                            return (\n                                <Grid item\n                                      sm={12}\n                                      xs={12}\n                                      key={`map-${name}-${index}`}>\n                                    {\n                                        buildPropertyField<any, T>({\n                                            name: `${name}[${entryKey}]`,\n                                            disabled,\n                                            property: childProperty,\n                                            includeDescription,\n                                            underlyingValueHasChanged,\n                                            context,\n                                            tableMode,\n                                            partOfArray: false,\n                                            autoFocus: false,\n                                                shouldAlwaysRerender: false\n                                            })\n                                        }\n                                    </Grid>\n                                );\n                            }\n                        )}\n                </Grid>\n\n                {pickOnlySomeKeys && buildPickKeysSelect()}\n\n            </Paper>\n\n            {includeDescription &&\n            <FieldDescription property={property}/>}\n\n        </FormControl>\n    );\n}\n","import React, { useEffect } from \"react\";\nimport { useFormikContext } from \"formik\";\n\nexport const ErrorFocus = ({ containerRef }:\n                               { containerRef?: React.RefObject<HTMLDivElement> }) => {\n    const { isSubmitting, isValidating, errors } = useFormikContext();\n\n    useEffect(() => {\n        const keys = Object.keys(errors);\n\n        // Whenever there are errors and the form is submitting but finished validating.\n        if (keys.length > 0 && isSubmitting && !isValidating) {\n            const errorElement = containerRef?.current?.querySelector<HTMLDivElement>(\n                `#form_field_${keys[0]}`\n            );\n\n            if (errorElement && containerRef?.current) {\n                const scrollableParent = getScrollableParent(containerRef.current);\n                if (scrollableParent) {\n                    const top = errorElement.getBoundingClientRect().top;\n                    scrollableParent.scrollTo({\n                        top: scrollableParent.scrollTop + top - 64,\n                        behavior: \"smooth\"\n                    });\n                }\n                const input = errorElement.querySelector(\"input\");\n                if (input) input.focus();\n            }\n        }\n    }, [isSubmitting, isValidating, errors, containerRef]);\n\n    // This component does not render anything by itself.\n    return null;\n};\n\nconst isScrollable = (ele: HTMLElement | null) => {\n    const hasScrollableContent = ele && ele.scrollHeight > ele.clientHeight;\n\n    const overflowYStyle = ele ? window.getComputedStyle(ele).overflowY : null;\n    const isOverflowHidden = overflowYStyle && overflowYStyle.indexOf(\"hidden\") !== -1;\n\n    return hasScrollableContent && !isOverflowHidden;\n};\n\nconst getScrollableParent = (ele: HTMLElement | null): HTMLElement | null => {\n    return (!ele || ele === document.body)\n        ? document.body\n        : (isScrollable(ele) ? ele : getScrollableParent(ele.parentNode as HTMLElement));\n};\n","import React from \"react\";\n\nimport {\n    FormControl,\n    IconButton,\n    InputAdornment,\n    InputLabel,\n    MenuItem,\n    Select as MuiSelect,\n    TextField as MuiTextField,\n    Theme,\n    Tooltip\n} from \"@mui/material\";\nimport OpenInNewIcon from \"@mui/icons-material/OpenInNew\";\n\nimport { ErrorMessage } from \"formik\";\n\nimport {\n    Entity,\n    EntitySchema,\n    EntityStatus,\n    FireCMSContext\n} from \"../../models\";\n\nimport {\n    useClipboard,\n    useFireCMSContext,\n    useSnackbarController\n} from \"../../hooks\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nconst formStyles = makeStyles((theme: Theme) => createStyles({\n    paper: {\n        elevation: 0,\n        padding: theme.spacing(2),\n        [theme.breakpoints.up(\"md\")]: {\n            padding: theme.spacing(2)\n        }\n    },\n    largePadding: {\n        padding: theme.spacing(2),\n        [theme.breakpoints.up(\"md\")]: {\n            padding: theme.spacing(3)\n        }\n    },\n    inputLabel: {\n        marginTop: theme.spacing(1 / 2),\n        marginLeft: theme.spacing(1 / 2)\n    },\n    shrinkInputLabel: {\n        marginTop: \"-2px\",\n        marginLeft: theme.spacing(1 / 2)\n    },\n    buttons: {\n        display: \"flex\",\n        justifyContent: \"flex-end\"\n    },\n    button: {\n        margin: theme.spacing(1)\n    },\n    form: {\n        marginTop: theme.spacing(2)\n    },\n    input: {\n        minHeight: \"64px\"\n    },\n    select: {\n        paddingTop: theme.spacing(1 / 2)\n    },\n    oneOfInput: {\n        marginBottom: theme.spacing(2)\n    }\n}))\n\nexport function CustomIdField<M, UserType>\n({ schema, status, onChange, error, entity }: {\n    schema: EntitySchema<M>,\n    status: EntityStatus,\n    onChange: Function,\n    error: boolean,\n    entity: Entity<M> | undefined\n}) {\n\n    const classes = formStyles();\n\n    const disabled = status === \"existing\" || !schema.customId;\n    const idSetAutomatically = status !== \"existing\" && !schema.customId;\n\n    const hasEnumValues = typeof schema.customId === \"object\";\n\n    const snackbarContext = useSnackbarController();\n    const { copy } = useClipboard({\n        onSuccess: (text) => snackbarContext.open({\n            type: \"success\",\n            message: `Copied ${text}`\n        })\n    });\n\n    const appConfig: FireCMSContext<UserType> | undefined = useFireCMSContext();\n    const inputProps = {\n        className: classes.input,\n        endAdornment: entity\n? (\n            <InputAdornment position=\"end\">\n\n                <IconButton onClick={(e) => copy(entity.id)}\n                            aria-label=\"copy-id\"\n                            size=\"large\">\n                    <Tooltip title={\"Copy\"}>\n                        <svg\n                            className={\"MuiSvgIcon-root MuiSvgIcon-fontSizeSmall\"}\n                            fill={\"currentColor\"}\n                            width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">\n                            <path\n                                d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"/>\n                        </svg>\n                    </Tooltip>\n                </IconButton>\n\n                {appConfig?.entityLinkBuilder &&\n                <a href={appConfig.entityLinkBuilder({ entity })}\n                   rel=\"noopener noreferrer\"\n                   target=\"_blank\">\n                    <IconButton onClick={(e) => e.stopPropagation()}\n                                aria-label=\"go-to-datasource\" size=\"large\">\n                        <Tooltip title={\"Open in the console\"}>\n                            <OpenInNewIcon fontSize={\"small\"}/>\n                        </Tooltip>\n                    </IconButton>\n                </a>}\n\n            </InputAdornment>\n        )\n: undefined\n    };\n\n    const fieldProps: any = {\n        label: idSetAutomatically ? \"ID is set automatically\" : \"ID\",\n        disabled: disabled,\n        name: \"id\",\n        type: null,\n        value: entity && status === \"existing\" ? entity.id : undefined,\n        variant: \"filled\"\n    };\n\n    return (\n        <FormControl fullWidth\n                     error={error}\n                     {...fieldProps}\n                     key={\"custom-id-field\"}>\n\n            {hasEnumValues && schema.customId &&\n            <>\n                <InputLabel id={\"id-label\"}>{fieldProps.label}</InputLabel>\n                <MuiSelect\n                    labelId={\"id-label\"}\n                    className={classes.select}\n                    error={error}\n                    {...fieldProps}\n                    onChange={(event: any) => onChange(event.target.value)}>\n                    {Object.entries(schema.customId).map(([key, label]) =>\n                        <MenuItem\n                            key={`custom-id-item-${key}`}\n                            value={key}>\n                            {`${key} - ${label}`}\n                        </MenuItem>)}\n                </MuiSelect>\n            </>}\n\n            {!hasEnumValues &&\n            <MuiTextField {...fieldProps}\n                          error={error}\n                          InputProps={inputProps}\n                          helperText={schema.customId === \"optional\" ? \"Leave this blank to autogenerate an ID\" : \"ID of the new document\"}\n                          onChange={(event) => {\n                              let value = event.target.value;\n                              if (value) value = value.trim();\n                              return onChange(value.length ? value : undefined);\n                          }}/>}\n\n            <ErrorMessage name={\"id\"}\n                          component=\"div\">\n                {(_) => \"You need to specify an ID\"}\n            </ErrorMessage>\n\n        </FormControl>\n    );\n}\n\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Box, Button, Container, Grid, Theme, Typography } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n    CMSFormFieldProps,\n    Entity,\n    EntitySchema,\n    EntitySchemaResolver,\n    EntityStatus,\n    EntityValues,\n    FormContext,\n    Properties,\n    Property,\n    ResolvedEntitySchema\n} from \"../models\";\nimport { Form, Formik, FormikHelpers } from \"formik\";\nimport { buildPropertyField } from \"./form_factory\";\nimport { CustomFieldValidator, getYupEntitySchema } from \"./validation\";\nimport isEqual from \"react-fast-compare\";\nimport { ErrorFocus } from \"./components/ErrorFocus\";\nimport {\n    computeSchema,\n    initWithProperties,\n    isHidden,\n    isReadOnly\n} from \"../core/utils\";\nimport { CustomIdField } from \"./components/CustomIdField\";\nimport { useDataSource } from \"../hooks\";\n\nexport const useStyles = makeStyles((theme: Theme) => createStyles({\n    stickyButtons: {\n        marginTop: theme.spacing(2),\n        background: theme.palette.mode === \"light\" ? \"rgba(255,255,255,0.6)\" : \"rgba(255, 255, 255, 0)\",\n        backdropFilter: \"blur(4px)\",\n        borderTop: theme.palette.divider,\n        position: \"sticky\",\n        bottom: 0,\n        zIndex: 200\n    },\n    container: {\n        padding: theme.spacing(4),\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        [theme.breakpoints.down(\"lg\")]: {\n            paddingLeft: theme.spacing(2),\n            paddingRight: theme.spacing(2),\n            paddingTop: theme.spacing(3),\n            paddingBottom: theme.spacing(3)\n        },\n        [theme.breakpoints.down(\"md\")]: {\n            padding: theme.spacing(2)\n        }\n    },\n    button: {\n        margin: theme.spacing(1)\n    },\n    form: {\n        marginTop: theme.spacing(2)\n    }\n}));\n\n/**\n *\n * @category Components\n */\nexport interface EntityFormProps<M> {\n\n    /**\n     * New or existing status\n     */\n    status: EntityStatus;\n\n    /**\n     * Path of the collection this entity is located\n     */\n    path: string;\n\n    /**\n     * Use to resolve the schema properties for specific path, entity id or values\n     */\n    schemaOrResolver: EntitySchema<M> & EntitySchemaResolver<M>;\n\n    /**\n     * The updated entity is passed from the parent component when the underlying data\n     * has changed in the datasource\n     */\n    entity?: Entity<M>;\n\n    /**\n     * The callback function called when Save is clicked and validation is correct\n     */\n    onEntitySave?(\n        props:\n            {\n                schema: EntitySchema<M>,\n                path: string,\n                entityId: string | undefined,\n                values: EntityValues<M>,\n                previousValues?: EntityValues<M>\n            }\n    ): Promise<void>;\n\n    /**\n     * The callback function called when discard is clicked\n     */\n    onDiscard?(): void;\n\n    /**\n     * The callback function when the form is dirty, so the values are different\n     * from the original ones\n     */\n    onModified?(dirty: boolean): void;\n\n    /**\n     * The callback function when the form original values have been modified\n     */\n    onValuesChanged?(values?: EntityValues<M>): void;\n\n}\n\n/**\n * This is the form used internally by the CMS\n * @param status\n * @param path\n * @param schemaOrResolver\n * @param entity\n * @param onEntitySave\n * @param onDiscard\n * @param onModified\n * @param onValuesChanged\n * @constructor\n * @category Components\n */\nexport function EntityForm<M>({\n                                  status,\n                                  path,\n                                  schemaOrResolver,\n                                  entity,\n                                  onEntitySave,\n                                  onDiscard,\n                                  onModified,\n                                  onValuesChanged\n                              }: EntityFormProps<M>) {\n\n    const classes = useStyles();\n    const dataSource = useDataSource();\n\n    /**\n     * Base values are the ones this view is initialized from, we use them to\n     * compare them with underlying changes in the datasource\n     */\n    const entityId = status === \"existing\" ? entity?.id : undefined;\n    const initialResolvedSchema: ResolvedEntitySchema<M> = useMemo(() => computeSchema({\n        schemaOrResolver,\n        path,\n        entityId\n    }), [path, entityId]);\n\n    const baseDataSourceValues: Partial<EntityValues<M>> = useMemo(() => {\n        const properties = initialResolvedSchema.properties;\n        if ((status === \"existing\" || status === \"copy\") && entity) {\n            return entity.values ?? initWithProperties(properties, initialResolvedSchema.defaultValues);\n        } else if (status === \"new\") {\n            return initWithProperties(properties, initialResolvedSchema.defaultValues);\n        } else {\n            console.error({ status, entity });\n            throw new Error(\"Form has not been initialised with the correct parameters\");\n        }\n    }, [status, initialResolvedSchema, entity]);\n\n    const formRef = React.useRef<HTMLDivElement>(null);\n\n    const [customId, setCustomId] = React.useState<string | undefined>(undefined);\n    const [customIdError, setCustomIdError] = React.useState<boolean>(false);\n    const [savingError, setSavingError] = React.useState<any>();\n\n    const initialValuesRef = React.useRef<EntityValues<M>>(entity?.values ?? baseDataSourceValues as EntityValues<M>);\n    const initialValues = initialValuesRef.current;\n\n    const [internalValue, setInternalValue] = useState<EntityValues<M> | undefined>(initialValues);\n\n    const schema: ResolvedEntitySchema<M> = useMemo(() => computeSchema({\n        schemaOrResolver,\n        path,\n        entityId,\n        values: internalValue,\n        previousValues: initialValues\n    }), [schemaOrResolver, path, entityId, internalValue]);\n\n    const mustSetCustomId: boolean = (status === \"new\" || status === \"copy\") && (!!schema.customId && schema.customId !== \"optional\");\n\n    const underlyingChanges: Partial<EntityValues<M>> = useMemo(() => {\n        if (initialValues && status === \"existing\") {\n            return Object.keys(schema.properties)\n                .map((key) => {\n                    const initialValue = (initialValues as any)[key];\n                    const latestValue = (baseDataSourceValues as any)[key];\n                    if (!isEqual(initialValue, latestValue)) {\n                        return { [key]: latestValue };\n                    }\n                    return {};\n                })\n                .reduce((a, b) => ({ ...a, ...b }), {}) as Partial<EntityValues<M>>;\n        } else {\n            return {};\n        }\n    }, [initialValues, baseDataSourceValues]);\n\n    const saveValues = useCallback((values: EntityValues<M>, formikActions: FormikHelpers<EntityValues<M>>) => {\n\n        if (mustSetCustomId && !customId) {\n            console.error(\"Missing custom Id\");\n            setCustomIdError(true);\n            formikActions.setSubmitting(false);\n            return;\n        }\n\n        setSavingError(null);\n        setCustomIdError(false);\n\n        let savedEntityId: string | undefined;\n        if (status === \"existing\") {\n            if (!entity?.id) throw Error(\"Form misconfiguration when saving, no id for existing entity\");\n            savedEntityId = entity.id;\n        } else if (status === \"new\" || status === \"copy\") {\n            if (schema.customId) {\n                if (schema.customId !== \"optional\" && !customId) {\n                    throw Error(\"Form misconfiguration when saving, customId should be set\");\n                }\n                savedEntityId = customId;\n            }\n        } else {\n            throw Error(\"New FormType added, check EntityForm\");\n        }\n\n        if (onEntitySave)\n            onEntitySave({\n                schema: schema as EntitySchema,\n                path,\n                entityId: savedEntityId,\n                values,\n                previousValues: entity?.values\n            })\n                .then(_ => {\n                    initialValuesRef.current = values;\n                    formikActions.setTouched({});\n                })\n                .catch(e => {\n                    console.error(e);\n                    setSavingError(e);\n                })\n                .finally(() => {\n                    formikActions.setSubmitting(false);\n                });\n\n    }, [status, path, schema, entity, onEntitySave, mustSetCustomId, customId]);\n\n\n    const uniqueFieldValidator: CustomFieldValidator = useCallback(({\n                                                                        name,\n                                                                        value,\n                                                                        property\n                                                                    }) => dataSource.checkUniqueField(path, name, value, property, entityId),\n        [dataSource, path, entityId]);\n\n    const validationSchema = useMemo(() => getYupEntitySchema(\n        schema.properties,\n        uniqueFieldValidator), [schema.properties]);\n\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            onSubmit={saveValues}\n            validationSchema={validationSchema}\n            validate={(values) => console.debug(\"Validating\", values)}\n            onReset={() => onDiscard && onDiscard()}\n        >\n            {({\n                  values,\n                  touched,\n                  setFieldValue,\n                  handleSubmit,\n                  isSubmitting,\n                  dirty\n              }) => {\n\n                return <FormInternal baseDataSourceValues={baseDataSourceValues}\n                                     values={values} onModified={onModified}\n                                     setInternalValue={setInternalValue}\n                                     onValuesChanged={onValuesChanged}\n                                     underlyingChanges={underlyingChanges}\n                                     entityId={entityId}\n                                     entity={entity}\n                                     touched={touched}\n                                     setFieldValue={setFieldValue}\n                                     schema={schema}\n                                     isSubmitting={isSubmitting}\n                                     classes={classes}\n                                     formRef={formRef}\n                                     status={status}\n                                     setCustomId={setCustomId}\n                                     customIdError={customIdError}\n                                     handleSubmit={handleSubmit}\n                                     savingError={savingError}/>;\n            }}\n        </Formik>\n    );\n}\n\nfunction FormInternal<M>({\n                             baseDataSourceValues,\n                             values,\n                             onModified,\n                             setInternalValue,\n                             onValuesChanged,\n                             underlyingChanges,\n                             entity,\n                             touched,\n                             setFieldValue,\n                             schema,\n                             entityId,\n                             isSubmitting,\n                             classes,\n                             formRef,\n                             status,\n                             setCustomId,\n                             customIdError,\n                             handleSubmit,\n                             savingError\n                         }: {\n    baseDataSourceValues: Partial<M>,\n    values: any,\n    onModified: ((modified: boolean) => void) | undefined,\n    setInternalValue: any,\n    onValuesChanged?: (changedValues?: EntityValues<M>) => void,\n    underlyingChanges: Partial<M>,\n    entity: Entity<M> | undefined,\n    touched: any,\n    setFieldValue: any,\n    schema: ResolvedEntitySchema<M>,\n    entityId: string | undefined,\n    isSubmitting: any,\n    classes: any,\n    formRef: any,\n    status: \"new\" | \"existing\" | \"copy\",\n    setCustomId: any,\n    customIdError: any,\n    handleSubmit: any,\n    savingError: any\n}) {\n    const modified = useMemo(() => !isEqual(baseDataSourceValues, values), [baseDataSourceValues, values]);\n    useEffect(() => {\n        if (onModified)\n            onModified(modified);\n        setInternalValue(values);\n        if (onValuesChanged)\n            onValuesChanged(values);\n    }, [modified, values]);\n\n    if (underlyingChanges && entity) {\n        // we update the form fields from the Firestore data\n        // if they were not touched\n        Object.entries(underlyingChanges).forEach(([key, value]) => {\n            const formValue = (values as any)[key];\n            if (!isEqual(value, formValue) && !(touched as any)[key]) {\n                console.debug(\"Updated value from the datasource:\", key, value);\n                setFieldValue(key, value !== undefined ? value : null);\n            }\n        });\n    }\n\n    const context: FormContext<M> = {\n        schema,\n        entityId,\n        values\n    };\n\n    const formFields = (\n        <Grid container spacing={4}>\n\n            {Object.entries<Property>(schema.properties as Properties)\n                .filter(([key, property]) => !isHidden(property))\n                .map(([key, property]) => {\n\n                    const underlyingValueHasChanged: boolean =\n                        !!underlyingChanges &&\n                        Object.keys(underlyingChanges).includes(key) &&\n                        !!(touched as any)[key];\n\n                    const shouldAlwaysRerender = typeof (schema.originalSchema.properties as any)[key] === \"function\";\n\n                    const disabled = isSubmitting || isReadOnly(property) || Boolean(property.disabled);\n                    const cmsFormFieldProps: CMSFormFieldProps = {\n                        name: key,\n                        disabled: disabled,\n                        property: property,\n                        includeDescription: true,\n                        underlyingValueHasChanged: underlyingValueHasChanged,\n                        context: context,\n                        tableMode: false,\n                        partOfArray: false,\n                        autoFocus: false,\n                        shouldAlwaysRerender: shouldAlwaysRerender\n                    };\n                    return (\n                        <Grid item\n                              xs={12}\n                              id={`form_field_${key}`}\n                              key={`field_${schema.name}_${key}`}>\n                            {buildPropertyField(cmsFormFieldProps)}\n                        </Grid>\n                    );\n                })}\n\n        </Grid>\n    );\n\n    return (\n        <Container maxWidth={\"sm\"}\n                   className={classes.container}\n                   ref={formRef}>\n\n            <CustomIdField schema={schema as EntitySchema}\n                           status={status}\n                           onChange={setCustomId}\n                           error={customIdError}\n                           entity={entity}/>\n\n            <Form className={classes.form}\n                  onSubmit={handleSubmit}\n                  noValidate>\n\n                <Box pt={3}>\n                    {formFields}\n                </Box>\n\n                <div className={classes.stickyButtons}>\n\n                    {savingError &&\n                        <Box textAlign=\"right\">\n                            <Typography color={\"error\"}>\n                                {savingError.message}\n                            </Typography>\n                        </Box>}\n\n                    {buildButtons(classes, isSubmitting, modified, status)}\n\n                </div>\n\n            </Form>\n\n\n            <ErrorFocus containerRef={formRef}/>\n\n        </Container>\n    );\n}\n\nfunction buildButtons(classes: any, isSubmitting: boolean, modified: boolean, status: EntityStatus) {\n    const disabled = isSubmitting || (!modified && status === \"existing\");\n    return (\n        <Box textAlign=\"right\">\n\n            {status === \"existing\" &&\n                <Button\n                    variant=\"text\"\n                    color=\"primary\"\n                    disabled={disabled}\n                    className={classes.button}\n                    type=\"reset\"\n                >\n                    Discard\n                </Button>}\n\n            <Button\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                disabled={disabled}\n                className={classes.button}\n            >\n                {status === \"existing\" && \"Save\"}\n                {status === \"copy\" && \"Create copy\"}\n                {status === \"new\" && \"Create\"}\n            </Button>\n\n        </Box>\n    );\n}\n\n\nexport default EntityForm;\n","import { RefObject, useCallback, useEffect, useRef } from \"react\";\n\ninterface Props {\n    onResize: (event: Event) => void;\n}\n\nexport const ElementResizeListener: React.FC<Props> = ({ onResize }) => {\n    const rafRef = useRef(0);\n    const objectRef: RefObject<HTMLObjectElement> = useRef(null);\n    const onResizeRef = useRef(onResize);\n\n    onResizeRef.current = onResize;\n\n    const _onResize = useCallback((e: Event) => {\n        if (rafRef.current) {\n            cancelAnimationFrame(rafRef.current);\n        }\n        rafRef.current = requestAnimationFrame(() => {\n            onResizeRef.current(e);\n        });\n    }, []);\n\n    const onLoad = useCallback(() => {\n        const obj = objectRef.current;\n        if (obj && obj.contentDocument && obj.contentDocument.defaultView) {\n            obj.contentDocument.defaultView.addEventListener(\"resize\", _onResize);\n        }\n    }, [_onResize]);\n\n    useEffect(() => {\n        const obj = objectRef.current;\n        return () => {\n            if (obj && obj.contentDocument && obj.contentDocument.defaultView) {\n                obj.contentDocument.defaultView.removeEventListener(\"resize\", _onResize);\n            }\n        };\n    }, [_onResize]);\n\n    return (\n        <object\n            onLoad={onLoad}\n            ref={objectRef} tabIndex={-1}\n            type={\"text/html\"}\n            data={\"about:blank\"}\n            title={\"\"}\n            style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                height: \"100%\",\n                width: \"100%\",\n                pointerEvents: \"none\",\n                zIndex: -1,\n                opacity: 0\n            }}\n        />\n    );\n};\n","import React, {\n    useCallback,\n    useEffect,\n    useLayoutEffect,\n    useMemo,\n    useState\n} from \"react\";\n\nimport { Button, IconButton, Theme, Typography } from \"@mui/material\";\nimport { Portal } from \"@mui/base\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\n\nimport isEqual from \"react-fast-compare\";\n\nimport {\n    Entity,\n    EntitySchemaResolver,\n    EntityValues,\n    FormContext,\n    Properties,\n    Property\n} from \"../../../../../models\";\nimport { Form, Formik, FormikProps } from \"formik\";\nimport { useDraggable } from \"./useDraggable\";\nimport {\n    CustomFieldValidator,\n    getYupEntitySchema\n} from \"../../../../../form/validation\";\nimport { useWindowSize } from \"./useWindowSize\";\nimport { computeSchema, isReadOnly } from \"../../../../utils\";\nimport { buildPropertyField } from \"../../../../../form\";\nimport clsx from \"clsx\";\nimport { ElementResizeListener } from \"./ElementResizeListener\";\nimport { OnCellValueChangeParams } from \"../../column_builder\";\nimport { ErrorView } from \"../../../ErrorView\";\n\nexport const useStyles = makeStyles((theme: Theme) => createStyles({\n    form: {\n        display: \"flex\",\n        flexDirection: \"column\"\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        alignSelf: \"flex-end\",\n        position: \"sticky\",\n        bottom: 0\n    },\n    popup: {\n        display: \"inline-block\",\n        userSelect: \"none\",\n        position: \"fixed\",\n        zIndex: 1300,\n        boxShadow: \"0 0 0 2px rgba(128,128,128,0.2)\",\n        borderRadius: \"4px\",\n        backgroundColor: theme.palette.background.paper\n        // transition: \"transform 250ms ease-out\",\n        // transform: \"scale(1.0)\"\n    },\n    popupInner: {\n        padding: theme.spacing(2),\n        overflow: \"auto\",\n        cursor: \"inherit\"\n    },\n    hidden: {\n        visibility: \"hidden\",\n        // transform: \"scale(0.7)\",\n        zIndex: -1\n    }\n}));\n\n\ninterface PopupFormFieldProps<M extends { [Key: string]: any }> {\n    entity?: Entity<M>;\n    customFieldValidator?: CustomFieldValidator;\n    path: string;\n    tableKey: string;\n    name?: keyof M;\n    schemaResolver?: EntitySchemaResolver<M>;\n    cellRect?: DOMRect;\n    open: boolean;\n    onClose: () => void;\n    columnIndex?: number;\n    setPreventOutsideClick: (value: any) => void;\n\n    /**\n     * Callback when the value of a cell has been edited\n     * @param params\n     */\n    onCellValueChange?: (params: OnCellValueChangeParams<any, M>) => Promise<void>;\n}\n\nexport function PopupFormField<M extends { [Key: string]: any }>({\n                                                                     tableKey,\n                                                                     entity,\n                                                                     customFieldValidator,\n                                                                     name,\n                                                                     schemaResolver,\n                                                                     path,\n                                                                     cellRect,\n                                                                     setPreventOutsideClick,\n                                                                     open,\n                                                                     onClose,\n                                                                     columnIndex,\n                                                                     onCellValueChange\n                                                                 }: PopupFormFieldProps<M>) {\n\n    const [savingError, setSavingError] = React.useState<any>();\n    const [popupLocation, setPopupLocation] = useState<{ x: number, y: number }>();\n    const [internalValue, setInternalValue] = useState<EntityValues<M> | undefined>(entity?.values);\n\n    const classes = useStyles();\n    const windowSize = useWindowSize();\n\n    const ref = React.useRef<HTMLDivElement>(null);\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const initialPositionSet = React.useRef<boolean>(false);\n\n    const draggableBoundingRect = ref.current?.getBoundingClientRect();\n\n    useDraggable({\n        containerRef,\n        ref,\n        x: popupLocation?.x,\n        y: popupLocation?.y,\n        onMove: (x, y) => onMove({ x, y })\n    });\n\n    useEffect(\n        () => {\n            initialPositionSet.current = false;\n        },\n        [name, entity]\n    );\n\n    const getInitialLocation = useCallback(() => {\n        if (!cellRect) throw Error(\"getInitialLocation error\");\n\n        return {\n            x: cellRect.left < windowSize.width - cellRect.right\n                ? cellRect.x + cellRect.width / 2\n                : cellRect.x - cellRect.width / 2,\n            y: cellRect.top < windowSize.height - cellRect.bottom\n                ? cellRect.y + cellRect.height / 2\n                : cellRect.y - cellRect.height / 2\n        };\n    }, [cellRect, windowSize.height, windowSize.width]);\n\n    const normalizePosition = useCallback(({\n                                               x,\n                                               y\n                                           }: { x: number, y: number }) => {\n        if (!draggableBoundingRect)\n            throw Error(\"normalizePosition called before draggableBoundingRect is set\");\n\n        return {\n            x: Math.max(0, Math.min(x, windowSize.width - draggableBoundingRect.width)),\n            y: Math.max(0, Math.min(y, windowSize.height - draggableBoundingRect.height))\n        };\n    }, [draggableBoundingRect, windowSize]);\n\n    const updatePopupLocation = useCallback((position?: { x: number, y: number }) => {\n        if (!cellRect || !draggableBoundingRect) return;\n        const newPosition = normalizePosition(position ?? getInitialLocation());\n        if (!popupLocation || newPosition.x !== popupLocation.x || newPosition.y !== popupLocation.y)\n            setPopupLocation(newPosition);\n    }, [cellRect, draggableBoundingRect, getInitialLocation, normalizePosition, popupLocation]);\n\n    useEffect(\n        () => {\n            if (!cellRect || !draggableBoundingRect || initialPositionSet.current) return;\n            initialPositionSet.current = true;\n            updatePopupLocation(getInitialLocation());\n        },\n        [cellRect, draggableBoundingRect, getInitialLocation, updatePopupLocation]\n    );\n\n    useLayoutEffect(\n        () => {\n            updatePopupLocation(popupLocation);\n        },\n        [windowSize, cellRect]\n    );\n\n    useEffect(\n        () => {\n            setPreventOutsideClick(open);\n        },\n        [open]\n    );\n\n    const validationSchema = useMemo(() => {\n        if (!schemaResolver) return;\n        const schema = computeSchema({\n            schemaOrResolver: schemaResolver,\n            path,\n            values: internalValue,\n            previousValues: entity?.values\n        });\n        return getYupEntitySchema(\n            name && schema.properties[name]\n                ? { [name]: schema.properties[name] } as Properties<any>\n                : {} as Properties<any>,\n            customFieldValidator);\n    }, [path, internalValue, name]);\n\n    const adaptResize = () => {\n        if (!draggableBoundingRect) return;\n        return updatePopupLocation(popupLocation);\n    };\n\n    const onMove = (position: { x: number, y: number }) => {\n        if (!draggableBoundingRect) return;\n        return updatePopupLocation(position);\n    };\n\n    const saveValue = async (values: M) => {\n        setSavingError(null);\n        if (entity && onCellValueChange && name) {\n            return onCellValueChange({\n                value: values[name as string],\n                name: name as string,\n                entity,\n                setError: setSavingError,\n                setSaved: () => {\n                }\n            });\n        }\n        return Promise.resolve();\n    };\n\n    if (!entity)\n        return <></>;\n\n    const form = entity && (\n        <div\n            key={`popup_form_${tableKey}_${entity.id}_${columnIndex}`}\n            style={{\n                width: 520,\n                maxWidth: \"100vw\",\n                maxHeight: \"85vh\"\n            }}>\n            <Formik\n                initialValues={entity.values}\n                validationSchema={validationSchema}\n                validate={(values) => console.debug(\"Validating\", values)}\n                onSubmit={(values, actions) => {\n                    saveValue(values)\n                        .then(() => onClose())\n                        .finally(() => actions.setSubmitting(false));\n                }}\n            >\n                {({\n                      handleChange,\n                      values,\n                      errors,\n                      touched,\n                      dirty,\n                      setFieldValue,\n                      setFieldTouched,\n                      handleSubmit,\n                      isSubmitting\n                  }: FormikProps<EntityValues<M>>) => {\n\n                    if (!isEqual(values, internalValue)) {\n                        setInternalValue(values);\n                    }\n\n                    if (!entity)\n                        return <ErrorView\n                            error={\"PopupFormField misconfiguration\"}/>;\n\n                    if (!schemaResolver)\n                        return <></>;\n\n                    const disabled = isSubmitting;\n\n                    const schema = computeSchema({\n                        schemaOrResolver: schemaResolver,\n                        path,\n                        values,\n                        previousValues: entity?.values\n                    });\n\n                    const context: FormContext<M> = {\n                        schema,\n                        entityId: entity.id,\n                        values\n                    };\n\n                    const property: Property<any> | undefined = schema.properties[name];\n\n                    return <Form\n                        className={classes.form}\n                        onSubmit={handleSubmit}\n                        noValidate>\n\n                        {name && property && buildPropertyField<any, M>({\n                            name: name as string,\n                            disabled: isSubmitting || isReadOnly(property) || !!property.disabled,\n                            property,\n                            includeDescription: false,\n                            underlyingValueHasChanged: false,\n                            context,\n                            tableMode: true,\n                            partOfArray: false,\n                            autoFocus: open,\n                            shouldAlwaysRerender: true\n                        })}\n\n                        <Button\n                            className={classes.button}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            type=\"submit\"\n                            disabled={disabled}\n                        >\n                            Save\n                        </Button>\n\n                    </Form>;\n                }}\n            </Formik>\n\n            {savingError &&\n            <Typography color={\"error\"}>\n                {savingError.message}\n            </Typography>\n            }\n\n        </div>\n    );\n\n    const draggable = (\n        <div\n            key={`draggable_${name}_${entity.id}`}\n            className={clsx(classes.popup,\n                { [classes.hidden]: !open }\n            )}\n            ref={containerRef}>\n\n            <ElementResizeListener onResize={adaptResize}/>\n\n            <div className={classes.popupInner}\n                 ref={ref}>\n\n                {form}\n\n                <IconButton\n                    size={\"small\"}\n                    style={{\n                        position: \"absolute\",\n                        top: -14,\n                        right: -14,\n                        backgroundColor: \"#666\"\n                    }}\n                    onClick={(event) => {\n                        event.stopPropagation();\n                        onClose();\n                    }}>\n                    <ClearIcon style={{ color: \"white\" }}\n                               fontSize={\"small\"}/>\n                </IconButton>\n            </div>\n\n        </div>\n    );\n\n    return (\n        <Portal container={document.body}>\n            {draggable}\n        </Portal>\n    );\n\n}\n\n\n","import { getCellAlignment, getPropertyColumnWidth } from \"./internal/common\";\nimport {\n    AdditionalColumnDelegate,\n    CollectionSize,\n    Entity,\n    EntitySchemaResolver,\n    EnumValues,\n    FireCMSContext,\n    Property,\n    ResolvedEntitySchema\n} from \"../../../models\";\nimport React, { useCallback, useEffect, useMemo } from \"react\";\nimport { TableCell } from \"../Table/TableCell\";\nimport { PreviewComponent, SkeletonComponent } from \"../../../preview\";\nimport { getPreviewSizeFrom } from \"../../../preview/util\";\nimport {\n    CustomFieldValidator,\n    mapPropertyToYup\n} from \"../../../form/validation\";\nimport {\n    OnCellChangeParams,\n    PropertyTableCell\n} from \"./internal/PropertyTableCell\";\nimport { ErrorBoundary } from \"../../internal/ErrorBoundary\";\nimport { useAuthController, useFireCMSContext } from \"../../../hooks\";\nimport { PopupFormField } from \"./internal/popup_field/PopupFormField\";\nimport { TableColumn, TableColumnFilter, TableEnumValues } from \"../../index\";\nimport { getIconForProperty } from \"../../util/property_icons\";\nimport {\n    buildEnumLabel,\n    enumToObjectEntries,\n    isEnumValueDisabled\n} from \"../../util/enums\";\nimport { computeSchema } from \"../../utils\";\n\n\nexport type ColumnsFromSchemaProps<M, AdditionalKey extends string, UserType> = {\n\n    /**\n     * Absolute collection path\n     */\n    path: string;\n\n    /**\n     * Use to resolve the schema properties for specific path, entity id or values\n     */\n    schemaResolver: EntitySchemaResolver<M>;\n\n    /**\n     * Properties displayed in this collection. If this property is not set\n     * every property is displayed, you can filter\n     */\n    displayedProperties: string[];\n\n    /**\n     * You can add additional columns to the collection view by implementing\n     * an additional column delegate.\n     * Usually defined by the end user.\n     */\n    additionalColumns?: AdditionalColumnDelegate<M, AdditionalKey, UserType>[];\n\n    /**\n     * Can the table be edited inline\n     */\n    inlineEditing: ((entity: Entity<any>) => boolean) | boolean;\n\n    /**\n     * Size of the elements in the collection\n     */\n    size: CollectionSize;\n\n    /**\n     * Use this callback to validate if an entity field should be unique\n     */\n    uniqueFieldValidator?: UniqueFieldValidator;\n\n    /**\n     * Callback when the value of a cell has been edited\n     * @param params\n     */\n    onCellValueChange?: OnCellValueChange<unknown, M>;\n\n};\n\n/**\n * @category Collection components\n */\nexport type UniqueFieldValidator = (props: { name: string, value: any, property: Property, entityId?: string }) => Promise<boolean>;\n\n/**\n * Callback when a cell has changed in a table\n * @category Collection components\n */\nexport type OnCellValueChange<T, M extends { [Key: string]: any }> = (params: OnCellValueChangeParams<T, M>) => Promise<void>;\n\n/**\n * Props passed in a callback when the content of a cell in a table has been edited\n * @category Collection components\n */\nexport interface OnCellValueChangeParams<T, M extends { [Key: string]: any }> {\n    value: T,\n    name: string,\n    entity: Entity<M>,\n    setSaved: (saved: boolean) => void\n    setError: (e: Error) => void\n}\n\n\nexport function checkInlineEditing<M>(inlineEditing: ((entity: Entity<any>) => boolean) | boolean, entity: Entity<M>) {\n    if (typeof inlineEditing === \"boolean\") {\n        return inlineEditing;\n    } else if (typeof inlineEditing === \"function\") {\n        return inlineEditing(entity);\n    } else {\n        return true;\n    }\n}\n\ntype SelectedCellProps<M> =\n    {\n        name: keyof M,\n        columnIndex: number,\n        cellRect: DOMRect;\n        width: number,\n        height: number,\n        schemaResolver: EntitySchemaResolver<M>,\n        entity: Entity<any>\n    };\n\n\nexport function useBuildColumnsFromSchema<M, AdditionalKey extends string, UserType>({\n                                                                                         schemaResolver,\n                                                                                         additionalColumns,\n                                                                                         displayedProperties,\n                                                                                         path,\n                                                                                         inlineEditing,\n                                                                                         size,\n                                                                                         onCellValueChange,\n                                                                                         uniqueFieldValidator\n                                                                                     }: ColumnsFromSchemaProps<M, AdditionalKey, UserType>\n): { columns: TableColumn<M>[], popupFormField: React.ReactElement } {\n\n    const context: FireCMSContext<UserType> = useFireCMSContext();\n\n    const [selectedCell, setSelectedCell] = React.useState<SelectedCellProps<M> | undefined>(undefined);\n    const [popupCell, setPopupCell] = React.useState<SelectedCellProps<M> | undefined>(undefined);\n    const [focused, setFocused] = React.useState<boolean>(false);\n\n    const [preventOutsideClick, setPreventOutsideClick] = React.useState<boolean>(false);\n\n    const tableKey = React.useRef<string>(Math.random().toString(36));\n\n    const additionalColumnsMap: Record<string, AdditionalColumnDelegate<M, string, UserType>> = useMemo(() => {\n        return additionalColumns\n            ? additionalColumns\n                .map((aC) => ({ [aC.id]: aC }))\n                .reduce((a, b) => ({ ...a, ...b }), [])\n            : {};\n    }, [additionalColumns]);\n\n    // on ESC key press\n    useEffect(() => {\n        const escFunction = (event: any) => {\n            if (event.keyCode === 27) {\n                unselect();\n            }\n        };\n        document.addEventListener(\"keydown\", escFunction, false);\n        return () => {\n            document.removeEventListener(\"keydown\", escFunction, false);\n        };\n    });\n\n    const select = useCallback((cell?: SelectedCellProps<M>) => {\n        setSelectedCell(cell);\n        setFocused(true);\n    }, []);\n\n    const unselect = useCallback(() => {\n        setSelectedCell(undefined);\n        setFocused(false);\n        setPreventOutsideClick(false);\n    }, []);\n\n    const onPopupClose = useCallback(() => {\n        setPopupCell(undefined);\n        setFocused(true);\n    }, []);\n\n    const buildFilterEnumValues = useCallback((values: EnumValues): TableEnumValues => enumToObjectEntries(values)\n        .filter(([enumKey, labelOrConfig]) => !isEnumValueDisabled(labelOrConfig))\n        .map(([enumKey, labelOrConfig]) => ({ [enumKey]: buildEnumLabel(labelOrConfig) as string }))\n        .reduce((a, b) => ({ ...a, ...b }), {}), []);\n\n    const buildFilterableFromProperty = useCallback((property: Property,\n                                                     isArray: boolean = false): TableColumnFilter | undefined => {\n\n        if (property.dataType === \"number\" || property.dataType === \"string\") {\n            const title = property.title;\n            const enumValues = property.config?.enumValues;\n            return {\n                dataType: property.dataType,\n                isArray,\n                title,\n                enumValues: enumValues ? buildFilterEnumValues(enumValues) : undefined\n            };\n        } else if (property.dataType === \"array\" && property.of) {\n            return buildFilterableFromProperty(property.of, true);\n        } else if (property.dataType === \"boolean\") {\n            const title = property.title;\n            return {\n                dataType: property.dataType,\n                isArray,\n                title\n            };\n        } else if (property.dataType === \"timestamp\") {\n            const title = property.title;\n            return {\n                dataType: property.dataType,\n                isArray,\n                title\n            };\n        }\n\n        return undefined;\n\n    }, [buildFilterEnumValues]);\n\n    const resolvedSchema: ResolvedEntitySchema<M> = useMemo(() => computeSchema({\n        schemaOrResolver: schemaResolver,\n        path\n    }), [schemaResolver, path]);\n\n\n    const auth = useAuthController()\n    const isGlobalAdmin = auth.extra.admin\n\n    const newProps: any = {}\n    Object.keys(resolvedSchema.properties).forEach(k => {\n        if (resolvedSchema.properties[k].onlyForGlobalAdmin) {\n            if (isGlobalAdmin) {\n                newProps[k] = resolvedSchema.properties[k]\n            }\n        } else {\n            newProps[k] = resolvedSchema.properties[k]\n        }\n    })\n\n    resolvedSchema.properties = newProps\n\n\n    const propertyCellRenderer = ({\n                                      column,\n                                      columnIndex,\n                                      rowData,\n                                      rowIndex\n                                  }: any) => {\n\n\n        const entity: Entity<M> = rowData;\n\n        const name = column.dataKey as keyof M;\n\n        const resolvedSchema = schemaResolver({\n            entityId: entity.id,\n            values: entity.values\n        });\n        const property = resolvedSchema.properties[name] as Property<any>;\n        if (!property)\n            return null;\n\n        const inlineEditingEnabled = checkInlineEditing(inlineEditing, entity);\n\n        if (!inlineEditingEnabled) {\n            return (\n                <TableCell\n                    key={`preview_cell_${name}_${rowIndex}_${columnIndex}`}\n                    size={size}\n                    value={entity.values[name]}\n                    align={column.align}\n                    disabled={true}>\n                    <PreviewComponent\n                        width={column.width}\n                        height={column.height}\n                        name={`preview_${name}_${rowIndex}_${columnIndex}`}\n                        property={property}\n                        value={entity.values[name]}\n                        size={getPreviewSizeFrom(size)}\n                    />\n                </TableCell>\n            );\n        } else {\n\n            const openPopup = (cellRect: DOMRect | undefined) => {\n                if (!cellRect) {\n                    setPopupCell(undefined);\n                } else {\n                    setPopupCell({\n                        columnIndex,\n                        width: column.width,\n                        height: column.height,\n                        entity,\n                        cellRect,\n                        name,\n                        schemaResolver\n                    });\n                }\n            };\n\n            const onSelect = (cellRect: DOMRect | undefined) => {\n                if (!cellRect) {\n                    select(undefined);\n                } else {\n                    select({\n                        columnIndex,\n                        // rowIndex,\n                        width: column.width,\n                        height: column.height,\n                        entity,\n                        cellRect,\n                        name,\n                        schemaResolver\n                    });\n                }\n            };\n\n            const selected = selectedCell?.columnIndex === columnIndex &&\n                selectedCell?.entity.id === entity.id;\n\n            const isFocused = selected && focused;\n\n            const customFieldValidator: CustomFieldValidator | undefined = uniqueFieldValidator\n                ? ({ name, value, property }) => uniqueFieldValidator({\n                    name, value, property, entityId: entity.id\n                })\n                : undefined;\n\n            const validation = mapPropertyToYup({\n                property,\n                customFieldValidator,\n                name: name\n            });\n\n            const onValueChange = onCellValueChange\n                ? (props: OnCellChangeParams<any>) => onCellValueChange({\n                    ...props,\n                    entity\n                })\n                : undefined;\n\n            return entity\n                ? <PropertyTableCell\n                    key={`table_cell_${name}_${rowIndex}_${columnIndex}`}\n                    size={size}\n                    align={column.align}\n                    name={name as string}\n                    validation={validation}\n                    onValueChange={onValueChange}\n                    selected={selected}\n                    focused={isFocused}\n                    setPreventOutsideClick={setPreventOutsideClick}\n                    setFocused={setFocused}\n                    value={entity?.values ? entity.values[name] : undefined}\n                    property={property}\n                    openPopup={openPopup}\n                    select={onSelect}\n                    width={column.width}\n                    height={column.height}\n                    entityId={entity.id}\n                    entityValues={entity.values}/>\n                : <SkeletonComponent property={property}\n                                     size={getPreviewSizeFrom(size)}/>;\n        }\n\n\n    };\n\n    const additionalCellRenderer = ({\n                                        column,\n                                        columnIndex,\n                                        rowData,\n                                        rowIndex\n                                    }: any) => {\n\n        const entity: Entity<M> = rowData;\n\n        const additionalColumn = additionalColumnsMap[column.dataKey as AdditionalKey];\n        const value = additionalColumn.dependencies\n            ? Object.entries(entity.values)\n                .filter(([key, value]) => additionalColumn.dependencies!.includes(key as any))\n                .reduce((a, b) => ({ ...a, ...b }), {})\n            : undefined;\n\n        return (\n            <TableCell\n                value={value}\n                focused={false}\n                selected={false}\n                disabled={true}\n                size={size}\n                align={\"left\"}\n                allowScroll={false}\n                showExpandIcon={false}\n                disabledTooltip={\"Additional columns can't be edited directly\"}\n            >\n                <ErrorBoundary>\n                    {additionalColumn.builder({\n                        entity,\n                        context\n                    })}\n                </ErrorBoundary>\n            </TableCell>\n        );\n\n    };\n\n    const allColumns: TableColumn<M>[] = (Object.keys(resolvedSchema.properties) as (keyof M)[])\n        .map((key) => {\n            const property: Property<any> | undefined = resolvedSchema.properties[key];\n\n            return ({\n                key: key as string,\n                property,\n                align: getCellAlignment(property),\n                icon: (hoverOrOpen) => getIconForProperty(property, hoverOrOpen ? undefined : \"disabled\", \"small\"),\n                label: property.title || key as string,\n                sortable: true,\n                filter: buildFilterableFromProperty(property),\n                width: getPropertyColumnWidth(property),\n                cellRenderer: propertyCellRenderer\n            });\n        });\n\n    if (additionalColumns) {\n        const items: TableColumn<M>[] = additionalColumns.map((additionalColumn) => {\n           const item: any = ({\n                key: additionalColumn.id,\n                type: \"additional\",\n                align: \"left\",\n                sortable: false,\n                label: additionalColumn.title,\n                width: additionalColumn.width ?? 200,\n                cellRenderer: additionalCellRenderer\n            })\n            if (additionalColumn.hideInTable) {\n                item.property = { hideInTable: true }\n            }\n            return item\n        });\n        allColumns.push(...items);\n    }\n\n    const columns = displayedProperties\n        .map((p) => {\n            return allColumns.find(c => c.key === p);\n        }).filter(c => !!c) as TableColumn<M>[];\n\n    const customFieldValidator: CustomFieldValidator | undefined = uniqueFieldValidator\n        ? ({ name, value, property }) => uniqueFieldValidator({\n            name,\n            value,\n            property,\n            entityId: selectedCell?.entity.id\n        })\n        : undefined;\n\n    const popupFormField = (\n        <PopupFormField\n            open={Boolean(popupCell)}\n            onClose={onPopupClose}\n            cellRect={popupCell?.cellRect}\n            columnIndex={popupCell?.columnIndex}\n            name={popupCell?.name}\n            schemaResolver={popupCell?.schemaResolver}\n            entity={popupCell?.entity}\n            tableKey={tableKey.current}\n            customFieldValidator={customFieldValidator}\n            path={path}\n            onCellValueChange={onCellValueChange}\n            setPreventOutsideClick={setPreventOutsideClick}\n        />\n    );\n\n    return { columns, popupFormField };\n\n}\n","import React, {useCallback, useEffect, useMemo, useState} from \"react\";\nimport { Button, ButtonGroup, Paper, Theme, useMediaQuery, useTheme } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport createStyles from \"@mui/styles/createStyles\";\n\nimport {\n    AdditionalColumnDelegate,\n    CollectionSize,\n    Entity,\n    FilterCombination,\n    FilterValues,\n    SaveEntityProps,\n    User,\n    WhereFilterOp\n} from \"../../../models\";\nimport { getSubcollectionColumnId, useColumnIds } from \"./internal/common\";\nimport { CollectionTableToolbar } from \"./internal/CollectionTableToolbar\";\nimport { CollectionRowActions } from \"./internal/CollectionRowActions\";\nimport { CollectionTableProps } from \"./CollectionTableProps\";\nimport {\n    saveEntityWithCallbacks,\n    useCollectionFetch,\n    useDataSource,\n    useFireCMSContext,\n    useSideEntityController\n} from \"../../../hooks\";\nimport { Table } from \"../../index\";\nimport {\n    OnCellValueChange,\n    UniqueFieldValidator,\n    useBuildColumnsFromSchema\n} from \"./column_builder\";\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\";\nimport ArrowBackIosNewIcon from \"@mui/icons-material/ArrowBackIosNew\";\n\nconst DEFAULT_PAGE_SIZE = 50;\n\nexport const useStyles = makeStyles<Theme>(theme => createStyles({\n    root: {\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}));\n\n\n/**\n * This component is in charge of rendering a collection table with a high\n * degree of customization. It is in charge of fetching data from\n * the {@link DataSource} and holding the state of filtering and sorting.\n *\n * This component is used internally by {@link EntityCollectionView} and\n * {@link ReferenceDialog}\n *\n * Please note that you only need to use this component if you are building\n * a custom view. If you just need to create a default view you can do it\n * exclusively with config options.\n *\n * If you want to bind a {@link EntityCollection} to a table with the default\n * options you see in collections in the top level navigation, you can\n * check {@link EntityCollectionView}\n *\n * If you need a table that is not bound to the datasource or entities and\n * properties at all, you can check {@link Table}\n *\n * @see CollectionTableProps\n * @see EntityCollectionView\n * @see Table\n * @category Components\n */\nexport const CollectionTable = React.memo<CollectionTableProps<any, any>>(CollectionTableInternal, areEqual) as React.FunctionComponent<CollectionTableProps<any, any>>;\n\nfunction areEqual(prevProps: CollectionTableProps<any, any>, nextProps: CollectionTableProps<any, any>) {\n    return prevProps.path === nextProps.path &&\n        prevProps.collection === nextProps.collection &&\n        prevProps.title === nextProps.title &&\n        prevProps.toolbarActionsBuilder === nextProps.toolbarActionsBuilder &&\n        prevProps.tableRowActionsBuilder === nextProps.tableRowActionsBuilder &&\n        prevProps.inlineEditing === nextProps.inlineEditing\n        ;\n}\n\n\nexport function CollectionTableInternal<M extends { [Key: string]: any },\n    AdditionalKey extends string = string,\n    UserType = User>\n({\n     path,\n     collection,\n     schemaResolver,\n     inlineEditing,\n     toolbarActionsBuilder,\n     title,\n     tableRowActionsBuilder,\n     entitiesDisplayedFirst,\n     onEntityClick,\n     onColumnResize,\n     onSizeChanged,\n     hoverRow = true\n }: CollectionTableProps<M, AdditionalKey>) {\n\n    const context = useFireCMSContext();\n    const dataSource = useDataSource();\n    const sideEntityController = useSideEntityController();\n\n    const theme = useTheme();\n    const largeLayout = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n    const [size, setSize] = React.useState<CollectionSize>(\"xs\");\n\n    const initialFilter = collection.initialFilter;\n    const initialSort = collection.initialSort;\n    const filterCombinations = collection.filterCombinations;\n    const textSearchEnabled = collection.textSearchEnabled;\n    const paginationEnabled = collection.pagination === undefined || Boolean(collection.pagination);\n    const pageSize = typeof collection.pagination === \"number\" ? collection.pagination : DEFAULT_PAGE_SIZE;\n\n    const [itemCount, setItemCount] = React.useState<number | undefined>(paginationEnabled ? pageSize : undefined);\n\n    const [filterValues, setFilterValues] = React.useState<FilterValues<M> | undefined>(initialFilter || {});\n    const [sortBy, setSortBy] = React.useState<[Extract<keyof M, string>, \"asc\" | \"desc\"] | undefined>(initialSort);\n\n    const filterIsSet = !!filterValues && Object.keys(filterValues).length > 0;\n\n    const classes = useStyles();\n    const additionalColumns = useMemo(() => {\n        const subcollectionColumns: AdditionalColumnDelegate<M, any, any>[] = collection.subcollections?.map((subcollection) => {\n            return {\n                id: getSubcollectionColumnId(subcollection),\n                title: subcollection.name,\n                width: 200,\n                dependencies: [],\n                hideInTable: subcollection.hideInTable ?? false,\n                builder: ({ entity }) => (\n                    <Button color={\"primary\"}\n                            onClick={(event) => {\n                                event.stopPropagation();\n                                sideEntityController.open({\n                                    path,\n                                    entityId: entity.id,\n                                    selectedSubpath: subcollection.path,\n                                    permissions: collection.permissions,\n                                    schema: schemaResolver,\n                                    subcollections: collection.subcollections,\n                                    callbacks: collection.callbacks,\n                                    overrideSchemaRegistry: false\n                                });\n                            }}>\n                        {(subcollection.buttonContent && subcollection.buttonContent({ entity })) ?? subcollection.name}\n                    </Button>\n                )\n            };\n        }) ?? [];\n        return [...(collection.additionalColumns ?? []), ...subcollectionColumns];\n    }, [collection, path]);\n\n    const resolvedSchema = useMemo(() => schemaResolver({}), []);\n    const displayedProperties = useColumnIds(collection, resolvedSchema, true);\n\n    const uniqueFieldValidator: UniqueFieldValidator = useCallback(\n        ({\n             name,\n             value,\n             property,\n             entityId\n         }) => dataSource.checkUniqueField(path, name, value, property, entityId),\n        [path, dataSource]);\n\n\n    const onCellChanged: OnCellValueChange<any, M> = useCallback(({\n                                                                      value,\n                                                                      name,\n                                                                      setSaved,\n                                                                      setError,\n                                                                      entity\n                                                                  }) => {\n        const saveProps: SaveEntityProps<M> = {\n            path,\n            entityId: entity.id,\n            values: {\n                ...entity.values,\n                [name]: value\n            },\n            previousValues: entity.values,\n            schema: schemaResolver,\n            status: \"existing\"\n        };\n\n        return saveEntityWithCallbacks({\n            ...saveProps,\n            callbacks: collection.callbacks,\n            dataSource,\n            context,\n            onSaveSuccess: () => setSaved(true),\n            onSaveFailure: (e: Error) => {\n                setError(e);\n            }\n        });\n\n    }, [path, collection, schemaResolver]);\n\n    let { columns, popupFormField } = useBuildColumnsFromSchema({\n        schemaResolver,\n        additionalColumns,\n        displayedProperties,\n        path,\n        inlineEditing,\n        size,\n        onCellValueChange: onCellChanged,\n        uniqueFieldValidator\n    });\n\n    columns = columns.filter(c => {\n        if (c.property) {\n            return !c.property.hideInTable\n        } else {\n            return true\n        }\n    })\n    const [searchString, setSearchString] = React.useState<string | undefined>();\n\n    const {\n        data,\n        dataLoading,\n        noMoreToLoad,\n        dataLoadingError\n    } = useCollectionFetch({\n        entitiesDisplayedFirst,\n        path,\n        schemaResolver,\n        filterValues,\n        sortBy,\n        searchString,\n        itemCount\n    });\n\n    const [page, setPage] = useState(1)\n    const dataToShow: Entity<any>[] = data.slice(page === 1 ? 0 : ((page - 1) * 10))\n    const actions = useMemo(() => toolbarActionsBuilder && toolbarActionsBuilder({\n        size,\n        data: dataToShow\n    }), [toolbarActionsBuilder, size, dataToShow]);\n\n    const loadNextPage = useCallback(() => {\n        if (!paginationEnabled || dataLoading || noMoreToLoad)\n            return;\n        if (itemCount !== undefined)\n            setItemCount(itemCount + pageSize);\n    }, [dataLoading, itemCount, noMoreToLoad, pageSize, paginationEnabled]);\n\n\n    const resetPagination = useCallback(() => {\n        setItemCount(pageSize);\n    }, [pageSize]);\n\n    const clearFilter = useCallback(() => setFilterValues({}), []);\n\n    const buildIdColumn = useCallback(({ entry, size }: {\n        entry: Entity<M>,\n        size: CollectionSize,\n    }) => {\n        if (tableRowActionsBuilder)\n            return tableRowActionsBuilder({ entity: entry, size });\n        else\n            return <CollectionRowActions entity={entry} size={size} data={dataToShow}/>;\n\n    }, [tableRowActionsBuilder]);\n\n    const onRowClick = useCallback(({ rowData }: { rowData: Entity<M> }) => {\n\n    }, [onEntityClick]);\n\n    const updateSize = useCallback((size: CollectionSize) => {\n        if (onSizeChanged)\n            onSizeChanged(size);\n        setSize(size);\n    }, []);\n    const handelPrev = () => {\n        if (page === 1) return\n        const nextPage = page - 1\n        setPage(nextPage)\n        setItemCount(nextPage * 10)\n    }\n    const handelNext = () => {\n        const nextPage = page + 1\n        setPage(nextPage)\n        setItemCount(nextPage * 10)\n\n    }\n    const onTextSearch = useCallback((newSearchString) => setSearchString(newSearchString), []);\n    const onSort = () => {\n        setPage(1)\n        setItemCount(10)\n    }\n    return (\n\n        <Paper className={classes.root}>\n\n            <CollectionTableToolbar filterIsSet={filterIsSet}\n                                    onTextSearch={textSearchEnabled ? onTextSearch : undefined}\n                                    clearFilter={clearFilter}\n                                    actions={actions}\n                                    size={size}\n                                    onSizeChanged={updateSize}\n                                    title={title}\n                                    loading={dataLoading}/>\n\n            <Table\n                data={dataLoading ? [] : dataToShow}\n                columns={columns}\n                onRowClick={onRowClick}\n                // onEndReached={loadNextPage}\n                onResetPagination={resetPagination}\n                idColumnBuilder={buildIdColumn}\n                error={dataLoadingError}\n                paginationEnabled={paginationEnabled}\n                onColumnResize={onColumnResize}\n                frozenIdColumn={largeLayout}\n                size={size}\n                loading={dataLoading}\n                filter={filterValues}\n                onFilterUpdate={setFilterValues}\n                sortBy={sortBy}\n                onSortByUpdate={setSortBy as any}\n                hoverRow={hoverRow}\n                checkFilterCombination={(filterValues, sortBy) => isFilterCombinationValid(filterValues, filterCombinations, sortBy)}\n                collection={collection}\n                onSort={onSort}\n            />\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <ButtonGroup disableElevation variant=\"contained\">\n                    <Button disabled={page === 1 || dataLoading} onClick={handelPrev}><ArrowBackIosNewIcon/></Button>\n                    <Button disabled={noMoreToLoad || dataLoading} onClick={handelNext}><ArrowForwardIosIcon/></Button>\n                </ButtonGroup>\n            </div>\n\n\n\n\n\n        </Paper>\n    );\n\n}\n\nfunction isFilterCombinationValid<M>(\n    filterValues: FilterValues<M>,\n    indexes?: FilterCombination<string>[],\n    sortBy?: [string, \"asc\" | \"desc\"]\n): boolean {\n\n    const sortKey = sortBy ? sortBy[0] : undefined;\n    const sortDirection = sortBy ? sortBy[1] : undefined;\n\n    // Order by clause cannot contain a field with an equality filter available\n    const values: [WhereFilterOp, any][] = Object.values(filterValues) as [WhereFilterOp, any][];\n    if (sortKey && values.map((v) => v[0]).includes(\"==\")) {\n        return false;\n    }\n\n    const filterKeys = Object.keys(filterValues);\n    const filtersCount = filterKeys.length;\n\n    if (filtersCount === 1 && (!sortKey || sortKey === filterKeys[0])) {\n        return true;\n    }\n\n    if (!indexes && filtersCount > 1) {\n        return false;\n    }\n\n    // only one filter set, different to the sort key\n    if (sortKey && filtersCount === 1 && filterKeys[0] !== sortKey) {\n        return false;\n    }\n\n    return !!indexes && indexes\n        .filter((compositeIndex) => !sortKey || sortKey in compositeIndex)\n        .find((compositeIndex) =>\n            Object.entries(filterValues).every(([key, value]) => compositeIndex[key] !== undefined && (!sortDirection || compositeIndex[key] === sortDirection))\n        ) !== undefined;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { CollectionSize, Entity, EntityCollectionResolver } from \"../../models\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    Divider,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { CollectionTable } from \"./CollectionTable\";\nimport { CollectionRowActions } from \"./CollectionTable/internal/CollectionRowActions\";\nimport { useDataSource } from \"../../hooks\";\n\n\nexport const useStyles = makeStyles(theme => createStyles({\n    dialogBody: {\n        flexGrow: 1,\n        overflow: \"auto\",\n        minWidth: \"85vw\"\n    },\n    paper: {\n        height: \"100%\"\n    }\n}));\n\n/**\n * @category Components\n */\nexport interface ReferenceDialogProps {\n\n    /**\n     * Is the dialog currently open\n     */\n    open: boolean;\n\n    /**\n     * Allow multiple selection of values\n     */\n    multiselect: boolean;\n\n    /**\n     * Entity collection config\n     */\n    collectionResolver: EntityCollectionResolver;\n\n    /**\n     * Absolute path of the collection\n     */\n    path: string;\n\n    /**\n     * If you are opening the dialog for the first time, you can select some\n     * entity ids to be displayed first.\n     */\n    selectedEntityIds?: string[];\n\n    /**\n     * If `multiselect` is set to `false`, you will get the select entity\n     * in this callback.\n     * @param entity\n     * @callback\n        */\n    onSingleEntitySelected?(entity: Entity<any> | null): void;\n\n    /**\n     * If `multiselect` is set to `true`, you will get the selected entities\n     * in this callback.\n     * @param entities\n     * @callback\n        */\n    onMultipleEntitiesSelected?(entities: Entity<any>[]): void;\n\n    /**\n     * Is the dialog currently open\n     * @callback\n        */\n    onClose(): void;\n\n}\n\n/**\n * This component renders an overlay dialog that allows to select entities\n * in a given collection\n * @category Components\n */\nexport function ReferenceDialog(\n    {\n        onSingleEntitySelected,\n        onMultipleEntitiesSelected,\n        onClose,\n        open,\n        multiselect,\n        collectionResolver,\n        path,\n        selectedEntityIds\n    }: ReferenceDialogProps) {\n\n    const classes = useStyles();\n    const dataSource = useDataSource();\n\n    const collection = collectionResolver;\n    const schema = collectionResolver.schema;\n    const schemaResolver = collectionResolver.schemaResolver;\n\n    const [selectedEntities, setSelectedEntities] = useState<Entity<any>[] | undefined>();\n\n    useEffect(() => {\n        let unmounted = false;\n        if (selectedEntityIds) {\n            Promise.all(\n                selectedEntityIds.map((entityId) => {\n                    return dataSource.fetchEntity({\n                        path,\n                        entityId,\n                        schema: schemaResolver\n                    });\n                }))\n                .then((entities) => {\n                    if (!unmounted)\n                        setSelectedEntities(entities);\n                });\n        } else {\n            setSelectedEntities([]);\n        }\n        return () => {\n            unmounted = true;\n        };\n    }, [dataSource, path, selectedEntityIds]);\n\n\n    const onEntityClick = (entity: Entity<any>) => {\n        if (!multiselect && onSingleEntitySelected) {\n            onSingleEntitySelected(entity);\n        } else {\n            toggleEntitySelection(entity);\n        }\n    };\n\n    const onClear = () => {\n        if (!multiselect && onSingleEntitySelected) {\n            onSingleEntitySelected(null);\n        } else if (onMultipleEntitiesSelected) {\n            onMultipleEntitiesSelected([]);\n        }\n    };\n\n\n    const toggleEntitySelection = (entity: Entity<any>) => {\n        let newValue;\n        if (selectedEntities) {\n            if (selectedEntities.map((e) => e.id).indexOf(entity.id) > -1) {\n                newValue = selectedEntities.filter((item: Entity<any>) => item.id !== entity.id);\n            } else {\n                newValue = [...selectedEntities, entity];\n            }\n            setSelectedEntities(newValue);\n\n            if (onMultipleEntitiesSelected)\n                onMultipleEntitiesSelected(newValue);\n        }\n    };\n\n    const tableRowActionsBuilder = ({\n                                        entity,\n                                        size\n                                    }: { entity: Entity<any>, size: CollectionSize }) => {\n\n        const isSelected = selectedEntityIds && selectedEntityIds.indexOf(entity.id) > -1;\n        return <CollectionRowActions\n            entity={entity}\n            size={size}\n            isSelected={isSelected}\n            selectionEnabled={multiselect}\n            toggleEntitySelection={toggleEntitySelection}\n        />;\n\n    };\n\n    const toolbarActionsBuilder = () => (\n        <Button onClick={onClear}\n                color=\"primary\">\n            Clear\n        </Button>\n    );\n\n    const title = (\n        <Typography variant={\"h6\"}>\n            {`Select ${schema.name}`}\n        </Typography>);\n\n    return (\n\n        <Dialog\n            onClose={onClose}\n            classes={{\n                paper: classes.paper\n            }}\n            maxWidth={\"xl\"}\n            scroll={\"paper\"}\n            open={open}>\n\n            <div className={classes.dialogBody}>\n\n                {selectedEntities &&\n                <CollectionTable path={path}\n                                 collection={collection}\n                                 schemaResolver={schemaResolver}\n                                 inlineEditing={false}\n                                 toolbarActionsBuilder={toolbarActionsBuilder}\n                                 onEntityClick={onEntityClick}\n                                 tableRowActionsBuilder={tableRowActionsBuilder}\n                                 title={title}\n                                 entitiesDisplayedFirst={selectedEntities}\n                />}\n            </div>\n\n            <Divider/>\n\n            <DialogActions>\n                <Button onClick={(event) => {\n                    event.stopPropagation();\n                    onClose();\n                }}\n                        color=\"primary\"\n                        variant=\"contained\">\n                    Close\n                </Button>\n            </DialogActions>\n\n        </Dialog>\n\n    );\n\n}\n","import {\n    Entity,\n    EntityCallbacks,\n    EntitySchema,\n    EntitySchemaResolver\n} from \"../../../../models\";\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport {\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle\n} from \"@mui/material\";\nimport { EntityPreview } from \"../../index\";\nimport {\n    deleteEntityWithCallbacks,\n    useDataSource,\n    useFireCMSContext,\n    useSnackbarController\n} from \"../../../../hooks\";\n\n\nexport interface DeleteEntityDialogProps<M extends { [Key: string]: any }> {\n    entityOrEntitiesToDelete?: Entity<M> | Entity<M>[],\n    path: string,\n    schema: EntitySchema<M>,\n    schemaResolver: EntitySchemaResolver<M>;\n    open: boolean;\n    onClose: () => void;\n    callbacks?: EntityCallbacks<M>,\n\n    onEntityDelete?(path: string, entity: Entity<M>): void;\n\n    onMultipleEntitiesDelete?(path: string, entities: Entity<M>[]): void;\n}\n\nexport function DeleteEntityDialog<M extends { [Key: string]: any }>({\n                                                                                   entityOrEntitiesToDelete,\n                                                                                   schemaResolver,\n                                                                                   onClose,\n                                                                                   open,\n                                                                                   callbacks,\n                                                                                   onEntityDelete,\n                                                                                   onMultipleEntitiesDelete,\n                                                                                   path,\n                                                                                   ...other\n                                                                               }\n                                                                         : DeleteEntityDialogProps<M>) {\n\n    const dataSource = useDataSource();\n    const snackbarContext = useSnackbarController();\n    const [loading, setLoading] = useState(false);\n\n    const [entityOrEntities, setUsedEntityOrEntities] = React.useState<Entity<M> | Entity<M>[]>();\n    const [multipleEntities, setMultipleEntities] = React.useState<boolean>();\n    const context = useFireCMSContext();\n\n    const schema = useMemo(() => schemaResolver({}), []);\n\n    React.useEffect(() => {\n        if (entityOrEntitiesToDelete) {\n            const revisedEntityOrEntities = Array.isArray(entityOrEntitiesToDelete) && entityOrEntitiesToDelete.length === 1\n                ? entityOrEntitiesToDelete[0]\n                : entityOrEntitiesToDelete;\n            setUsedEntityOrEntities(revisedEntityOrEntities);\n            setMultipleEntities(Array.isArray(revisedEntityOrEntities));\n        }\n    }, [entityOrEntitiesToDelete]);\n\n    const handleCancel = useCallback(() => {\n        onClose();\n    }, [onClose]);\n\n    const onDeleteSuccess = useCallback((entity: Entity<any>) => {\n        console.debug(\"Deleted\", entity);\n    }, []);\n\n    const onDeleteFailure = useCallback((entity: Entity<any>, e: Error) => {\n        snackbarContext.open({\n            type: \"error\",\n            title: `${schema.name}: Error deleting`,\n            message: e?.message\n        });\n\n        console.error(\"Error deleting entity\");\n        console.error(e);\n    }, [schema.name]);\n\n    const onPreDeleteHookError = useCallback((entity: Entity<any>, e: Error) => {\n        snackbarContext.open({\n            type: \"error\",\n            title: `${schema.name}: Error before deleting`,\n            message: e?.message\n        });\n        console.error(e);\n    }, [schema.name]);\n\n    const onDeleteSuccessHookError = useCallback((entity: Entity<any>, e: Error) => {\n        snackbarContext.open({\n            type: \"error\",\n            title: `${schema.name}: Error after deleting (entity is deleted)`,\n            message: e?.message\n        });\n        console.error(e);\n    }, [schema.name]);\n\n    const performDelete = useCallback((entity: Entity<M>): Promise<boolean> =>\n        deleteEntityWithCallbacks({\n            dataSource,\n            entity,\n            schema,\n            callbacks,\n            onDeleteSuccess,\n            onDeleteFailure,\n            onPreDeleteHookError,\n            onDeleteSuccessHookError,\n            context\n        }), [dataSource, schema, callbacks, onDeleteSuccess, onDeleteFailure, onPreDeleteHookError, onDeleteSuccessHookError, context]);\n\n    const handleOk = useCallback(async () => {\n        if (entityOrEntities) {\n\n            setLoading(true);\n\n            if (multipleEntities) {\n                Promise.all((entityOrEntities as Entity<M>[]).map(performDelete)).then((results) => {\n\n                    setLoading(false);\n\n                    if (onMultipleEntitiesDelete && entityOrEntities)\n                        onMultipleEntitiesDelete(path, entityOrEntities as Entity<M>[]);\n\n                    if (results.every(Boolean)) {\n                        snackbarContext.open({\n                            type: \"success\",\n                            message: `${schema.name}: multiple deleted`\n                        });\n                    } else if (results.some(Boolean)) {\n                        snackbarContext.open({\n                            type: \"warning\",\n                            message: `${schema.name}: Some of the entities have been deleted, but not all`\n                        });\n                    } else {\n                        snackbarContext.open({\n                            type: \"error\",\n                            message: `${schema.name}: Error deleting entities`\n                        });\n                    }\n                    onClose();\n                });\n\n            } else {\n                performDelete(entityOrEntities as Entity<M>).then((success) => {\n                    setLoading(false);\n                    if (success) {\n                        if (onEntityDelete && entityOrEntities)\n                            onEntityDelete(path, entityOrEntities as Entity<M>);\n                        snackbarContext.open({\n                            type: \"success\",\n                            message: `${schema.name} deleted`\n                        });\n                        onClose();\n                    }\n                });\n            }\n        }\n    }, [entityOrEntities, multipleEntities, performDelete, onMultipleEntitiesDelete, path, onClose, snackbarContext, schema.name, onEntityDelete]);\n\n\n    let content: JSX.Element;\n    if (entityOrEntities && multipleEntities) {\n        content = <div>Multiple entities</div>;\n    } else {\n        const entity = entityOrEntities as Entity<M> | undefined;\n        const resolvedSchema = schemaResolver({\n            entityId: entity?.id,\n            values: entity?.values\n        })\n        content = entity\n            ? <EntityPreview\n                entity={entity}\n                schema={resolvedSchema}\n                path={path}/>\n            : <></>;\n    }\n\n    const dialogTitle = multipleEntities\n        ? `${schema.name}: Confirm multiple delete?`\n        : `Would you like to delete this ${schema.name}?`;\n\n    return (\n        <Dialog\n            maxWidth=\"md\"\n            aria-labelledby=\"delete-dialog\"\n            open={open}\n            onBackdropClick={onClose}\n            {...other}\n        >\n            <DialogTitle id=\"delete-dialog-title\">\n                {dialogTitle}\n            </DialogTitle>\n\n            {!multipleEntities && <DialogContent dividers>\n                {content}\n            </DialogContent>}\n\n            <DialogActions>\n\n                {loading && <CircularProgress size={16} thickness={8}/>}\n\n                <Button onClick={handleCancel}\n                        disabled={loading}\n                        color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    autoFocus\n                    disabled={loading}\n                    onClick={handleOk}\n                    color=\"primary\">\n                    Ok\n                </Button>\n            </DialogActions>\n\n        </Dialog>\n    );\n}\n\n","import {\n    Entity,\n    EntityReference,\n    ExportConfig,\n    Properties,\n    Property,\n    ResolvedEntitySchema\n} from \"../../models\";\nimport { getValueInPath } from \"./objects\";\n\ninterface Header {\n    key: string;\n    label: string;\n}\n\nexport function downloadCSV<M>(data: Entity<M>[],\n                               additionalData: Record<string, any>[] | undefined,\n                               schema: ResolvedEntitySchema<M>,\n                               path: string,\n                               exportConfig: ExportConfig | undefined) {\n    const properties = schema.properties;\n    const headers = getExportHeaders(properties, path, exportConfig);\n    const exportableData = getExportableData(data, additionalData, properties, headers);\n    const headersData = entryToCSVRow(headers.map(h => h.label));\n    const csvData = exportableData.map(entry => entryToCSVRow(entry));\n    downloadBlob([headersData, ...csvData], `${schema.name}.csv`, \"text/csv\");\n}\n\nexport function getExportableData(data: any[],\n                                  additionalData: Record<string, any>[] | undefined,\n                                  properties: Properties,\n                                  headers: Header[]\n) {\n\n    const mergedData: any[] = data.map(e => ({ id: e.id, ...processCSVValues(e.values as any, properties) }));\n    if (additionalData) {\n        additionalData.forEach((additional, index) => {\n            mergedData[index] = { ...mergedData[index], ...additional };\n        });\n    }\n    return mergedData && mergedData.map((entry) => {\n        return headers.map((header) => getValueInPath(entry, header.key));\n    });\n}\n\n\nfunction getExportHeaders<M extends { [Key: string]: any }, UserType>(properties: Properties<M>,\n                                                                      path: string,\n                                                                      exportConfig?: ExportConfig<UserType>): Header[] {\n    const headers = [\n        { label: \"id\", key: \"id\" },\n        ...Object.entries(properties)\n            .map(([childKey, property]) => getHeaders(property, childKey, \"\"))\n            .flat()\n    ];\n\n    if (exportConfig?.additionalColumns) {\n        headers.push(...exportConfig.additionalColumns.map((column) => ({\n            label: column.key,\n            key: column.key\n        })));\n    }\n\n    return headers;\n}\n\n/**\n * Get headers for property. There could be more than one header per property\n * @param property\n * @param propertyKey\n * @param prefix\n */\nfunction getHeaders(property: Property, propertyKey: string, prefix: string = \"\"): Header[] {\n    const currentKey = prefix ? `${prefix}.${propertyKey}` : propertyKey;\n    if (property.dataType === \"map\" && property.properties) {\n        return Object.entries(property.properties)\n            .map(([childKey, p]) => getHeaders(p, childKey, currentKey))\n            .flat();\n    } else {\n        return [{ label: currentKey, key: currentKey }];\n    }\n}\n\nfunction processCSVValue(inputValue: any,\n                         property: Property): any {\n\n    let value;\n    if (property.dataType === \"map\" && property.properties) {\n        value = processCSVValues(inputValue, property.properties as Properties);\n    } else if (property.dataType === \"array\") {\n        if (property.of && Array.isArray(inputValue)) {\n            if (property.of.dataType === \"map\") {\n                value = inputValue.map((e) => JSON.stringify(e));\n            } else {\n                value = inputValue.map((e) => processCSVValue(e, property.of as Property));\n            }\n        } else {\n            value = inputValue;\n        }\n    } else if (property.dataType === \"reference\") {\n        const ref = inputValue ? inputValue as EntityReference : undefined;\n        value = ref ? ref.pathWithId : null;\n    } else if (property.dataType === \"timestamp\") {\n        value = inputValue ? inputValue.getTime() : null;\n    } else {\n        value = inputValue;\n    }\n\n    return value;\n}\n\nfunction processCSVValues<M extends { [Key: string]: any }>\n(inputValues: Record<keyof M, any>, properties: Properties<M>): Record<keyof M, any> {\n    const updatedValues = Object.entries(properties)\n        .map(([key, property]) => {\n            const inputValue = inputValues && (inputValues as any)[key];\n            const updatedValue = processCSVValue(inputValue, property as Property);\n            if (updatedValue === undefined) return {};\n            return ({ [key]: updatedValue });\n        })\n        .reduce((a, b) => ({ ...a, ...b }), {}) as Record<keyof M, any>;\n    return { ...inputValues, ...updatedValues };\n}\n\nfunction entryToCSVRow(entry: any[]) {\n    return entry\n        .map((v: string | undefined) => {\n            if (v === null || v === undefined) return \"\";\n            const s = String(v);\n            return '\"' + s.replaceAll('\"', '\"\"') + '\"';\n        })\n        .join(\",\") + \"\\r\\n\";\n}\n\nexport function downloadBlob(content: BlobPart[], filename: string, contentType: string) {\n    const blob = new Blob(content, { type: contentType });\n    const url = URL.createObjectURL(blob);\n    const pom = document.createElement(\"a\");\n    pom.href = url;\n    pom.setAttribute(\"download\", filename);\n    pom.click();\n}\n\n","import React, { useCallback, useEffect, useRef } from \"react\";\nimport {\n    Alert,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    IconButton,\n    Tooltip\n} from \"@mui/material\";\n\nimport Upload from \"@mui/icons-material/Upload\";\nimport {\n    Entity,\n    EntitySchema,\n    EntitySchemaResolver,\n    ExportConfig\n} from \"../../../../models\";\nimport { useDataSource, useFireCMSContext } from \"../../../../hooks\";\nimport { downloadCSV } from \"../../../util/csv\";\n\ninterface ExportButtonProps<M extends { [Key: string]: any }, UserType> {\n    schema: EntitySchema<M>;\n    schemaResolver: EntitySchemaResolver<M>;\n    path: string;\n    exportConfig?: ExportConfig<UserType>;\n}\n\nconst INITIAL_DOCUMENTS_LIMIT = 200;\n\nexport function ExportButton<M extends { [Key: string]: any }, UserType>({\n                                                                             schema,\n                                                                             schemaResolver,\n                                                                             path,\n                                                                             exportConfig\n                                                                         }: ExportButtonProps<M, UserType>\n) {\n\n    const dataSource = useDataSource();\n    const context = useFireCMSContext();\n\n    const dataRef = useRef<Entity<M>[]>();\n    const additionalDataRef = useRef<Record<string, any>[]>();\n\n    const [dataLoading, setDataLoading] = React.useState<boolean>(false);\n    const [dataLoadingError, setDataLoadingError] = React.useState<Error | undefined>();\n\n    // If in the initial load, we get more than INITIAL_DOCUMENTS_LIMIT results\n    const [hasLargeAmountOfData, setHasLargeAmountOfData] = React.useState<boolean>(false);\n\n    // did the user agree to export a large amount of data\n    const [fetchLargeDataAccepted, setFetchLargeDataAccepted] = React.useState<boolean>(false);\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = useCallback(() => {\n        setOpen(true);\n    }, [setOpen]);\n\n    const handleClose = useCallback(() => {\n        setOpen(false);\n    }, [setOpen]);\n\n    const doDownload = useCallback((data: Entity<M>[] | undefined,\n                                    additionalData: Record<string, any>[] | undefined,\n                                    schema: EntitySchema<M>,\n                                    schemaResolver: EntitySchemaResolver<M>,\n                                    path: string,\n                                    exportConfig: ExportConfig | undefined) => {\n        if (!data)\n            throw Error(\"Trying to perform export without loading data first\");\n\n        const resolvedSchema = schemaResolver({});\n        downloadCSV(data, additionalData, resolvedSchema, path, exportConfig);\n    }, []);\n\n    useEffect(() => {\n\n        if (!open) return;\n\n        setDataLoading(true);\n\n        const updateEntities = async (entities: Entity<M>[]) => {\n            if (entities.length >= INITIAL_DOCUMENTS_LIMIT) {\n                setHasLargeAmountOfData(true);\n            }\n\n            const pendingDownload = dataRef.current && entities.length > dataRef.current.length && fetchLargeDataAccepted;\n\n            dataRef.current = entities;\n            const additionalColumnsData = await fetchAdditionalColumns(entities);\n            additionalDataRef.current = additionalColumnsData;\n            setDataLoading(false);\n            setDataLoadingError(undefined);\n\n            if (pendingDownload) {\n                doDownload(entities, additionalColumnsData, schema, schemaResolver, path, exportConfig);\n                handleClose();\n            }\n        };\n\n        const fetchAdditionalColumns = async (entities: Entity<M>[]) => {\n\n            if (!exportConfig?.additionalColumns) {\n                return;\n            }\n\n            const additionalColumns = exportConfig.additionalColumns;\n\n            const resolvedColumnsValues: Record<string, any>[] = await Promise.all(entities.map(async (entity) => {\n                return (await Promise.all(additionalColumns.map(async (column) => {\n                    return {\n                        [column.key]: await column.builder({\n                            entity,\n                            context\n                        })\n                    };\n                }))).reduce((a, b) => ({ ...a, ...b }), {});\n            }));\n            return resolvedColumnsValues;\n        };\n\n        const onFetchError = (error: Error) => {\n            console.error(\"ERROR\", error);\n            setDataLoading(false);\n            setDataLoadingError(error);\n        };\n\n        dataSource.fetchCollection<M>({\n            path,\n            schema: schemaResolver,\n            limit: fetchLargeDataAccepted ? undefined : INITIAL_DOCUMENTS_LIMIT\n        })\n            .then(updateEntities)\n            .catch(onFetchError);\n\n    }, [path, fetchLargeDataAccepted, schema, open, dataSource, schemaResolver, doDownload, exportConfig, handleClose, context]);\n\n    const needsToAcceptFetchAllData = hasLargeAmountOfData && !fetchLargeDataAccepted;\n\n    const onOkClicked = useCallback(() => {\n        if (needsToAcceptFetchAllData) {\n            setFetchLargeDataAccepted(true);\n        } else {\n            doDownload(dataRef.current, additionalDataRef.current, schema, schemaResolver, path, exportConfig);\n            handleClose();\n        }\n    }, [needsToAcceptFetchAllData, doDownload, schema, schemaResolver, path, exportConfig, handleClose]);\n\n    return <>\n\n        <Tooltip title={\"Export\"}>\n            <IconButton color={\"primary\"} onClick={handleClickOpen}\n                        size=\"large\">\n                <Upload/>\n            </IconButton>\n        </Tooltip>\n\n        <Dialog\n            open={open}\n            onClose={handleClose}\n        >\n            <DialogTitle>Export data</DialogTitle>\n\n            <DialogContent>\n                <DialogContentText>\n\n                    <div>Download the the content of this table as a CSV\n                    </div>\n                    <br/>\n\n                    {needsToAcceptFetchAllData &&\n                    <Alert elevation={1}\n                              variant=\"filled\"\n                              severity={\"warning\"}>\n                        <div>\n                            This collections has a large number\n                            of documents (more than {INITIAL_DOCUMENTS_LIMIT}).\n                        </div>\n                        <div>\n                            Would you like to proceed?\n                        </div>\n\n                    </Alert>}\n\n                </DialogContentText>\n            </DialogContent>\n\n            <DialogActions>\n\n                {dataLoading && <CircularProgress size={16} thickness={8}/>}\n\n                <Button color=\"primary\" onClick={handleClose}>\n                    Cancel\n                </Button>\n\n                <Button color=\"primary\"\n                        disabled={dataLoading}\n                        onClick={onOkClicked}>\n                    Download\n                </Button>\n\n            </DialogActions>\n\n        </Dialog>\n\n    </>;\n}\n\n","import {\n    AuthController,\n    Entity,\n    FireCMSContext,\n    Permissions,\n    PermissionsBuilder\n} from \"../../models\";\n\nconst DEFAULT_PERMISSIONS = {\n    edit: true,\n    create: true,\n    delete: true\n};\n\nfunction checkHasPermissionOnEntity<M extends { [Key: string]: any }, UserType>\n(permission: PermissionsBuilder<M, UserType> | Permissions | undefined,\n entity: Entity<M> | null,\n authController: AuthController<UserType>,\n path: string,\n context: FireCMSContext<UserType>): Permissions {\n\n    if (permission === undefined) {\n        return DEFAULT_PERMISSIONS;\n    } else if (typeof permission === \"object\") {\n        return permission as Permissions;\n    } else if (typeof permission === \"function\") {\n        return permission({\n            user: authController.user,\n            authController,\n            entity,\n            path,\n            context\n        });\n    }\n\n    throw Error(\"New type of HasPermission added and not mapped\");\n}\n\nexport function canEdit<M extends { [Key: string]: any }, UserType>\n(permission: PermissionsBuilder<M, UserType> | Permissions | undefined,\n entity: Entity<M>,\n authController: AuthController<UserType>,\n path: string,\n context: FireCMSContext<UserType>): boolean {\n    return checkHasPermissionOnEntity(permission, entity, authController, path, context).edit ?? DEFAULT_PERMISSIONS.edit;\n}\n\nexport function canCreate<M extends { [Key: string]: any }, UserType>\n(permission: PermissionsBuilder<M, UserType> | Permissions | undefined,\n authController: AuthController<UserType>,\n path: string,\n context: FireCMSContext<UserType>): boolean {\n    return checkHasPermissionOnEntity(permission, null, authController, path, context).create ?? DEFAULT_PERMISSIONS.create;\n}\n\nexport function canDelete<M extends { [Key: string]: any }, UserType>\n(permission: PermissionsBuilder<M, UserType> | Permissions | undefined,\n entity: Entity<M>,\n authController: AuthController<UserType>,\n path: string,\n context: FireCMSContext<UserType>): boolean {\n    return checkHasPermissionOnEntity(permission, entity, authController, path, context).delete ?? DEFAULT_PERMISSIONS.delete;\n}\n\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport {\n    Box,\n    Button,\n    IconButton,\n    Popover,\n    Tooltip,\n    Typography,\n    useMediaQuery,\n    useTheme\n} from \"@mui/material\";\nimport { Add, Delete } from \"@mui/icons-material\";\n\nimport {\n    AnyProperty,\n    CollectionSize,\n    Entity,\n    EntityCollection,\n    PartialEntityCollection,\n    SelectionController\n} from \"../../models\";\nimport { CollectionTable, OnColumnResizeParams } from \"./CollectionTable\";\n\nimport { CollectionRowActions } from \"./CollectionTable/internal/CollectionRowActions\";\nimport { DeleteEntityDialog } from \"./CollectionTable/internal/DeleteEntityDialog\";\nimport { ExportButton } from \"./CollectionTable/internal/ExportButton\";\n\nimport { canCreate, canDelete, canEdit } from \"../util/permissions\";\nimport { Markdown } from \"../../preview\";\nimport {\n    useAuthController, useCollectionFetch,\n    useFireCMSContext,\n    useNavigation,\n    useSideEntityController\n} from \"../../hooks\";\n\n/**\n * @category Components\n */\nexport interface EntityCollectionViewProps<M extends { [Key: string]: any }> {\n\n    /**\n     * Absolute path this collection view points to\n     */\n    path: string;\n\n    /**\n     * Entity collection props\n     */\n    collection: EntityCollection<M>;\n\n}\n\n\nexport function useSelectionController<M = any>(collection?: any): SelectionController {\n\n    const [selectedEntities, setSelectedEntities] = useState<Entity<M>[]>([]);\n    let collectionData = useCollectionFetch({\n        path: collection.path,\n        schemaResolver: collection.schemaResolver\n    })\n\n    collectionData = useCollectionFetch({\n        path: collection.path,\n        schemaResolver: collection.schemaResolver\n    })\n\n    const toggleEntitySelection = useCallback((entity: Entity<M>) => {\n        let newValue;\n        if (selectedEntities.map(e => e.id).includes(entity.id)) {\n            newValue = selectedEntities.filter((item: Entity<M>) => item.id !== entity.id);\n        } else {\n            newValue = [...selectedEntities, entity];\n        }\n        setSelectedEntities(newValue);\n    }, [selectedEntities]);\n\n    const selectAll = useCallback((d: any) => {\n        if ((selectedEntities.length === collectionData.data.length) && selectedEntities.length !== 0) {\n            setSelectedEntities([]);\n        } else {\n            if (collectionData.data) {\n                const new1: any = collectionData.data\n                setSelectedEntities(new1);\n            }\n        }\n    }, [selectedEntities]);\n\n    const isEntitySelected = useCallback((entity: Entity<M>) => selectedEntities.map(e => e.id).includes(entity.id), [selectedEntities]);\n    const isAllEntitiesSelected = useCallback(() => (selectedEntities.length === collectionData.data.length) && selectedEntities.length !== 0, [selectedEntities, collectionData]);\n\n    return {\n        selectedEntities,\n        setSelectedEntities,\n        isEntitySelected,\n        isAllEntitiesSelected,\n        toggleEntitySelection,\n        selectAll\n    };\n}\n\n/**\n * This component is in charge of binding a datasource path with an {@link EntityCollection}\n * where it's configuration is defined. It includes an infinite scrolling table,\n * 'Add' new entities button,\n *\n * This component is the default one used for displaying entity collections\n * and is in charge of generating all the specific actions and customization\n * of the lower level {@link CollectionTable}\n *\n * Please **note** that you only need to use this component if you are building\n * a custom view. If you just need to create a default view you can do it\n * exclusively with config options.\n *\n * If you need a lower level implementation with more granular options, you\n * can use {@link CollectionTable}.\n *\n * If you need a table that is not bound to the datasource or entities and\n * properties at all, you can check {@link Table}\n *\n * @param path\n * @param collection\n * @constructor\n * @category Components\n */\nexport function EntityCollectionView<M extends { [Key: string]: any }>({\n                                                                           path,\n                                                                           collection: baseCollection\n                                                                       }: EntityCollectionViewProps<M>\n) {\n\n    const sideEntityController = useSideEntityController();\n    const context = useFireCMSContext();\n    const authController = useAuthController();\n    const navigationContext = useNavigation();\n\n    const theme = useTheme();\n    const largeLayout = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n    const [deleteEntityClicked, setDeleteEntityClicked] = React.useState<Entity<M> | Entity<M>[] | undefined>(undefined);\n    const collectionResolver = navigationContext.getCollectionResolver<M>(path);\n    if (!collectionResolver) {\n        throw Error(`Couldn't find the corresponding collection view for the path: ${path}`);\n    }\n\n    const onCollectionModifiedForUser = useCallback((partialCollection: PartialEntityCollection<any>) => {\n        navigationContext.onCollectionModifiedForUser(path, partialCollection);\n    }, [path]);\n\n    const collection: EntityCollection<M> = collectionResolver ?? baseCollection;\n\n    const { schemaResolver } = collectionResolver;\n\n    const exportable = collection.exportable === undefined || collection.exportable;\n\n    const selectionEnabled = collection.selectionEnabled === undefined || collection.selectionEnabled;\n    const hoverRow = collection.inlineEditing !== undefined && !collection.inlineEditing;\n\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n    const selectionController = useSelectionController<M>(collection);\n    const usedSelectionController = collection.selectionController ?? selectionController;\n    const {\n        selectedEntities,\n        toggleEntitySelection,\n        selectAll,\n        isAllEntitiesSelected,\n        isEntitySelected,\n        setSelectedEntities,\n        collectionData\n    } = usedSelectionController;\n\n    useEffect(() => {\n        setDeleteEntityClicked(undefined);\n    }, [selectedEntities]);\n\n    const onEntityClick = useCallback((entity: Entity<M>) => {\n        return sideEntityController.open({\n            entityId: entity.id,\n            path,\n            permissions: collection.permissions,\n            schema: collection.schema,\n            subcollections: collection.subcollections,\n            callbacks: collection.callbacks,\n            overrideSchemaRegistry: false\n        });\n    }, [path, collection, sideEntityController]);\n\n    const onNewClick = useCallback((e: React.MouseEvent) => {\n        e.stopPropagation();\n        return sideEntityController.open({\n            path,\n            permissions: collection.permissions,\n            schema: collection.schema,\n            subcollections: collection.subcollections,\n            callbacks: collection.callbacks,\n            overrideSchemaRegistry: false\n        });\n    }, [path, collection, sideEntityController]);\n\n    const internalOnEntityDelete = useCallback((_path: string, entity: Entity<M>) => {\n        setSelectedEntities(selectedEntities.filter((e) => e.id !== entity.id));\n    }, [selectedEntities, setSelectedEntities]);\n\n    const internalOnMultipleEntitiesDelete = useCallback((_path: string, entities: Entity<M>[]) => {\n        setSelectedEntities([]);\n        setDeleteEntityClicked(undefined);\n    }, [setSelectedEntities]);\n\n    const checkInlineEditing = useCallback((entity: Entity<any>) => {\n        if (!canEdit(collection.permissions, entity, authController, path, context)) {\n            return false;\n        }\n        return collection.inlineEditing === undefined || collection.inlineEditing;\n    }, [collection.inlineEditing, collection.permissions, path]);\n\n    const onColumnResize = useCallback(({\n                                            width,\n                                            key\n                                        }: OnColumnResizeParams) => {\n        // Only for property columns\n        if (!collection.schema.properties[key]) return;\n        const property: Partial<AnyProperty> = { columnWidth: width };\n        const updatedFields: PartialEntityCollection<any> = { schema: { properties: { [key as keyof M]: property } } };\n        if (onCollectionModifiedForUser)\n            onCollectionModifiedForUser(updatedFields)\n    }, [collection.schema.properties, onCollectionModifiedForUser]);\n\n    const onSizeChanged = useCallback((size: CollectionSize) => {\n        if (onCollectionModifiedForUser)\n            onCollectionModifiedForUser({ defaultSize: \"xs\" })\n    }, [onCollectionModifiedForUser]);\n\n    const open = anchorEl != null;\n    const title = useMemo(() => (\n        <div style={{\n            padding: \"4px\"\n        }}>\n\n            <Typography\n                variant=\"h6\"\n                style={{\n                    lineHeight: \"1.0\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\",\n                    maxWidth: \"fit-content\",\n                    cursor: collection.description ? \"pointer\" : \"inherit\"\n                }}\n                onClick={collection.description\n                    ? (e) => {\n                        setAnchorEl(e.currentTarget);\n                        e.stopPropagation();\n                    }\n                    : undefined}\n            >\n                {`${collection.name}`}\n            </Typography>\n            <Typography\n                style={{\n                    display: \"block\",\n                    textOverflow: \"ellipsis\",\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\",\n                    maxWidth: \"160px\",\n                    direction: \"rtl\",\n                    textAlign: \"left\"\n                }}\n                variant={\"caption\"}\n                color={\"textSecondary\"}>\n                {`/${path}`}\n            </Typography>\n\n            {collection.description &&\n                <Popover\n                    id={\"info-dialog\"}\n                    open={open}\n                    anchorEl={anchorEl}\n                    elevation={1}\n                    onClose={() => {\n                        setAnchorEl(null);\n                    }}\n                    anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\"\n                    }}\n                    transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\"\n                    }}\n                >\n\n                    <Box m={2}>\n                        <Markdown source={collection.description}/>\n                    </Box>\n\n                </Popover>\n            }\n\n        </div>\n    ), [collection.description, collection.name, path, open, anchorEl]);\n\n    const tableRowActionsBuilder = useCallback(({\n                                                    entity,\n                                                    size\n                                                }: { entity: Entity<any>, size: CollectionSize }) => {\n\n        const isSelected = isEntitySelected(entity);\n        const isAllSelected: any = isAllEntitiesSelected();\n\n\n        const createEnabled = canCreate(collection.permissions, authController, path, context);\n        const editEnabled = canEdit(collection.permissions, entity, authController, path, context);\n        const deleteEnabled = canDelete(collection.permissions, entity, authController, path, context);\n\n        const onCopyClicked = (clickedEntity: Entity<M>) => sideEntityController.open({\n            entityId: clickedEntity.id,\n            path,\n            copy: true,\n            permissions: {\n                edit: editEnabled,\n                create: createEnabled,\n                delete: deleteEnabled\n            },\n            schema: collection.schema,\n            subcollections: collection.subcollections,\n            callbacks: collection.callbacks,\n            overrideSchemaRegistry: false\n        });\n\n        const onEditClicked = (clickedEntity: Entity<M>) => sideEntityController.open({\n            entityId: clickedEntity.id,\n            path,\n            permissions: {\n                edit: editEnabled,\n                create: createEnabled,\n                delete: deleteEnabled\n            },\n            schema: collection.schema,\n            subcollections: collection.subcollections,\n            callbacks: collection.callbacks,\n            overrideSchemaRegistry: false\n        });\n\n        return (\n            <CollectionRowActions\n                entity={entity}\n                isSelected={isSelected}\n                isAllSelected={isAllSelected}\n                selectionEnabled={selectionEnabled}\n                size={size}\n                toggleEntitySelection={toggleEntitySelection}\n                selectAll={selectAll}\n                onEditClicked={onEditClicked}\n                onCopyClicked={createEnabled ? onCopyClicked : undefined}\n                onDeleteClicked={deleteEnabled ? setDeleteEntityClicked : undefined}\n            />\n        );\n\n    }, [usedSelectionController, sideEntityController, collection.permissions, authController, path]);\n\n    const toolbarActionsBuilder = useCallback((_: { size: CollectionSize, data: Entity<any>[] }) => {\n\n        const addButton = canCreate(collection.permissions, authController, path, context) && onNewClick && (largeLayout\n            ? <Button\n                onClick={onNewClick}\n                startIcon={<Add/>}\n                size=\"large\"\n                variant=\"contained\"\n                color=\"primary\">\n                Add {collection.schema.name}\n            </Button>\n            : <Button\n                onClick={onNewClick}\n                size=\"medium\"\n                variant=\"contained\"\n                color=\"primary\"\n            >\n                <Add/>\n            </Button>);\n\n        const multipleDeleteEnabled = selectedEntities.every((entity) => canDelete(collection.permissions, entity, authController, path, context));\n        const onMultipleDeleteClick = (event: React.MouseEvent) => {\n            event.stopPropagation();\n            setDeleteEntityClicked(selectedEntities);\n        };\n\n\n        const extraActions = collection.extraActions\n            ? collection.extraActions({\n                path,\n                collection,\n                selectionController: usedSelectionController,\n                context\n            })\n            : undefined;\n\n        const exportButton = exportable &&\n            <ExportButton schema={collection.schema}\n                          schemaResolver={schemaResolver}\n                          exportConfig={typeof collection.exportable === \"object\" ? collection.exportable : undefined}\n                          path={path}/>;\n\n        return (\n            <>\n                {extraActions}\n                {exportButton}\n                {collection.disableCreate ? <></> : addButton}\n            </>\n        );\n    }, [usedSelectionController, path, collection, largeLayout]);\n\n    return (\n        <>\n\n            <CollectionTable\n                key={`collection_table_${path}`}\n                title={title}\n                path={path}\n                collection={collection}\n                schemaResolver={schemaResolver}\n                onSizeChanged={onSizeChanged}\n                inlineEditing={checkInlineEditing}\n                onEntityClick={onEntityClick}\n                onColumnResize={onColumnResize}\n                tableRowActionsBuilder={tableRowActionsBuilder}\n                toolbarActionsBuilder={toolbarActionsBuilder}\n                hoverRow={hoverRow}\n            />\n\n            {deleteEntityClicked && <DeleteEntityDialog entityOrEntitiesToDelete={deleteEntityClicked}\n                                                        path={path}\n                                                        schema={collection.schema}\n                                                        schemaResolver={schemaResolver}\n                                                        callbacks={collection.callbacks}\n                                                        open={!!deleteEntityClicked}\n                                                        onEntityDelete={internalOnEntityDelete}\n                                                        onMultipleEntitiesDelete={internalOnMultipleEntitiesDelete}\n                                                        onClose={() => setDeleteEntityClicked(undefined)}/>}\n        </>\n    );\n}\n\nexport default EntityCollectionView;\n\n","import { Box, CircularProgress, CircularProgressProps } from \"@mui/material\";\nimport React from \"react\";\n\n/**\n *\n * @param props\n * @constructor\n * @ignore\n */\nexport function CircularProgressCenter(props: CircularProgressProps) {\n    return (\n        <Box\n            display=\"flex\"\n            width={\"100%\"}\n            maxHeight={\"100%\"}\n            height={\"100vh\"}>\n            <Box m=\"auto\">\n                <CircularProgress {...props}/>\n            </Box>\n        </Box>\n    );\n}\n","import React from \"react\";\nimport {\n    Box,\n    CardActionArea,\n    CardActions,\n    CardContent,\n    Container,\n    Divider,\n    Grid,\n    Paper,\n    Theme,\n    Typography\n} from \"@mui/material\";\n\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\nimport PlaylistPlayIcon from \"@mui/icons-material/PlaylistPlay\";\nimport { Link as ReactLink } from \"react-router-dom\";\n\nimport {\n    computeTopNavigation,\n    TopNavigationEntry\n} from \"../util/navigation_utils\";\nimport { Markdown } from \"../../preview\";\nimport { useNavigation } from \"../../hooks\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        card: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"flex-start\",\n            minHeight: 150,\n            maxHeight: 150\n        },\n        flexGrow: {\n            flexGrow: 1\n        }\n    })\n);\n\n/**\n * Default entry view for the CMS under the path \"/\"\n * This components takes navigation as an input and renders cards\n * for each entry, including title and description.\n * @constructor\n * @category Components\n */\nexport function FireCMSHomePage() {\n\n    const classes = useStyles();\n    const navigationContext = useNavigation();\n    if (!navigationContext.navigation)\n        return <></>;\n\n    const {\n        navigationEntries,\n        groups\n    } = computeTopNavigation(navigationContext, false);\n\n    const allGroups: Array<string | null> = [...groups];\n    if (navigationEntries.filter(e => !e.group).length > 0) {\n        allGroups.push(null);\n    }\n\n    function buildNavigationCard(entry: TopNavigationEntry) {\n        return (\n            <Grid item xs={12}\n                  sm={6}\n                  md={4}\n                  key={`nav_${entry.group}_${entry.name}`}>\n                <Paper className={\"home_card\"} variant={\"outlined\"}>\n\n                    <CardActionArea\n                        className={classes.card}\n                        component={ReactLink}\n                        to={entry.url}>\n                        <CardContent\n                            className={classes.flexGrow}>\n\n                            <PlaylistPlayIcon color={\"disabled\"}/>\n                            <Typography gutterBottom variant=\"h5\"\n                                        component=\"h2\">\n                                {entry.name}\n                            </Typography>\n\n                            {entry.description && <Typography variant=\"body2\"\n                                                              color=\"textSecondary\"\n                                                              component=\"div\">\n                                <Markdown source={entry.description}/>\n                            </Typography>}\n                        </CardContent>\n\n                        <CardActions style={{ alignSelf: \"flex-end\" }}>\n                            <Box p={1}>\n                                <ArrowForwardIcon color=\"primary\"/>\n                            </Box>\n                        </CardActions>\n\n                    </CardActionArea>\n                </Paper>\n            </Grid>\n        );\n    }\n\n    return (\n        <Container>\n            {allGroups.map((group, index) => (\n                <Box mt={6} mb={6} key={`group_${index}`}>\n                    {allGroups.length > 0 && <>\n                        <Typography color={\"textSecondary\"}\n                                    className={\"weight-500\"}>\n                            {group?.toUpperCase() ?? \"Collections\".toUpperCase()}\n                        </Typography>\n                        <Divider/>\n                    </>}\n\n                    <Box mt={2}>\n                        <Grid container spacing={2}>\n                            {group && navigationEntries\n                                .filter((entry) => entry.group === group)\n                                .map((entry) => buildNavigationCard(entry))\n                            }\n                            {!group && navigationEntries\n                                .filter((entry) => !entry.group)\n                                .map((entry) => buildNavigationCard(entry))\n                            }\n                        </Grid>\n                    </Box>\n                </Box>\n            ))}\n        </Container>\n    );\n}\n\n","import React from \"react\";\nimport { alpha, Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { TableSize } from \"./TableProps\";\nimport { css } from \"@emotion/react\";\n\nexport const baseTableCss = css`\n  & .BaseTable {\n    box-shadow: 0 2px 4px 0 rgba(128, 128, 128, 0.2);\n    contain: strict;\n    position: relative;\n    box-sizing: border-box;\n    font-size: 13px;\n  }\n\n  & .BaseTable--disabled {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n\n  & .BaseTable--dynamic .BaseTable__row {\n    overflow: hidden;\n    align-items: stretch;\n  }\n\n  & .BaseTable:not(.BaseTable--dynamic) .BaseTable__row-cell-text,\n  & .BaseTable .BaseTable__row--frozen .BaseTable__row-cell-text {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & .BaseTable__table {\n    position: absolute;\n    top: 0;\n    display: flex;\n    flex-direction: column-reverse;\n  }\n\n  & .BaseTable__table-main {\n    outline: 1px solid rgba(128, 128, 128, 0.1);\n    left: 0;\n  }\n\n  & .BaseTable__table-main .BaseTable__header-cell:first-of-type, .BaseTable__table-main .BaseTable__row-cell:first-of-type {\n    padding: 0;\n  }\n\n  & .BaseTable__table-frozen-left .BaseTable__body {\n    backdrop-filter: blur(4px);\n  }\n\n  & .BaseTable__table-frozen-left .BaseTable__header,\n  & .BaseTable__table-frozen-left .BaseTable__body, .BaseTable__table-frozen-right .BaseTable__header,\n  & .BaseTable__table-frozen-right .BaseTable__body {\n    overflow: hidden !important;\n  }\n\n  & .BaseTable__table-frozen-left {\n    box-shadow: 2px 0 4px 0 rgba(128, 128, 128, 0.1);\n    top: 0;\n    left: 0;\n  }\n\n  & .BaseTable__table-frozen-left .BaseTable__header-cell:first-of-type, .BaseTable__table-frozen-left .BaseTable__row-cell:first-of-type {\n    padding: 0;\n  }\n\n  & .BaseTable__table-frozen-left .BaseTable__header-row,\n  & .BaseTable__table-frozen-left .BaseTable__row {\n    padding-right: 0 !important;\n  }\n\n  & .BaseTable__table-frozen-left .BaseTable__body {\n    overflow-y: auto !important;\n  }\n\n  & .BaseTable__table-frozen-right {\n    box-shadow: -2px 0 4px 0 rgba(128, 128, 128, 0.3);\n    top: 0;\n    right: 0;\n  }\n\n  & .BaseTable__table-frozen-right .BaseTable__header-cell:last-child, .BaseTable__table-frozen-right .BaseTable__row-cell:last-child {\n    padding-right: 15px;\n  }\n\n  & .BaseTable__table-frozen-right .BaseTable__header-row,\n  & .BaseTable__table-frozen-right .BaseTable__row {\n    padding-left: 0 !important;\n  }\n\n  & .BaseTable__table-frozen-right .BaseTable__body {\n    overflow-y: auto !important;\n  }\n\n  & .BaseTable__header {\n    overflow: hidden !important;\n  }\n\n  & .BaseTable .BaseTable__header,\n  & .BaseTable .BaseTable__body {\n    outline: none;\n  }\n\n  & .BaseTable__header-row, .BaseTable__row {\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid rgba(128, 128, 128, 0.1);\n    box-sizing: border-box;\n  }\n\n  & .BaseTable__header-row {\n    /*background-color: #f8f8f8;*/\n    font-weight: 700;\n  }\n\n  & .BaseTable__row {\n    /*background-color: #ffffff;*/\n  }\n\n  & .BaseTable__row:hover, .BaseTable__row--hovered {\n    /*background-color: rgba(128, 128, 128, 0.02);*/\n  }\n\n  & .BaseTable__row-expanded {\n    /*border-bottom: 1px solid #eeeeee;*/\n  }\n\n  & .BaseTable__header-cell, .BaseTable__row-cell {\n    min-width: 0;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    padding: 0 7.5px;\n    box-sizing: border-box;\n  }\n\n  & .BaseTable__header-cell--align-center, .BaseTable__row-cell--align-center {\n    justify-content: center;\n    text-align: center;\n  }\n\n  & .BaseTable__header-cell--align-right, .BaseTable__row-cell--align-right {\n    justify-content: flex-end;\n    text-align: right;\n  }\n\n  & .BaseTable__header-cell {\n    position: relative;\n    cursor: default;\n  }\n\n  & .BaseTable__header-cell:hover .BaseTable__column-resizer {\n    visibility: visible;\n    opacity: 0.5;\n  }\n\n  & .BaseTable__header-cell:hover .BaseTable__column-resizer:hover {\n    opacity: 1;\n  }\n\n  & .BaseTable__header-cell .BaseTable__sort-indicator {\n    display: none;\n  }\n\n  & .BaseTable__header-cell--sortable:hover {\n    background-color: #f3f3f3;\n    cursor: pointer;\n  }\n\n  & .BaseTable__header-cell--sortable:not(.BaseTable__header-cell--sorting):hover .BaseTable__sort-indicator {\n    display: block;\n    color: #888888;\n  }\n\n  & .BaseTable__header-cell--sorting .BaseTable__sort-indicator, .BaseTable__header-cell--sorting:hover .BaseTable__sort-indicator {\n    display: block;\n  }\n\n  & .BaseTable__header-cell--resizing .BaseTable__column-resizer {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  & .BaseTable__header-cell--resizing .BaseTable__column-resizer::after {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    content: '';\n    left: -9999px;\n  }\n\n  & .BaseTable__header-cell-text {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n  }\n\n  & .BaseTable__header-row--resizing .BaseTable__header-cell {\n    background-color: transparent;\n    cursor: col-resize;\n  }\n\n  & .BaseTable__header-row--resizing .BaseTable__header-cell:not(.BaseTable__header-cell--sorting) .BaseTable__sort-indicator {\n    display: none;\n  }\n\n  & .BaseTable__header-row--resizing .BaseTable__header-cell:not(.BaseTable__header-cell--resizing) .BaseTable__column-resizer {\n    visibility: hidden;\n  }\n\n  & .BaseTable__column-resizer {\n    width: 3px;\n    visibility: hidden;\n    background-color: #cccccc;\n  }\n\n  & .BaseTable__column-resizer:hover {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  & .BaseTable__footer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    background-color: #ffffff;\n  }\n\n  & .BaseTable__resizing-line {\n    cursor: col-resize;\n    position: absolute;\n    top: 0;\n    background-color: #cccccc;\n    width: 3px;\n    transform: translateX(-100%);\n  }\n\n  & .BaseTable__empty-layer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n  }\n\n  & .BaseTable__overlay {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    pointer-events: none;\n  }\n\n  & .BaseTable__overlay > * {\n    pointer-events: auto;\n  }\n`;\n\n\n\nexport interface CellStyleProps {\n    size: TableSize;\n    align: \"right\" | \"left\" | \"center\";\n}\n\n\n","import {\n    Box,\n    FormControl,\n    IconButton,\n    MenuItem,\n    OutlinedInput,\n    Select as MuiSelect\n} from \"@mui/material\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport React, { useState } from \"react\";\nimport Tooltip from \"@mui/material/Tooltip/Tooltip\";\nimport { EnumValuesChip } from \"../../../../preview/components/CustomChip\";\nimport { TableEnumValues, TableWhereFilterOp } from \"../TableProps\";\n\ninterface StringNumberFilterFieldProps {\n    name: string,\n    dataType: \"string\" | \"number\";\n    value?: [op: TableWhereFilterOp, fieldValue: any];\n    setValue: (value?: [op: TableWhereFilterOp, newValue: any]) => void;\n    isArray?: boolean;\n    enumValues?: TableEnumValues;\n    title?: string;\n}\n\nconst operationLabels = {\n    \"==\": \"==\",\n    \"!=\": \"!=\",\n    \">\": \">\",\n    \"<\": \"<\",\n    \">=\": \">=\",\n    \"<=\": \"<=\",\n    in: \"in\",\n    \"array-contains\": \"Contains\",\n    \"array-contains-any\": \"Any\"\n};\n\nconst multipleSelectOperations = [\"array-contains-any\", \"in\"];\n\nexport function StringNumberFilterField({\n                                            name,\n                                            value,\n                                            setValue,\n                                            dataType,\n                                            isArray,\n                                            enumValues,\n                                            title\n                                        }: StringNumberFilterFieldProps) {\n\n    const possibleOperations: (keyof typeof operationLabels) [] = isArray\n        ? [\"array-contains\"]\n        : [\"==\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\n\n    if (enumValues)\n        isArray\n            ? possibleOperations.push(\"array-contains-any\")\n            : possibleOperations.push(\"in\");\n\n    const [fieldOperation, fieldValue] = value || [possibleOperations[0], undefined];\n    const [operation, setOperation] = useState<TableWhereFilterOp>(fieldOperation);\n    const [internalValue, setInternalValue] = useState<string | number | string[] | number[] | undefined>(fieldValue);\n\n    function updateFilter(op: TableWhereFilterOp, val: string | number | string[] | number[] | undefined) {\n        let newValue = val;\n        const prevOpIsArray = multipleSelectOperations.includes(operation);\n        const newOpIsArray = multipleSelectOperations.includes(op);\n        if (prevOpIsArray !== newOpIsArray) {\n            // @ts-ignore\n            newValue = newOpIsArray ? (typeof val === \"string\" || typeof val === \"number\" ? [val] : []) : \"\";\n        }\n\n        if (typeof newValue === \"number\" && isNaN(newValue))\n            newValue = undefined;\n\n        setOperation(op);\n        setInternalValue(newValue);\n\n        const hasNewValue = newValue !== null && Array.isArray(newValue)\n            ? newValue.length > 0\n            : newValue !== undefined;\n        if (op && hasNewValue) {\n            setValue(\n                [op, newValue]\n            );\n        } else {\n            setValue(\n                undefined\n            );\n        }\n    }\n\n    const multiple = multipleSelectOperations.includes(operation);\n    return (\n\n        <Box display={\"flex\"} width={340} alignItems={\"center\"}>\n            <Box width={80}>\n                <FormControl fullWidth>\n                    <MuiSelect value={operation}\n                               fullWidth\n                               onChange={(evt: any) => {\n                                   updateFilter(evt.target.value, internalValue);\n                               }}>\n                        {possibleOperations.map((op) =>\n                            <MenuItem\n                                key={`filter_op_${name}_${op}`}\n                                value={op}>{operationLabels[op]}</MenuItem>\n                        )}\n\n                    </MuiSelect>\n                </FormControl>\n            </Box>\n\n            <Box flexGrow={1} ml={1}>\n\n                <FormControl fullWidth>\n                    {!enumValues && <OutlinedInput\n                        fullWidth\n                        key={`filter_${name}`}\n                        type={dataType === \"number\" ? \"number\" : undefined}\n                        value={internalValue !== undefined ? internalValue : \"\"}\n                        onChange={(evt) => {\n                            const val = dataType === \"number\"\n                                ? parseFloat(evt.target.value)\n                                : evt.target.value;\n                            updateFilter(operation, val);\n                        }}\n                    />}\n\n                    {enumValues &&\n                    <MuiSelect\n                        fullWidth\n                        key={`filter-select-${multiple}-${name}`}\n                        multiple={multiple}\n                        value={internalValue !== undefined ? internalValue : isArray ? [] : \"\"}\n                        onChange={(evt: any) => updateFilter(operation, dataType === \"number\" ? parseInt(evt.target.value) : evt.target.value)}\n                        renderValue={multiple\n? (selected: any) =>\n                            (\n                                <div>\n                                    {selected.map((enumKey: any) => {\n                                        return <EnumValuesChip\n                                            key={`select_value_${name}_${enumKey}`}\n                                            enumKey={enumKey}\n                                            enumValues={enumValues}\n                                            small={true}/>;\n                                    })}\n                                </div>\n                            )\n: undefined}>\n                        {Object.entries(enumValues).map(([enumKey, labelOrConfig]) => {\n                            return (\n                                <MenuItem\n                                    key={`select_${name}_${enumKey}`}\n                                    value={enumKey}>\n                                    <EnumValuesChip\n                                        enumKey={enumKey}\n                                        enumValues={enumValues}\n                                        small={true}/>\n                                </MenuItem>\n                            );\n                        })}\n                    </MuiSelect>}\n                </FormControl>\n            </Box>\n\n            {internalValue !== undefined && <Box ml={1}>\n                <IconButton\n                    onClick={(e) => updateFilter(operation, undefined)}\n                    size={\"small\"}>\n                    <Tooltip title={`Clear ${title}`}>\n                        <ClearIcon fontSize={\"small\"}/>\n                    </Tooltip>\n                </IconButton>\n            </Box>}\n\n        </Box>\n    );\n\n}\n","import React from \"react\";\nimport { Checkbox, FormControlLabel, Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { TableWhereFilterOp } from \"../TableProps\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            width: \"200px\"\n        },\n        label: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    })\n);\n\ninterface BooleanFieldProps {\n    name: string,\n    value?: [op: TableWhereFilterOp, fieldValue: any];\n    setValue: (value?: [op: TableWhereFilterOp, newValue: any]) => void;\n    title?: string;\n}\n\nexport function BooleanFilterField({\n                                       name,\n                                       title,\n                                       value,\n                                       setValue\n                                   }: BooleanFieldProps) {\n    const classes = useStyles();\n\n    function updateFilter(val?: boolean) {\n        if (val !== undefined) {\n            setValue(\n                [\"==\", val]\n            );\n        } else {\n            setValue(\n                undefined\n            );\n        }\n    }\n\n    const valueSetToTrue = value && value[1];\n    const valueSet = !!value;\n\n    return (\n        <FormControlLabel\n            className={classes.formControl}\n            labelPlacement={\"end\"}\n            checked={valueSet && valueSetToTrue}\n            control={\n                <Checkbox\n                    key={`filter-${name}`}\n                    indeterminate={!valueSet}\n                    onChange={(evt) => {\n                        if (valueSetToTrue) { updateFilter(false); } else if (!valueSet) { updateFilter(true); } else { updateFilter(undefined); }\n                    }}\n                />\n            }\n            label={!valueSet ? \"No filter\" : (valueSetToTrue ? `${title} is true` : `${title} is false`)}\n        />\n    );\n}\n","import React, { useState } from \"react\";\nimport {\n    Box,\n    FormControl,\n    IconButton,\n    Input,\n    MenuItem,\n    Select as MuiSelect\n} from \"@mui/material\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport Tooltip from \"@mui/material/Tooltip/Tooltip\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\nimport CalendarTodayIcon from \"@mui/icons-material/CalendarToday\";\nimport { TableWhereFilterOp } from \"../TableProps\";\n\ninterface DateTimeFilterFieldProps {\n    name: string,\n    value?: [op: TableWhereFilterOp, fieldValue: any];\n    setValue: (value?: [op: TableWhereFilterOp, newValue: any]) => void;\n    isArray?: boolean;\n    title?: string;\n}\n\n\nconst operationLabels = {\n    \"==\": \"==\",\n    \"!=\": \"!=\",\n    \">\": \">\",\n    \"<\": \"<\",\n    \">=\": \">=\",\n    \"<=\": \"<=\",\n    in: \"in\",\n    \"array-contains\": \"Contains\",\n    \"array-contains-any\": \"Any\"\n};\n\nconst multipleSelectOperations = [\"array-contains-any\", \"in\"];\n\n\nexport function DateTimeFilterField({\n                                        name,\n                                        isArray,\n                                        value,\n                                        setValue,\n                                        title\n                                    }: DateTimeFilterFieldProps) {\n\n    const possibleOperations: (keyof typeof operationLabels) [] = isArray\n        ? [\"array-contains\"]\n        : [\"==\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\n\n    const [fieldOperation, fieldValue] = value || [possibleOperations[0], undefined];\n    const [operation, setOperation] = useState<TableWhereFilterOp>(fieldOperation);\n    const [internalValue, setInternalValue] = useState<Date | undefined>(fieldValue);\n\n    function updateFilter(op: TableWhereFilterOp, val: Date | undefined) {\n        let newValue: Date | undefined = val;\n        const prevOpIsArray = multipleSelectOperations.includes(operation);\n        const newOpIsArray = multipleSelectOperations.includes(op);\n        if (prevOpIsArray !== newOpIsArray) {\n            // @ts-ignore\n            newValue = newOpIsArray ? (val ? [val] : []) : \"\";\n        }\n\n        setOperation(op);\n        setInternalValue(newValue === null ? undefined : newValue);\n\n        const hasNewValue = newValue !== null && Array.isArray(newValue)\n            ? newValue.length > 0\n            : newValue !== undefined;\n        if (op && hasNewValue) {\n            setValue(\n                [op, newValue]\n            );\n        } else {\n            setValue(\n                undefined\n            );\n        }\n    }\n\n    return (\n\n        <Box display={\"flex\"} width={340} alignItems={\"center\"}>\n            <Box width={80}>\n                <FormControl fullWidth>\n                    <MuiSelect value={operation}\n                               fullWidth\n                               onChange={(evt: any) => {\n                                   updateFilter(evt.target.value, internalValue);\n                               }}>\n                        {possibleOperations.map((op) =>\n                            <MenuItem\n                                key={`filter_op_${name}_${op}`}\n                                value={op}>{operationLabels[op]}</MenuItem>\n                        )}\n\n                    </MuiSelect>\n                </FormControl>\n            </Box>\n\n            <Box flexGrow={1} ml={1}>\n\n                <DateTimePicker\n                    clearable\n                    InputProps={{\n                        // disableUnderline: true,\n                    }}\n                    renderInput={(props) => (\n                        <Input\n                            startAdornment={\n                                <CalendarTodayIcon fontSize={\"small\"}/>\n                            }\n                        />\n                    )}\n                    value={internalValue ?? null}\n                    onChange={(dateValue: Date | null) => {\n                        updateFilter(operation, dateValue === null ? undefined : dateValue);\n                    }}\n                />\n\n            </Box>\n\n            {internalValue !== undefined && <Box ml={1}>\n                <IconButton\n                    onClick={(e) => updateFilter(operation, undefined)}\n                    size={\"small\"}>\n                    <Tooltip title={`Clear ${title}`}>\n                        <ClearIcon fontSize={\"small\"}/>\n                    </Tooltip>\n                </IconButton>\n            </Box>}\n\n        </Box>\n    );\n\n}\n","import React, { useCallback, useRef, useState } from \"react\";\n\nimport clsx from \"clsx\";\nimport {\n    alpha,\n    Badge,\n    Box,\n    Button,\n    darken,\n    Divider,\n    Grid,\n    IconButton,\n    Popover,\n    Theme\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport ArrowUpwardIcon from \"@mui/icons-material/ArrowUpward\";\nimport ArrowDownwardIcon from \"@mui/icons-material/ArrowDownward\";\nimport ArrowDropDownCircleIcon from \"@mui/icons-material/ArrowDropDownCircle\";\n\nimport {\n    TableColumn,\n    TableColumnFilter,\n    TableSort,\n    TableWhereFilterOp\n} from \"./TableProps\";\nimport { StringNumberFilterField } from \"./filters/StringNumberFilterField\";\nimport { BooleanFilterField } from \"./filters/BooleanFilterField\";\nimport { DateTimeFilterField } from \"./filters/DateTimeFilterfield\";\nimport { ErrorBoundary } from \"../../internal/ErrorBoundary\";\n\nexport const useStyles = makeStyles<Theme, { onHover?: boolean, align?: \"right\" | \"left\" | \"center\" }>(theme => createStyles({\n    header: ({ onHover }) => ({\n        width: \"calc(100% + 24px)\",\n        margin: \"0px -12px\",\n        padding: \"0px 12px\",\n        color: onHover ? theme.palette.text.primary : theme.palette.text.secondary,\n        backgroundColor: onHover ? darken(theme.palette.background.default, 0.05) : theme.palette.background.default,\n        transition: \"color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        height: \"100%\",\n        fontSize: \"0.750rem\",\n        textTransform: \"uppercase\",\n        fontWeight: 600\n    }),\n    headerInternal: ({ align }) => ({\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\"\n    }),\n    headerTitle: ({ align }) => ({\n        overflow: \"hidden\",\n        flexShrink: 1\n    }),\n    headerTitleInternal: ({ align }) => ({\n        margin: \"0px 4px\",\n        overflow: \"hidden\",\n        justifyContent: align,\n        flexShrink: 1\n    }),\n    headerIcon: {\n        paddingTop: \"4px\"\n    },\n    headerIconButton: {\n        backgroundColor: theme.palette.mode === \"light\" ? \"#f5f5f5\" : theme.palette.background.default\n    },\n    headerTypography: {\n        fontSize: \"0.750rem\",\n        fontWeight: 600,\n        textTransform: \"uppercase\"\n    }\n}));\n\n\nexport const TableHeader = React.memo<TableHeaderProps<any>>(TableHeaderInternal) as React.FunctionComponent<TableHeaderProps<any>>;\n\ntype TableHeaderProps<M extends { [Key: string]: any }> = {\n    column: TableColumn<M>;\n    onColumnSort: (key: Extract<keyof M, string>) => void;\n    onFilterUpdate: (filterForProperty?: [TableWhereFilterOp, any]) => void;\n    filter?: [TableWhereFilterOp, any];\n    sort: TableSort;\n};\n\nfunction TableHeaderInternal<M extends { [Key: string]: any }>({\n                                                                   sort,\n                                                                   onColumnSort,\n                                                                   onFilterUpdate,\n                                                                   filter,\n                                                                   column\n                                                               }: TableHeaderProps<M>) {\n    const [onHover, setOnHover] = useState(false);\n    const ref = useRef<HTMLDivElement>(null);\n\n    const classes = useStyles({ onHover, align: column.align });\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleSettingsClick = useCallback((event: any) => {\n        setOpen(true);\n    }, []);\n\n    const handleClose = useCallback(() => {\n        setOpen(false);\n    }, []);\n\n    const update = useCallback((filterForProperty?: [TableWhereFilterOp, any]) => {\n        onFilterUpdate(filterForProperty);\n        setOpen(false);\n    }, []);\n\n    return (\n        <ErrorBoundary>\n            <Grid\n                className={classes.header}\n                ref={ref}\n                wrap={\"nowrap\"}\n                alignItems={\"center\"}\n                onMouseEnter={() => setOnHover(true)}\n                onMouseMove={() => setOnHover(true)}\n                onMouseLeave={() => setOnHover(false)}\n                container>\n\n                <Grid item xs={true} className={classes.headerTitle}>\n                    <div className={classes.headerInternal}>\n                        <div className={classes.headerIcon}>\n                            {column.icon && column.icon(onHover || open)}\n                        </div>\n                        <div className={classes.headerTitleInternal}>\n                            {column.label}\n                        </div>\n                    </div>\n                </Grid>\n\n                {column.property && !column.property.hideFilter && column.sortable && (sort || onHover || open) &&\n                <Grid item>\n                    <Badge color=\"secondary\"\n                           variant=\"dot\"\n                           overlap=\"circular\"\n                           invisible={!sort}>\n                        <IconButton\n                            size={\"small\"}\n                            className={classes.headerIconButton}\n                            onClick={() => {\n                                onColumnSort(column.key as Extract<keyof M, string>);\n                            }}\n                        >\n                            {!sort && <ArrowUpwardIcon fontSize={\"small\"}/>}\n                            {sort === \"asc\" &&\n                            <ArrowUpwardIcon fontSize={\"small\"}/>}\n                            {sort === \"desc\" &&\n                            <ArrowDownwardIcon fontSize={\"small\"}/>}\n                        </IconButton>\n                    </Badge>\n                </Grid>\n                }\n\n                {column.property && !column.property.hideFilter && column.filter && <Grid item>\n                    <Badge color=\"secondary\"\n                           variant=\"dot\"\n                           overlap=\"circular\"\n                           invisible={!filter}>\n                        <IconButton\n                            className={classes.headerIconButton}\n                            size={\"small\"}\n                            onClick={handleSettingsClick}>\n                            <ArrowDropDownCircleIcon fontSize={\"small\"}\n                                                     color={onHover || open ? undefined : \"disabled\"}/>\n                        </IconButton>\n\n                    </Badge>\n                </Grid>}\n            </Grid>\n\n            {column.sortable && <Popover\n                id={open ? `popover_${column.key}` : undefined}\n                open={open}\n                elevation={2}\n                anchorEl={ref.current}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\"\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\"\n                }}\n            >\n                <FilterForm column={column}\n                            filter={filter}\n                            onFilterUpdate={update}/>\n            </Popover>}\n\n        </ErrorBoundary>\n    );\n}\n\ninterface FilterFormProps<M> {\n    column: TableColumn<M>;\n    onFilterUpdate: (filter?: [TableWhereFilterOp, any]) => void;\n    filter?: [TableWhereFilterOp, any];\n}\n\n\nfunction FilterForm<M>({\n                           column,\n                           onFilterUpdate,\n                           filter\n                       }: FilterFormProps<M>) {\n\n\n    const id = column.key;\n    const classes = useStyles({});\n\n    const [filterInternal, setFilterInternal] = useState<[TableWhereFilterOp, any] | undefined>(filter);\n\n    const submit = (e: any) => {\n        onFilterUpdate(filterInternal);\n    };\n\n    const reset = (e: any) => {\n        onFilterUpdate(undefined);\n    };\n\n    const filterIsSet = !!filter;\n\n    function createFilterField(id: string,\n                               filterConfig: TableColumnFilter,\n                               filterValue: [TableWhereFilterOp, any] | undefined,\n                               setFilterValue: (filterValue?: [TableWhereFilterOp, any]) => void\n    ): JSX.Element {\n\n        if (filterConfig.dataType === \"number\" || filterConfig.dataType === \"string\") {\n            const dataType = filterConfig.dataType;\n            const title = filterConfig.title;\n            const enumValues = filterConfig.enumValues;\n            return <StringNumberFilterField value={filterValue}\n                                            setValue={setFilterValue}\n                                            name={id as string}\n                                            dataType={dataType}\n                                            isArray={filterConfig.isArray}\n                                            enumValues={enumValues}\n                                            title={title}/>;\n        } else if (filterConfig.dataType === \"boolean\") {\n            const title = filterConfig.title;\n            return <BooleanFilterField value={filterValue}\n                                       setValue={setFilterValue}\n                                       name={id as string}\n                                       title={title}/>;\n        } else if (filterConfig.dataType === \"timestamp\") {\n            const title = filterConfig.title;\n            return <DateTimeFilterField value={filterValue}\n                                        setValue={setFilterValue}\n                                        name={id as string}\n                                        isArray={filterConfig.isArray}\n                                        title={title}/>;\n        }\n\n        return (\n            <div>{`Currently the field ${filterConfig.dataType} is not supported`}</div>\n        );\n    }\n\n\n    return (\n        <>\n\n            <Box p={2} className={classes.headerTypography}>\n                {column.label ?? id}\n            </Box>\n\n            <Divider/>\n\n            {column.filter && <Box p={2}>\n                {createFilterField(id, column.filter, filterInternal, setFilterInternal)}\n            </Box>}\n\n            <Box display=\"flex\"\n                 justifyContent=\"flex-end\"\n                 m={2}>\n                <Box mr={1}>\n                    <Button\n                        disabled={!filterIsSet}\n                        color=\"primary\"\n                        type=\"reset\"\n                        aria-label=\"filter clear\"\n                        onClick={reset}>Clear</Button>\n                </Box>\n                <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={submit}>Filter</Button>\n            </Box>\n        </>\n    );\n\n}\n\n","import React, { useCallback, useEffect, useRef } from \"react\";\nimport BaseTable, { Column, ColumnShape } from \"react-base-table\";\nimport Measure, { ContentRect } from \"react-measure\";\nimport { alpha, Box, Checkbox, Theme, Tooltip, Typography } from \"@mui/material\";\nimport AssignmentIcon from \"@mui/icons-material/Assignment\";\nimport clsx from \"clsx\";\n\nimport { ErrorBoundary } from \"../../internal/ErrorBoundary\";\nimport { CircularProgressCenter } from \"../CircularProgressCenter\";\nimport { baseTableCss } from \"./styles\";\nimport { TableHeader } from \"./TableHeader\";\nimport { TableColumn, TableFilterValues, TableProps, TableWhereFilterOp } from \"./TableProps\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { getRowHeight } from \"./common\";\nimport { useSelectionController } from \"../EntityCollectionView\";\nimport { useNavigation } from \"../../../hooks\";\n\nconst PIXEL_NEXT_PAGE_OFFSET = 1200;\n\n// @types/react/index.d.ts\ndeclare module \"react\" {\n    interface Attributes {\n        css?: any;\n    }\n}\n\nexport const useTableStyles = makeStyles<Theme>(theme => createStyles({\n    tableContainer: {\n        width: \"100%\",\n        height: \"100%\",\n        flexGrow: 1\n    },\n    header: {\n        width: \"calc(100% + 24px)\",\n        margin: \"0px -12px\",\n        padding: \"0px 12px\",\n        color: theme.palette.text.secondary,\n        backgroundColor: theme.palette.background.default,\n        transition: \"color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        height: \"100%\",\n        fontSize: \"0.750rem\",\n        textTransform: \"uppercase\",\n        fontWeight: 600\n    },\n    tableRow: {\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: \"0.875rem\"\n    },\n    tableRowClickable: {\n        \"&:hover\": {\n            backgroundColor: theme.palette.mode === \"dark\" ? alpha(theme.palette.background.default, 0.6) : alpha(theme.palette.background.default, 0.5)\n        }\n    },\n    column: {\n        padding: \"0px !important\"\n    },\n    alignText: {\n        paddingLeft: \"12px !important\"\n    }\n}));\n\n/**\n * This is a Table component that allows displaying arbitrary data, not\n * necessarily related to entities or properties. It is the component\n * that powers the entity collections but has a generic API so it\n * can be reused.\n *\n * If you have an entity collection defined, you probably want to use\n * {@link CollectionTable} or {@link EntityCollectionView}\n *\n * @see CollectionTable\n * @see EntityCollectionView\n * @category Components\n */\nexport function Table<T>({\n                             data,\n                             idColumnBuilder,\n                             onResetPagination,\n                             onEndReached,\n                             size,\n                             columns,\n                             frozenIdColumn,\n                             onRowClick,\n                             onColumnResize,\n                             filter,\n                             checkFilterCombination,\n                             collection,\n                             onFilterUpdate,\n                             sortBy,\n                             error,\n                             emptyMessage,\n                             onSortByUpdate,\n                             loading,\n                             hoverRow = true,\n                             onSort\n                         }: TableProps<T>) {\n    const sortByProperty: string | undefined = sortBy ? sortBy[0] : undefined;\n    const currentSort: \"asc\" | \"desc\" | undefined = sortBy ? sortBy[1] : undefined;\n\n    const [tableSize, setTableSize] = React.useState<ContentRect | undefined>();\n\n    const tableRef = useRef<BaseTable>(null);\n\n    // these refs are a workaround to prevent the scroll jump caused by Firestore\n    // firing listeners with incomplete data\n    const scrollRef = useRef<number>(0);\n    const endReachedTimestampRef = useRef<number>(0);\n\n    const classes = useTableStyles();\n    const getClass = (column: any) => {\n        if (!column.property) return classes.column\n\n        if (!column.property.disableCustomStyles &&\n            (column.property.dataType === \"number\" ||\n                column.property.dataType === \"string\" ||\n                column.property.dataType === \"timestamp\")\n        ) {\n            return `${classes.column} ${classes.alignText} alignText`\n        } else return classes.column\n    }\n    useEffect(() => {\n        if (tableRef.current && data?.length) {\n            tableRef.current.scrollToTop(scrollRef.current);\n        }\n    }, [data?.length]);\n\n    const onColumnSort = (key: string) => {\n\n        const isDesc = sortByProperty === key && currentSort === \"desc\";\n        const isAsc = sortByProperty === key && currentSort === \"asc\";\n        const newSort = isAsc ? \"desc\" : (isDesc ? undefined : \"asc\");\n        const newSortProperty: string | undefined = isDesc ? undefined : key;\n\n        const newSortBy: [string, \"asc\" | \"desc\"] | undefined = newSort && newSortProperty ? [newSortProperty, newSort] : undefined;\n        if (filter) {\n            if (checkFilterCombination && !checkFilterCombination(filter, newSortBy)) {\n                if (onFilterUpdate)\n                    onFilterUpdate(undefined);\n            }\n        }\n\n        if (onResetPagination) {\n            onResetPagination();\n        }\n\n        if (onSortByUpdate) {\n            onSortByUpdate(newSortBy);\n        }\n        onSort()\n        scrollToTop();\n    };\n\n\n    const [isSelected, setIsSelected] = React.useState(undefined);\n\n    const selectAll = () => {\n        const checkbox = document.querySelectorAll(\".select-all\")[0].getElementsByTagName(\"input\")[0] as any;\n        if (isSelected === undefined) {\n            checkbox.click()\n            setTimeout(() => {\n                checkbox.click()\n            }, 100)\n        } else {\n            checkbox.click()\n        }\n        setIsSelected(checkbox.checked)\n    }\n\n    const resetSort = () => {\n        if (onSortByUpdate)\n            onSortByUpdate(undefined);\n    };\n\n    const scrollToTop = () => {\n        if (tableRef.current) {\n            scrollRef.current = 0;\n            tableRef.current.scrollToTop(0);\n        }\n    };\n    const onScroll = ({ scrollTop, scrollUpdateWasRequested }: {\n        scrollLeft: number;\n        scrollTop: number;\n        horizontalScrollDirection: \"forward\" | \"backward\";\n        verticalScrollDirection: \"forward\" | \"backward\";\n        scrollUpdateWasRequested: boolean;\n    }) => {\n        const prudentTime = Date.now() - endReachedTimestampRef.current > 3000;\n        if (!scrollUpdateWasRequested && prudentTime) {\n            scrollRef.current = scrollTop;\n        }\n    };\n\n    const onEndReachedInternal = () => {\n        endReachedTimestampRef.current = Date.now();\n        if (onEndReached)\n            onEndReached();\n    };\n\n    const clickRow = (props: { rowData: T; rowIndex: number; rowKey: string; event: React.SyntheticEvent }) => {\n        if (!onRowClick)\n            return;\n        onRowClick(props);\n    };\n\n    const headerRenderer = ({ columnIndex }: any) => {\n\n        const column = columns[columnIndex - 1];\n\n        const filterForThisProperty: [TableWhereFilterOp, any] | undefined =\n            column && filter && filter[column.key]\n                ? filter[column.key]\n                : undefined;\n\n        const onInternalFilterUpdate = (filterForProperty?: [TableWhereFilterOp, any]) => {\n\n            let newFilterValue: TableFilterValues<any> = filter ? { ...filter } : {};\n\n            if (!filterForProperty) {\n                delete newFilterValue[column.key];\n            } else {\n                newFilterValue[column.key] = filterForProperty;\n            }\n\n            const newSortBy: [string, \"asc\" | \"desc\"] | undefined = sortByProperty && currentSort ? [sortByProperty, currentSort] : undefined;\n            const isNewFilterCombinationValid = !checkFilterCombination || checkFilterCombination(newFilterValue, newSortBy);\n            if (!isNewFilterCombinationValid) {\n                newFilterValue = filterForProperty ? { [column.key]: filterForProperty } as TableFilterValues<T> : {};\n            }\n\n            if (onFilterUpdate) onFilterUpdate(newFilterValue);\n\n            if (column.key !== sortByProperty) {\n                resetSort();\n            }\n        };\n\n        return (\n\n            <ErrorBoundary>\n                {columnIndex === 0\n                    ? <div className={classes.header}\n                           style={{\n                               display: \"flex\",\n                               justifyContent: \"center\",\n                               alignItems: \"center\",\n                               width: \"100%\",\n                               padding: 0\n                           }}>\n                        <p style={{\n                            margin: 0,\n                            width: \"45px\"\n                        }}>ID</p>\n\n                        <Tooltip title={\"Select All\"} className={\"select-all\"}>\n                            <Checkbox\n                                checked={isSelected}\n                                onChange={selectAll}\n                            />\n                        </Tooltip>\n                    </div>\n                    : <TableHeader\n                        onFilterUpdate={onInternalFilterUpdate}\n                        filter={filterForThisProperty}\n                        sort={sortByProperty === column.key ? currentSort : undefined}\n                        onColumnSort={onColumnSort}\n                        column={column}/>\n\n                }\n            </ErrorBoundary>\n        );\n    };\n\n\n    function buildErrorView() {\n        return (\n            <Box display=\"flex\"\n                 flexDirection={\"column\"}\n                 justifyContent=\"center\"\n                 margin={6}>\n\n                <Typography variant={\"h6\"}>\n                    {\"Error fetching data from the data source\"}\n                </Typography>\n\n                {error?.name && <Typography>\n                    {error?.name}\n                </Typography>}\n\n                {error?.message && <Typography>\n                    {error?.message}\n                </Typography>}\n\n            </Box>\n\n        );\n    }\n\n    function buildEmptyView() {\n        if (loading)\n            return <CircularProgressCenter/>;\n        return (\n            <Box display=\"flex\"\n                 flexDirection={\"column\"}\n                 alignItems=\"center\"\n                 justifyContent=\"center\"\n                 width={\"100%\"}\n                 height={\"100%\"}\n                 padding={2}>\n                <Box padding={1}>\n                    <AssignmentIcon/>\n                </Box>\n                <Typography>\n                    {emptyMessage}\n                </Typography>\n            </Box>\n        );\n    }\n\n    const onBaseTableColumnResize = useCallback(({\n                                                     column,\n                                                     width\n                                                 }: { column: ColumnShape; width: number }) => {\n        if (onColumnResize) {\n            onColumnResize({\n                width,\n                key: column.key as string,\n                column: column as TableColumn<any>\n            });\n        }\n    }, [onColumnResize]);\n\n    return (\n\n        <>\n\n            <Measure\n                bounds\n                onResize={setTableSize}>\n                {({ measureRef }) => {\n\n                    return (\n                        <div ref={measureRef}\n                             className={classes.tableContainer}\n                             css={baseTableCss}>\n\n                            {tableSize?.bounds &&\n                                <BaseTable\n                                    className={collection.hideSelectAndOpen ? \"disableSelection\" : \"\"}\n                                    rowClassName={clsx(classes.tableRow, { [classes.tableRowClickable]: hoverRow })}\n                                    data={data}\n                                    onColumnResizeEnd={onBaseTableColumnResize}\n                                    width={tableSize.bounds.width}\n                                    height={tableSize.bounds.height}\n                                    emptyRenderer={error ? buildErrorView() : buildEmptyView()}\n                                    fixed\n                                    ignoreFunctionInColumnCompare={false}\n                                    rowHeight={getRowHeight(size)}\n                                    ref={tableRef}\n                                    onScroll={onScroll}\n                                    overscanRowCount={2}\n                                    onEndReachedThreshold={PIXEL_NEXT_PAGE_OFFSET}\n                                    onEndReached={onEndReachedInternal}\n                                    rowEventHandlers={\n                                        { onClick: clickRow as any }\n                                    }\n                                >\n\n                                    <Column\n                                        headerRenderer={headerRenderer}\n                                        cellRenderer={({\n                                                           rowData\n                                                       }: any) =>\n                                            idColumnBuilder\n                                                ? idColumnBuilder({\n                                                    size,\n                                                    entry: rowData\n                                                })\n                                                : null\n                                        }\n                                        align={\"center\"}\n                                        key={\"header-id\"}\n                                        dataKey={\"id\"}\n                                        flexShrink={0}\n                                        frozen={frozenIdColumn ? \"left\" : undefined}\n                                        width={160}/>\n\n                                    {columns.map((column) =>\n                                        <Column\n                                            key={column.key}\n                                            title={column.label}\n                                            className={({ rowData }) => {\n                                                const currentColumn: any = data?.filter((d: any) => d.id === rowData.id)[0]\n                                                if (currentColumn!.values.archived) {\n                                                    return `${getClass(column)} archived-row`\n                                                } else {\n                                                    return getClass(column)\n                                                }\n                                            }\n                                            }\n                                            style={{ color: column.property && column.property.textColor ? column.property.textColor : \"rgba(0, 0, 0, 0.87)\" }}\n                                            headerRenderer={headerRenderer}\n                                            cellRenderer={column.cellRenderer}\n                                            height={getRowHeight(size)}\n                                            align={column.align}\n                                            flexGrow={1}\n                                            flexShrink={0}\n                                            resizable={true}\n                                            size={size}\n                                            dataKey={column.key}\n                                            width={column.width}/>)\n                                    }\n                                </BaseTable>}\n                        </div>\n                    );\n                }}\n            </Measure>\n\n        </>\n    );\n}\n","import { useContext } from \"react\";\nimport { BreadcrumbContext } from \"../core/contexts/BreacrumbsContext\";\n\n\n/**\n * @category Hooks and utilities\n */\nexport interface BreadcrumbsController {\n    breadcrumbs: BreadcrumbEntry[];\n    set: (props: {\n        breadcrumbs: BreadcrumbEntry[];\n    }) => void;\n}\n\n/**\n * @category Hooks and utilities\n */\nexport interface BreadcrumbEntry {\n    title: string;\n    url: string;\n}\n\n/**\n * Hook to retrieve the BreadcrumbContext.\n *\n * Consider that in order to use this hook you need to have a parent\n * `FireCMS`\n *\n * @see BreadcrumbsController\n * @category Hooks and utilities\n */\nexport const useBreadcrumbsContext = (): BreadcrumbsController => useContext(BreadcrumbContext);\n","import React from \"react\";\nimport { Box, Typography } from \"@mui/material\";\n\nexport function NotFoundPage() {\n\n    return (\n        <Box\n            display=\"flex\"\n            width={\"100%\"}\n            height={\"100%\"}>\n            <Box m=\"auto\">\n                <Typography variant={\"h4\"} align={\"center\"} gutterBottom={true}>\n                    Page not found\n                </Typography>\n                <Typography align={\"center\"}>\n                    This page does not exist or you may not have access to it\n                </Typography>\n            </Box>\n        </Box>\n    );\n}\n\n","import React, { PropsWithChildren } from \"react\";\n\nimport { Route, Routes, useLocation } from \"react-router-dom\";\nimport { CMSView } from \"../models\";\nimport { EntityCollectionView, FireCMSHomePage } from \"./components\";\nimport { useNavigation } from \"../hooks\";\nimport { useBreadcrumbsContext } from \"../hooks/useBreadcrumbsContext\";\nimport { NotFoundPage } from \"./components/NotFoundPage\";\n\n/**\n * @category Components\n */\nexport type NavigationRoutesProps = {\n    /**\n     * In case you need to override the home page\n     */\n    HomePage?: React.ComponentType;\n};\n\n/**\n * This component is in charge of taking a {@link Navigation} and rendering\n * all the related routes (entity collection root views, custom views\n * or the home route).\n * This component needs a parent {@link FireCMS}\n *\n * @constructor\n * @category Components\n */\nexport function NavigationRoutes({ HomePage }: NavigationRoutesProps) {\n\n    const location = useLocation();\n    const navigationContext = useNavigation();\n    const navigation = navigationContext.navigation;\n\n    if (!navigation)\n        return <></>;\n\n    const state = location.state as any;\n    /**\n     * The location can be overridden if `base_location` is set in the\n     * state field of the current location. This can happen if you open\n     * a side entity, like `products`, from a different one, like `users`\n     */\n    const baseLocation = state && state.base_location ? state.base_location : location;\n\n    const customRoutes: JSX.Element[] = [];\n    if (navigation.views) {\n        const buildCMSViewRoute = (path: string, cmsView: CMSView) => {\n            return <Route\n                key={\"navigation_view_\" + path}\n                path={path}\n                element={\n                    <BreadcrumbUpdater\n                        path={path}\n                        key={`navigation_${path}`}\n                        title={cmsView.name}>\n                        {cmsView.view}\n                    </BreadcrumbUpdater>}\n            />;\n        };\n\n        navigation.views.forEach((cmsView) => {\n            if (Array.isArray(cmsView.path))\n                customRoutes.push(...cmsView.path.map(path => buildCMSViewRoute(path, cmsView)));\n            else\n                customRoutes.push(buildCMSViewRoute(cmsView.path, cmsView));\n        });\n    }\n\n    const collectionRoutes = [...navigation.collections]\n        // we reorder collections so that nested paths are included first\n        .sort((a, b) => b.path.length - a.path.length)\n        .map((collection) => {\n                const urlPath = navigationContext.buildUrlCollectionPath(collection.path);\n                return <Route path={urlPath + \"/*\"}\n                              key={`navigation_${collection.path}`}\n                              element={\n                                  <BreadcrumbUpdater\n                                      path={urlPath}\n                                      title={collection.name}>\n                                      <EntityCollectionView\n                                          path={collection.path}\n                                          collection={collection}/>\n                                  </BreadcrumbUpdater>\n                              }/>;\n            }\n        );\n\n    const homeRoute =\n        <Route path={\"/\"}\n               element={\n                   <BreadcrumbUpdater\n                       path={\"/\"}\n                       key={\"navigation_home\"}\n                       title={\"Home\"}>\n                       {HomePage ? <HomePage/> : <FireCMSHomePage/>}\n                   </BreadcrumbUpdater>\n               }/>;\n\n    const notFoundRoute = <Route path={\"*\"}\n                                 element={\n                                     <NotFoundPage/>\n                                 }/>;\n\n    return (\n        <Routes location={baseLocation}>\n\n            {collectionRoutes}\n\n            {customRoutes}\n\n            {homeRoute}\n\n            {notFoundRoute}\n\n        </Routes>\n    );\n}\n\n\ninterface BreadcrumbRouteProps {\n    title: string;\n    path: string;\n}\n\n/**\n * This component updates the breadcrumb in the app bar when rendered\n * @param children\n * @param title\n * @param path\n * @constructor\n * @category Components\n */\nfunction BreadcrumbUpdater({\n                               children,\n                               title,\n                               path\n                           }\n                               : PropsWithChildren<BreadcrumbRouteProps>) {\n\n    const breadcrumbsContext = useBreadcrumbsContext();\n    React.useEffect(() => {\n        breadcrumbsContext.set({\n            breadcrumbs: [{\n                title: title,\n                url: path\n            }]\n        });\n    }, [path, title]);\n\n    return <>{children}</>;\n}\n","import React from \"react\";\n\nexport function FireCMSLogo() {\n    return (\n        <svg\n            width=\"232\" height=\"232\"\n            viewBox=\"0 0 599 599\" version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n                <radialGradient cx=\"28.6213569%\" cy=\"43.1133328%\"\n                                fx=\"28.6213569%\"\n                                fy=\"43.1133328%\" r=\"71.5003456%\"\n                                gradientTransform=\"translate(0.286214,0.431133),rotate(3.343450),scale(1.000000,0.996175),translate(-0.286214,-0.431133)\"\n                                id=\"radialGradient-1\">\n                    <stop stopColor=\"#FF5B79\" offset=\"0%\"/>\n                    <stop stopColor=\"#FA5574\" offset=\"28.0930803%\"/>\n                    <stop stopColor=\"#EC4C51\" offset=\"44.7242531%\"/>\n                    <stop stopColor=\"#9543C1\" offset=\"71.4578165%\"/>\n                    <stop stopColor=\"#3857B3\" offset=\"100%\"/>\n                </radialGradient>\n                <radialGradient cx=\"53.6205516%\" cy=\"47.2473036%\"\n                                fx=\"53.6205516%\"\n                                fy=\"47.2473036%\" r=\"50.8229649%\"\n                                gradientTransform=\"translate(0.536206,0.472473),rotate(90.000000),scale(1.000000,1.206631),translate(-0.536206,-0.472473)\"\n                                id=\"radialGradient-2\">\n                    <stop stopColor=\"#68294F\" stopOpacity=\"0\" offset=\"0%\"/>\n                    <stop stopColor=\"#5E2548\" stopOpacity=\"0.04641108\"\n                          offset=\"75.3503173%\"/>\n                    <stop stopColor=\"#0D060B\" stopOpacity=\"0.437431709\"\n                          offset=\"100%\"/>\n                </radialGradient>\n                <radialGradient cx=\"53.8605015%\" cy=\"48.1990423%\"\n                                fx=\"53.8605015%\"\n                                fy=\"48.1990423%\" r=\"59.9151549%\"\n                                gradientTransform=\"translate(0.538605,0.481990),rotate(180.000000),scale(1.000000,0.925027),translate(-0.538605,-0.481990)\"\n                                id=\"radialGradient-3\">\n                    <stop stopColor=\"#68294F\" stopOpacity=\"0\" offset=\"0%\"/>\n                    <stop stopColor=\"#5E2548\" stopOpacity=\"0.04641108\"\n                          offset=\"84.0867343%\"/>\n                    <stop stopColor=\"#FF0000\" stopOpacity=\"0.567324765\"\n                          offset=\"100%\"/>\n                </radialGradient>\n            </defs>\n            <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\"\n               fillRule=\"evenodd\">\n                <g id=\"firecms_logo\">\n                    <circle fill=\"url(#radialGradient-1)\" cx=\"299.5\" cy=\"299.5\"\n                            r=\"299.5\"/>\n                    <circle fill=\"url(#radialGradient-2)\" cx=\"299.5\" cy=\"299.5\"\n                            r=\"299.5\"/>\n                    <circle fill=\"url(#radialGradient-3)\" cx=\"299.5\" cy=\"299.5\"\n                            r=\"299.5\"/>\n                </g>\n            </g>\n        </svg>\n    );\n\n}\n","import React, { useCallback, useMemo } from \"react\";\nimport {\n    Box,\n    Divider,\n    Link,\n    List,\n    ListItem,\n    Theme,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { NavLink } from \"react-router-dom\";\nimport {\n    computeTopNavigation,\n    TopNavigationEntry,\n    TopNavigationResult\n} from \"./util/navigation_utils\";\nimport { useNavigation } from \"../hooks\";\nimport { FireCMSLogo } from \"./components/FireCMSLogo\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        logo: {\n            padding: theme.spacing(3),\n            maxWidth: 280\n        }\n    })\n);\n\n/**\n * Props used in case you need to override the default drawer\n * @category Core\n */\nexport interface DrawerProps {\n    logo: string | undefined,\n    closeDrawer: () => any,\n}\n\n/**\n * Default drawer used in the CMS\n * @category Core\n */\nexport function Drawer({\n                           logo,\n                           closeDrawer\n                       }: DrawerProps) {\n\n    const classes = useStyles();\n\n    const navigationContext = useNavigation();\n\n    const {\n        navigationEntries,\n        groups\n    }: TopNavigationResult = useMemo(() => computeTopNavigation(navigationContext, false), [navigationContext]);\n\n    const ungroupedNavigationViews = Object.values(navigationEntries).filter(e => !e.group);\n\n    const createNavigationListItem = useCallback((index: number, group: string, entry: TopNavigationEntry) =>\n        <ListItem\n            // @ts-ignore\n            button\n            key={`navigation_${index}`}\n            component={NavLink}\n            onClick={closeDrawer}\n            // @ts-ignore\n            style={({ isActive }) => ({\n                fontWeight: isActive ? \"600\" : \"500\",\n                background: isActive ? \"rgba(128,128,128,0.1)\" : \"inherit\"\n            })}\n            to={entry.url}\n        >\n            <Typography\n                variant={\"subtitle2\"}\n                sx={{\n                    fontWeight: \"inherit\",\n                    py: 0.5\n                }}>\n                {entry.name.toUpperCase()}\n            </Typography>\n        </ListItem>, [closeDrawer]);\n\n    let logoComponent;\n    if (logo) {\n        logoComponent = <img className={classes.logo}\n                             src={logo}\n                             alt={\"Logo\"}/>;\n    } else {\n        logoComponent = <div className={classes.logo}>\n            <FireCMSLogo/>\n        </div>;\n    }\n\n    return <>\n\n        <Link\n            key={\"breadcrumb-home\"}\n            color=\"inherit\"\n            onClick={closeDrawer}\n            component={NavLink}\n\n            to={navigationContext.homeUrl}>\n            {logoComponent}\n        </Link>\n\n        <List>\n\n            {groups.map((group) => (\n                <React.Fragment\n                    key={`drawer_group_${group}`}>\n                    <Divider key={`divider_${group}`}/>\n                    <Box pt={2} pl={2} pr={2} pb={0.5}>\n                        <Typography variant={\"caption\"}\n                                    color={\"textSecondary\"}\n                                    className={\"weight-500\"}>\n                            {group.toUpperCase()}\n                        </Typography>\n                    </Box>\n                    {Object.values(navigationEntries)\n                        .filter(e => e.group === group)\n                        .map((view, index) => createNavigationListItem(index, group, view))}\n                </React.Fragment>\n            ))}\n\n            {ungroupedNavigationViews.length > 0 &&\n            <Divider key={\"divider_ungrouped\"}/>}\n\n            {ungroupedNavigationViews.map((view, index) => createNavigationListItem(index, \"none\", view))}\n\n        </List>\n\n    </>;\n}\n","/* @jsxImportSource @emotion/react */\nimport React from \"react\";\nimport {\n    AppBar,\n    Avatar,\n    Box,\n    Breadcrumbs,\n    Button,\n    Chip,\n    Hidden,\n    IconButton,\n    Link,\n    Slide,\n    Theme,\n    Toolbar,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport Brightness5Icon from \"@mui/icons-material/Brightness5\";\nimport Brightness3Icon from \"@mui/icons-material/Brightness3\";\nimport NavigateNextIcon from \"@mui/icons-material/NavigateNext\";\nimport { Link as ReactLink } from \"react-router-dom\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport { useAuthController, useModeState } from \"../../hooks\";\nimport { useBreadcrumbsContext } from \"../../hooks/useBreadcrumbsContext\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appbar: {},\n        menuButton: {\n            marginRight: theme.spacing(2)\n        },\n        breadcrumb: {\n            backgroundColor: theme.palette.grey[100],\n            height: theme.spacing(3),\n            color: theme.palette.grey[800],\n            fontWeight: theme.typography.fontWeightMedium,\n            \"&:hover, &:focus\": {\n                cursor: \"pointer\",\n                backgroundColor: theme.palette.grey[300]\n            },\n            \"&:active\": {\n                boxShadow: theme.shadows[1],\n                backgroundColor: theme.palette.grey[400]\n            }\n        }\n    })\n);\n\n\ninterface CMSAppBarProps {\n    title: string;\n    handleDrawerToggle: () => void,\n    /**\n     * A component that gets rendered on the upper side of the main toolbar\n     */\n    toolbarExtraWidget?: React.ReactNode;\n}\n\n\nexport function FireCMSAppBar({\n                                  title,\n                                  handleDrawerToggle,\n                                  toolbarExtraWidget\n                              }: CMSAppBarProps) {\n\n    const classes = useStyles();\n\n    const breadcrumbsContext = useBreadcrumbsContext();\n    const { breadcrumbs } = breadcrumbsContext;\n\n    const authController = useAuthController();\n    const { mode, toggleMode } = useModeState();\n\n    const initial = authController.user?.displayName\n        ? authController.user.displayName[0].toUpperCase()\n        : (authController.user?.email ? authController.user.email[0].toUpperCase() : \"A\");\n\n    return (\n        <Slide\n            direction=\"down\" in={true} mountOnEnter unmountOnExit>\n            <AppBar\n                className={classes.appbar}\n                position={\"relative\"}\n                elevation={1}>\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"Open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                        size=\"large\">\n                        <MenuIcon/>\n                    </IconButton>\n\n                    <Hidden lgDown>\n                        <Box mr={3}>\n                            <Link\n                                underline={\"none\"}\n                                key={\"breadcrumb-home\"}\n                                color=\"inherit\"\n                                component={ReactLink}\n                                to={\"/\"}>\n                                <Typography variant=\"h6\" noWrap>\n                                    {title}\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </Hidden>\n\n                    <Box mr={2}>\n                        <Breadcrumbs\n                            separator={<NavigateNextIcon\n                                htmlColor={\"rgb(0,0,0,0.87)\"}\n                                fontSize=\"small\"/>}\n                            aria-label=\"breadcrumb\">\n                            {breadcrumbs.map((entry, index) => (\n                                <Link\n                                    underline={\"none\"}\n                                    key={`breadcrumb-${index}`}\n                                    color=\"inherit\"\n                                    component={ReactLink}\n                                    to={entry.url}>\n                                    <Chip\n                                        classes={{ root: classes.breadcrumb }}\n                                        label={entry.title}\n                                    />\n                                </Link>)\n                            )\n                            }\n                        </Breadcrumbs>\n                    </Box>\n\n                    <Box flexGrow={1}/>\n\n                    {toolbarExtraWidget &&\n                    <ErrorBoundary>\n                        {\n                            toolbarExtraWidget\n                        }\n                    </ErrorBoundary>}\n\n\n                    <Box p={1} mr={1}>\n                        <IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            edge=\"start\"\n                            onClick={() => toggleMode()}\n                            size=\"large\">\n                            {mode === \"dark\"\n                                ? <Brightness3Icon/>\n                                : <Brightness5Icon/>}\n                        </IconButton>\n                    </Box>\n\n                    <Box p={1} mr={1}>\n                        {authController.user && authController.user.photoURL\n                            ? <Avatar\n                                src={authController.user.photoURL}/>\n                            : <Avatar>{initial}</Avatar>\n                        }\n                    </Box>\n\n                    <Button variant=\"text\"\n                            color=\"inherit\"\n                            onClick={authController.signOut}>\n                        Log Out\n                    </Button>\n\n                </Toolbar>\n            </AppBar>\n        </Slide>\n    );\n}\n","import React, { PropsWithChildren } from \"react\";\n\nimport { Drawer as MuiDrawer, Theme } from \"@mui/material\";\nimport { createStyles, makeStyles } from \"@mui/styles\";\nimport { Drawer as FireCMSDrawer, DrawerProps } from \"./Drawer\";\nimport { FireCMSAppBar } from \"./internal/FireCMSAppBar\";\nimport { useNavigation } from \"../hooks\";\nimport { CircularProgressCenter } from \"./components\";\n\n\n/**\n * @category Core\n */\nexport interface ScaffoldProps {\n\n    /**\n     * Name of the app, displayed as the main title and in the tab title\n     */\n    name: string;\n\n    /**\n     * Logo to be displayed in the drawer of the CMS\n     */\n    logo?: string;\n\n    /**\n     * A component that gets rendered on the upper side of the main toolbar\n     */\n    toolbarExtraWidget?: React.ReactNode;\n\n    /**\n     * In case you need to override the view that gets rendered as a drawer\n     * @see FireCMSDrawer\n     */\n    Drawer?: React.ComponentType<DrawerProps>;\n\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        main: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            width: \"100vw\",\n            height: \"100vh\"\n        },\n        content: {\n            flexGrow: 1,\n            width: \"100%\",\n            height: \"100%\",\n            overflow: \"auto\"\n        },\n        drawerPaper: {\n            width: 280\n        }\n    })\n);\n\n/**\n * This view acts as a scaffold for FireCMS.\n *\n * It is in charge of displaying the navigation drawer, top bar and main\n * collection views.\n * This component needs a parent {@link FireCMS}\n *\n * @param props\n * @constructor\n * @category Core\n */\nexport function Scaffold(props: PropsWithChildren<ScaffoldProps>) {\n\n    const {\n        children,\n        name,\n        logo,\n        toolbarExtraWidget,\n        Drawer\n    } = props;\n\n    const classes = useStyles();\n\n    const navigationContext = useNavigation();\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\n\n    const handleDrawerToggle = () => setDrawerOpen(!drawerOpen);\n    const closeDrawer = () => setDrawerOpen(false);\n\n    const UsedDrawer = Drawer || FireCMSDrawer;\n    return (\n\n        <>\n            <nav>\n                <MuiDrawer\n                    variant=\"temporary\"\n                    anchor={\"left\"}\n                    open={drawerOpen}\n                    onClose={closeDrawer}\n                    classes={{\n                        paper: classes.drawerPaper\n                    }}\n                    ModalProps={{\n                        keepMounted: true\n                    }}\n                >\n                    {!navigationContext.navigation ? <CircularProgressCenter/> : <UsedDrawer logo={logo} closeDrawer={closeDrawer}/>}\n\n                </MuiDrawer>\n            </nav>\n\n            <div className={classes.main}>\n\n                <FireCMSAppBar title={name}\n                               handleDrawerToggle={handleDrawerToggle}\n                               toolbarExtraWidget={toolbarExtraWidget}/>\n                <main\n                    className={classes.content}>\n                    {children}\n                </main>\n                <div style={{\n                    height: \"40px\",\n                    width: \"100%\",\n                    backgroundColor: \"#3D8B76\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"flex-end\",\n                    padding: \"0 20px\",\n                    color: \"#fff\",\n                    fontWeight: \"500\"\n                }}>\n                     2015-{new Date().getFullYear()} Neuro-Eye Diagnostic Systems LLC. Patent No. 11,369,263\n                </div>\n            </div>\n\n        </>\n    );\n\n\n}\n\n","import * as React from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport { debounce, ownerWindow, useForkRef, useTheme } from \"@mui/material\";\n\n// Translate the node so it can't be seen on the screen.\n// Later, we're going to translate the node back to its original location with `none`.\nfunction getTranslateValue(node: any) {\n    const rect = node.getBoundingClientRect();\n    const containerWindow = ownerWindow(node);\n    let transform;\n\n    if (node.fakeTransform) {\n        transform = node.fakeTransform;\n    } else {\n        const computedStyle = containerWindow.getComputedStyle(node);\n        transform =\n            computedStyle.getPropertyValue(\"-webkit-transform\") ||\n            computedStyle.getPropertyValue(\"transform\");\n    }\n\n    let offsetX = 0;\n\n    if (transform && transform !== \"none\" && typeof transform === \"string\") {\n        const transformValues = transform.split(\"(\")[1].split(\")\")[0].split(\",\");\n        offsetX = parseInt(transformValues[4], 10);\n    }\n\n    return `translateX(${containerWindow.innerWidth}px) translateX(${offsetX - rect.left}px)`;\n}\n\nexport function setTranslateValue(node: any) {\n    const transform = getTranslateValue(node);\n\n    if (transform) {\n        node.style.webkitTransform = transform;\n        node.style.transform = transform;\n    }\n}\n\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\nexport const SlideFade = React.forwardRef(function SlideFade(props: SlideProps, ref) {\n    const {\n        children,\n        in: inProp,\n        timeout,\n        onExitAnimation,\n        ...other\n    } = props;\n\n    const theme: any = useTheme();\n    const childrenRef = React.useRef<any>(null);\n    const handleRefIntermediary = useForkRef(children.ref, childrenRef);\n    const handleRef = useForkRef(handleRefIntermediary, ref);\n\n    const normalizedTransitionCallback = (callback: any) => (isAppearing: boolean) => {\n        if (callback) {\n            // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n            if (isAppearing === undefined) {\n                callback(childrenRef.current);\n            } else {\n                callback(childrenRef.current, isAppearing);\n            }\n        }\n    };\n\n    const handleEnter = normalizedTransitionCallback((node: any) => {\n        setTranslateValue(node);\n        reflow(node);\n    });\n\n    const handleEntering = normalizedTransitionCallback((node: any) => {\n        const transitionProps = getTransitionProps(\n            { timeout },\n            {\n                mode: \"enter\"\n            }\n        );\n        node.style.webkitTransition = theme.transitions.create(\"-webkit-transform\", {\n            ...transitionProps,\n            easing: theme.transitions.easing.easeOut\n        });\n\n        node.style.transition = theme.transitions.create(\"transform\", {\n            ...transitionProps,\n            easing: theme.transitions.easing.easeOut\n        });\n\n        node.style.webkitTransform = \"none\";\n        node.style.transform = \"none\";\n        node.style.opacity = 1;\n    });\n\n\n    const handleExit: any = normalizedTransitionCallback((node: any) => {\n        const transitionProps = getTransitionProps(\n            { timeout },\n            {\n                mode: \"exit\"\n            }\n        );\n\n        node.style.opacity = 0.5;\n        node.style.webkitTransition = theme.transitions.create([\"-webkit-transform\", \"opacity\"], {\n            ...transitionProps,\n            easing: theme.transitions.easing.sharp\n        });\n\n        node.style.transition = theme.transitions.create([\"transform\", \"opacity\"], {\n            ...transitionProps,\n            easing: theme.transitions.easing.sharp\n        });\n\n        setTranslateValue(node);\n    });\n\n    const handleExited: any = normalizedTransitionCallback((node: any) => {\n        // No need for transitions when the component is hidden\n        node.style.webkitTransition = \"\";\n        node.style.transition = \"\";\n\n    });\n\n    const updatePosition = React.useCallback(() => {\n        if (childrenRef.current) {\n            setTranslateValue(childrenRef.current);\n        }\n    }, []);\n\n    React.useEffect(() => {\n        // Skip configuration where the position is screen size invariant.\n        if (inProp) {\n            return undefined;\n        }\n\n        const handleResize = debounce(() => {\n            if (childrenRef.current) {\n                setTranslateValue(childrenRef.current);\n            }\n        });\n\n        const containerWindow = ownerWindow(childrenRef.current);\n        containerWindow.addEventListener(\"resize\", handleResize);\n        return () => {\n            handleResize.clear();\n            containerWindow.removeEventListener(\"resize\", handleResize);\n        };\n    }, [inProp]);\n\n    React.useEffect(() => {\n        if (!inProp) {\n            // We need to update the position of the drawer when the direction change and\n            // when it's hidden.d\n            updatePosition();\n        }\n    }, [inProp, updatePosition]);\n\n    return (\n        <Transition\n            nodeRef={childrenRef}\n            onEnter={handleEnter}\n            onEntering={handleEntering}\n            onExit={handleExit}\n            onExited={handleExited}\n            appear={true}\n            in={inProp}\n            timeout={timeout}\n            {...other}\n        >\n            {(state: any, childProps: any) => {\n                return React.cloneElement(children, {\n                    ref: handleRef,\n                    style: {\n                        visibility: state === \"exited\" && !inProp ? \"hidden\" : undefined,\n                        ...children.props.style\n                    },\n                    ...childProps\n                });\n            }}\n        </Transition>\n    );\n});\n\n\ninterface SlideProps {\n    /**\n     * A single child content element.\n     */\n    children: any;\n    /**\n     * If `true`, the component will transition in.\n     */\n    in: boolean;\n    /**\n     * The duration for the transition, in milliseconds.\n     * You may specify a single timeout for all transitions, or individually with an object.\n     * @default {\n     *   enter: duration.enteringScreen,\n     *   exit: duration.leavingScreen,\n     * }\n     */\n    timeout: { enter: number, exit: number };\n\n    onExitAnimation?: () => void;\n}\n\nconst reflow = (node: any) => node.scrollTop;\n\nfunction getTransitionProps(props: any, options: any) {\n    const { timeout } = props;\n\n    return {\n        duration:\n            typeof timeout === \"number\"\n                ? timeout\n                : timeout[options.mode] || 0\n    };\n}\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { Backdrop, Modal, Paper, Theme } from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { SlideFade } from \"./SlideFadeTransition\";\n\nexport interface EntityDrawerProps {\n\n    /**\n     * The contents of the drawer.\n     */\n    children: React.ReactNode,\n\n    /**\n     * Callback fired when the component requests to be closed.\n     *\n     * @param {object} event The event source of the callback.\n     */\n    onClose?: () => void,\n\n    /**\n     * If `true`, the drawer is open.\n     */\n    open: boolean,\n\n    /**\n     * The offset position of this view determines if it needs to be translated\n     * when nested\n     */\n    offsetPosition: number;\n\n    onExitAnimation?: () => void;\n\n}\n\nexport interface StyleProps {\n    offsetPosition: number;\n}\n\nconst useStyles = makeStyles<Theme, StyleProps>((theme: Theme) => createStyles({\n    /* Styles applied to the root element. */\n    root: {},\n    /* Styles applied to the `Paper` component. */\n    paper: {\n        height: \"100%\",\n        WebkitOverflowScrolling: \"touch\", // Add iOS momentum scrolling.\n        position: \"fixed\",\n        outline: 0\n    },\n    paperAnchorRight: ({ offsetPosition }) => ({\n        left: \"auto\",\n        right: 0\n    }),\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n}));\n\n\nconst defaultTransitionDuration = {\n    enter: 225,\n    exit: 175\n};\n\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\nexport const SideDialogDrawer = React.forwardRef<HTMLDivElement, EntityDrawerProps>(function EntityDrawer(props, ref) {\n\n    const {\n        children,\n        onClose,\n        open,\n        offsetPosition,\n        onExitAnimation\n    } = props;\n\n    const classes = useStyles({ offsetPosition });\n\n    const drawer = (\n        <Paper\n            elevation={1}\n            square\n            style={{\n                transition: \"transform 1000ms cubic-bezier(0.33, 1, 0.68, 1)\",\n                transform: `translateX(-${(offsetPosition) * 240}px)`\n            }}\n            className={clsx(\n                classes.paper,\n                classes.paperAnchorRight\n            )}\n        >\n            {children}\n        </Paper>\n    );\n\n\n    const slidingDrawer = (\n        <SlideFade\n            in={open}\n            timeout={defaultTransitionDuration}\n            onExitAnimation={onExitAnimation}\n        >\n            {drawer}\n        </SlideFade>\n    );\n\n    return (\n        <Modal\n            BackdropProps={{\n                transitionDuration: defaultTransitionDuration\n            }}\n            BackdropComponent={Backdrop}\n            className={clsx(classes.root, classes.modal)}\n            open={open}\n            onClose={onClose}\n            ref={ref}\n            keepMounted={true}\n            // disableEnforceFocus related to https://github.com/Camberi/firecms/issues/50\n            disableEnforceFocus={true}\n        >\n            {slidingDrawer}\n        </Modal>\n    );\n});\n\n\n","export const CONTAINER_WIDTH = \"560px\";\nexport const CONTAINER_FULL_WIDTH = \"100vw\";\n\nexport const TAB_WIDTH = \"55vw\";\n","import React, {\n    lazy,\n    Suspense,\n    useCallback,\n    useEffect,\n    useMemo,\n    useState\n} from \"react\";\nimport {\n    Box,\n    CircularProgress,\n    Divider,\n    IconButton,\n    Tab,\n    Tabs,\n    Theme,\n    useMediaQuery,\n    useTheme\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport clsx from \"clsx\";\nimport {\n    Entity,\n    EntityCallbacks,\n    EntityCollection,\n    EntitySchema,\n    EntitySchemaResolver,\n    EntityStatus,\n    EntityValues,\n    PermissionsBuilder,\n    ResolvedEntitySchema\n} from \"../../models\";\nimport { CircularProgressCenter } from \"../components\";\nimport { removeInitialAndTrailingSlashes } from \"../util/navigation_utils\";\n\nimport { CONTAINER_FULL_WIDTH, CONTAINER_WIDTH, TAB_WIDTH } from \"./common\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport {\n    saveEntityWithCallbacks,\n    useAuthController,\n    useDataSource,\n    useEntityFetch,\n    useFireCMSContext,\n    useSideEntityController,\n    useSnackbarController\n} from \"../../hooks\";\nimport { canEdit } from \"../util/permissions\";\nimport { computeSchema } from \"../utils\";\n\nconst EntityCollectionView = lazy(() => import(\"../components/EntityCollectionView\")) as any;\nconst EntityForm = lazy(() => import(\"../../form/EntityForm\")) as any;\nconst EntityPreview = lazy(() => import(\"../components/EntityPreview\")) as any;\n\nconst useStylesSide = makeStyles<Theme, { containerWidth?: string }>((theme: Theme) =>\n    createStyles({\n        container: ({ containerWidth }) => ({\n            display: \"flex\",\n            flexDirection: \"column\",\n            width: containerWidth,\n            height: \"100%\",\n            [theme.breakpoints.down(\"sm\")]: {\n                width: CONTAINER_FULL_WIDTH\n            },\n            transition: \"width 250ms ease-in-out\"\n        }),\n        containerWide: ({ containerWidth }) => ({\n            width: `calc(${TAB_WIDTH} + ${containerWidth})`,\n            [theme.breakpoints.down(\"lg\")]: {\n                width: CONTAINER_FULL_WIDTH\n            }\n        }),\n        subcollectionPanel: {\n            width: TAB_WIDTH,\n            height: \"100%\",\n            overflow: \"auto\",\n            borderLeft: `1px solid ${theme.palette.divider}`,\n            [theme.breakpoints.down(\"lg\")]: {\n                borderLeft: \"inherit\",\n                width: CONTAINER_FULL_WIDTH\n            }\n        },\n        tabsContainer: ({ containerWidth }) => ({\n            flexGrow: 1,\n            height: \"100%\",\n            width: `calc(${TAB_WIDTH} + ${containerWidth})`,\n            [theme.breakpoints.down(\"lg\")]: {\n                width: CONTAINER_FULL_WIDTH\n            },\n            display: \"flex\",\n            overflow: \"auto\",\n            flexDirection: \"row\"\n        }),\n        form: ({ containerWidth }) => ({\n            width: containerWidth,\n            maxWidth: \"100%\",\n            height: \"100%\",\n            overflow: \"auto\",\n            [theme.breakpoints.down(\"sm\")]: {\n                maxWidth: CONTAINER_FULL_WIDTH,\n                width: CONTAINER_FULL_WIDTH\n            }\n        }),\n        tabBar: {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            paddingTop: theme.spacing(0)\n        },\n        tab: {\n            fontSize: \"0.875rem\",\n            minWidth: \"140px\"\n        }\n    })\n);\n\n\nexport interface EntityViewProps<M, UserType> {\n    path: string;\n    schema: EntitySchema<M> | EntitySchemaResolver<M>;\n    entityId?: string;\n    copy?: boolean;\n    selectedSubpath?: string;\n    permissions?: PermissionsBuilder<M, UserType>;\n    callbacks?: EntityCallbacks<M>;\n    subcollections?: EntityCollection[];\n    width?: number | string;\n    onModifiedValues: (modified: boolean) => void;\n}\n\n\nexport function EntityView<M extends { [Key: string]: any }, UserType>({\n                                                                           path,\n                                                                           entityId,\n                                                                           callbacks,\n                                                                           selectedSubpath,\n                                                                           copy,\n                                                                           permissions,\n                                                                           schema: schemaOrResolver,\n                                                                           subcollections,\n                                                                           onModifiedValues,\n                                                                           width\n                                                                       }: EntityViewProps<M, UserType>) {\n\n    const resolvedWidth: string | undefined = typeof width === \"number\" ? `${width}px` : width;\n    const classes = useStylesSide({ containerWidth: resolvedWidth ?? CONTAINER_WIDTH });\n\n    const dataSource = useDataSource();\n    const sideEntityController = useSideEntityController();\n    const snackbarContext = useSnackbarController();\n    const context = useFireCMSContext();\n    const authController = useAuthController<UserType>();\n\n    const [status, setStatus] = useState<EntityStatus>(copy ? \"copy\" : (entityId ? \"existing\" : \"new\"));\n    const [currentEntityId, setCurrentEntityId] = useState<string | undefined>(entityId);\n    const [readOnly, setReadOnly] = useState<boolean>(false);\n    const [tabsPosition, setTabsPosition] = React.useState(-1);\n\n    const [modifiedValues, setModifiedValues] = useState<EntityValues<any> | undefined>();\n\n    const {\n        entity,\n        dataLoading,\n        // eslint-disable-next-line no-unused-vars\n        dataLoadingError\n    } = useEntityFetch({\n        path,\n        entityId: currentEntityId,\n        schema: schemaOrResolver,\n        useCache: false\n    });\n\n    const resolvedSchema:ResolvedEntitySchema<M> = useMemo(() => computeSchema({\n        schemaOrResolver,\n        path,\n        entityId,\n        values: modifiedValues,\n        previousValues: entity?.values\n    }), [schemaOrResolver, path, entityId, modifiedValues]);\n\n    useEffect(() => {\n        function beforeunload(e: any) {\n            if (modifiedValues) {\n                e.preventDefault();\n                e.returnValue = `You have unsaved changes in this ${resolvedSchema.name}. Are you sure you want to leave this page?`;\n            }\n        }\n\n        if (typeof window !== \"undefined\")\n            window.addEventListener(\"beforeunload\", beforeunload);\n\n        return () => {\n            if (typeof window !== \"undefined\")\n                window.removeEventListener(\"beforeunload\", beforeunload);\n        };\n\n    }, [modifiedValues, window]);\n\n    const customViews = resolvedSchema.views;\n    const customViewsCount = customViews?.length ?? 0;\n\n    useEffect(() => {\n        if (entity)\n            setReadOnly(!canEdit(permissions, entity, authController, path, context));\n    }, [entity, permissions]);\n\n    const theme = useTheme();\n    const largeLayout = useMediaQuery(theme.breakpoints.up(\"lg\"));\n\n    useEffect(() => {\n        if (!selectedSubpath)\n            setTabsPosition(-1);\n\n        if (customViews) {\n            const index = customViews\n                .map((c) => c.path)\n                .findIndex((p) => p === selectedSubpath);\n            setTabsPosition(index);\n        }\n\n        if (subcollections && selectedSubpath) {\n            const index = subcollections\n                .map((c) => c.path)\n                .findIndex((p) => p === selectedSubpath);\n            setTabsPosition(index + customViewsCount);\n        }\n    }, [selectedSubpath]);\n\n\n    const onPreSaveHookError = useCallback((e: Error) => {\n        snackbarContext.open({\n            type: \"error\",\n            title: \"Error before saving\",\n            message: e?.message\n        });\n        console.error(e);\n    }, []);\n\n    const onSaveSuccessHookError = useCallback((e: Error) => {\n        snackbarContext.open({\n            type: \"error\",\n            title: `${resolvedSchema.name}: Error after saving (entity is saved)`,\n            message: e?.message\n        });\n        console.error(e);\n    }, []);\n\n    const onSaveSuccess = useCallback((updatedEntity: Entity<M>) => {\n\n        setCurrentEntityId(updatedEntity.id);\n\n        snackbarContext.open({\n            type: \"success\",\n            message: `${resolvedSchema.name}: Saved correctly`\n        });\n\n        setStatus(\"existing\");\n        onModifiedValues(false);\n\n        if (tabsPosition === -1)\n            sideEntityController.close();\n\n    }, []);\n\n    const onSaveFailure = useCallback((e: Error) => {\n\n        snackbarContext.open({\n            type: \"error\",\n            title: `${resolvedSchema.name}: Error saving`,\n            message: e?.message\n        });\n\n        console.error(\"Error saving entity\", path, entityId);\n        console.error(e);\n    }, []);\n\n    const onEntitySave = useCallback(async ({\n                                                schema,\n                                                path,\n                                                entityId,\n                                                values,\n                                                previousValues\n                                            }: {\n        schema: EntitySchema<M>,\n        path: string,\n        entityId: string | undefined,\n        values: EntityValues<M>,\n        previousValues?: EntityValues<M>,\n    }): Promise<void> => {\n\n        if (!status)\n            return;\n\n        return saveEntityWithCallbacks({\n            path,\n            entityId,\n            callbacks,\n            values,\n            previousValues,\n            schema,\n            status,\n            dataSource,\n            context,\n            onSaveSuccess,\n            onSaveFailure,\n            onPreSaveHookError,\n            onSaveSuccessHookError\n        });\n    }, [status, callbacks, dataSource, context, onSaveSuccess, onSaveFailure, onPreSaveHookError, onSaveSuccessHookError]);\n\n    const onDiscard = useCallback(() => {\n        if (tabsPosition === -1)\n            sideEntityController.close();\n    }, [sideEntityController, tabsPosition]);\n\n    const body = !readOnly\n? (\n            <Suspense fallback={<CircularProgressCenter/>}>\n                <EntityForm\n                    key={`form_${path}_${entity?.id ?? \"new\"}`}\n                    status={status}\n                    path={path}\n                    schemaOrResolver={schemaOrResolver}\n                    onEntitySave={onEntitySave as any}\n                    onDiscard={onDiscard}\n                    onValuesChanged={setModifiedValues}\n                    onModified={onModifiedValues}\n                    entity={entity}/>\n            </Suspense>\n    )\n: (\n        <Suspense fallback={<CircularProgressCenter/>}>\n            <EntityPreview\n                entity={entity}\n                path={path}\n                schema={resolvedSchema}/>\n        </Suspense>\n    );\n\n    const customViewsView: JSX.Element[] | undefined = customViews && customViews.map(\n        (customView, colIndex) => {\n            return (\n                <Box\n                    className={classes.subcollectionPanel}\n                    key={`custom_view_${customView.path}_${colIndex}`}\n                    role=\"tabpanel\"\n                    flexGrow={1}\n                    height={\"100%\"}\n                    width={\"100%\"}\n                    hidden={tabsPosition !== colIndex}>\n                    <ErrorBoundary>\n                        {customView.builder({\n                            schema: resolvedSchema,\n                            entity,\n                            modifiedValues: modifiedValues ?? entity?.values\n                        })}\n                    </ErrorBoundary>\n                </Box>\n            );\n        }\n    );\n\n    const subCollectionsViews = subcollections && subcollections.map(\n        (subcollection, colIndex) => {\n            const absolutePath = entity ? `${entity?.path}/${entity?.id}/${removeInitialAndTrailingSlashes(subcollection.path)}` : undefined;\n\n            return (\n                <Box\n                    className={classes.subcollectionPanel}\n                    key={`subcol_${subcollection.name}_${colIndex}`}\n                    role=\"tabpanel\"\n                    flexGrow={1}\n                    hidden={tabsPosition !== colIndex + customViewsCount}>\n                    {entity && absolutePath\n                        ? <Suspense fallback={<CircularProgressCenter/>}>\n                            <EntityCollectionView\n                                path={absolutePath}\n                                collection={subcollection}/>\n                        </Suspense>\n                        : <Box m={3}\n                             display={\"flex\"}\n                             alignItems={\"center\"}\n                             justifyContent={\"center\"}>\n                            <Box>\n                                You need to save your entity before\n                                adding additional collections\n                            </Box>\n                        </Box>\n                    }\n                </Box>\n            );\n        }\n    );\n\n    const getSelectedSubpath = useCallback((value: number) => {\n        if (value === -1) return undefined;\n\n        if (customViews && value < customViewsCount) {\n            return customViews[value].path;\n        }\n\n        if (subcollections) {\n            return subcollections[value - customViewsCount].path;\n        }\n\n        throw Error(\"Something is wrong in getSelectedSubpath\");\n    }, [customViews]);\n\n    const onSideTabClick = useCallback((value: number) => {\n        setTabsPosition(value);\n        if (entityId) {\n            sideEntityController.open({\n                path,\n                entityId,\n                selectedSubpath: getSelectedSubpath(value),\n                overrideSchemaRegistry: false\n            });\n        }\n    }, []);\n\n    const header = (\n        <Box sx={{\n            paddingLeft: 2,\n            paddingRight: 2,\n            paddingTop: 2,\n            display: \"flex\",\n            alignItems: \"center\",\n            backgroundColor: theme.palette.mode === \"light\" ? theme.palette.background.default : theme.palette.background.paper\n        }}\n        >\n\n            <IconButton onClick={(e) => sideEntityController.close()}\n                        size=\"large\">\n                <CloseIcon/>\n            </IconButton>\n\n            <Tabs\n                value={tabsPosition === -1 ? 0 : false}\n                indicatorColor=\"secondary\"\n                textColor=\"inherit\"\n                scrollButtons=\"auto\"\n            >\n                <Tab\n                    label={resolvedSchema.name}\n                    classes={{\n                        root: classes.tab\n                    }}\n                    wrapped={true}\n                    onClick={() => {\n                        onSideTabClick(-1);\n                    }}/>\n            </Tabs>\n\n            <Box flexGrow={1}/>\n\n            {dataLoading &&\n            <CircularProgress size={16} thickness={8}/>}\n\n            <Tabs\n                value={tabsPosition >= 0 ? tabsPosition : false}\n                indicatorColor=\"secondary\"\n                textColor=\"inherit\"\n                onChange={(ev, value) => {\n                    onSideTabClick(value);\n                }}\n                className={classes.tabBar}\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n            >\n\n                {customViews && customViews.map(\n                    (view) =>\n                        <Tab\n                            classes={{\n                                root: classes.tab\n                            }}\n                            wrapped={true}\n                            key={`entity_detail_custom_tab_${view.name}`}\n                            label={view.name}/>\n                )}\n\n                {subcollections && subcollections.map(\n                    (subcollection) =>\n                        <Tab\n                            classes={{\n                                root: classes.tab\n                            }}\n                            wrapped={true}\n                            key={`entity_detail_collection_tab_${subcollection.name}`}\n                            label={subcollection.name}/>\n                )}\n\n            </Tabs>\n        </Box>\n\n    );\n\n    return <div\n        className={clsx(classes.container, { [classes.containerWide]: tabsPosition !== -1 })}>\n        {\n            dataLoading\n                ? <CircularProgressCenter/>\n                : <>\n\n                    {header}\n\n                    <Divider/>\n\n                    <div className={classes.tabsContainer}>\n\n                        <Box\n                            role=\"tabpanel\"\n                            hidden={!largeLayout && tabsPosition !== -1}\n                            className={classes.form}>\n                            {body}\n                        </Box>\n\n                        {customViewsView}\n\n                        {subCollectionsViews}\n\n                    </div>\n\n                </>\n        }\n\n    </div>;\n}\n\n","import React, { useCallback } from \"react\";\nimport { Blocker, Transition } from \"history\";\nimport { UNSAFE_NavigationContext, useNavigate } from \"react-router-dom\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\n\nexport function useNavigationUnsavedChangesDialog(when: boolean, onSuccess: () => void):\n    {\n        navigationWasBlocked: boolean,\n        handleCancel: () => void,\n        handleOk: () => void\n    } {\n\n    const [nextLocation, setNextLocation] = React.useState<any | undefined>();\n    const { navigator } = React.useContext(UNSAFE_NavigationContext);\n\n    const navigate = useNavigate();\n\n    const handleCancel = () => {\n        setNextLocation(undefined);\n    };\n\n    const handleOk = () => {\n        onSuccess();\n        setNextLocation(undefined);\n        navigate(-1);\n    };\n\n    const blocker: Blocker = useCallback(({ action, location: nextLocation, retry }) => {\n        switch (action) {\n            case \"REPLACE\": {\n                retry();\n                return;\n            }\n            case \"POP\": {\n                setNextLocation(nextLocation);\n\n            }\n        }\n    }, []);\n\n    React.useEffect(() => {\n        if (!when) return;\n        if (nextLocation) return;\n        if (!(\"block\" in navigator)) return;\n        const unblock = (navigator as any).block((tx: Transition) => {\n            const autoUnblockingTx = {\n                ...tx,\n                retry() {\n                    unblock();\n                    tx.retry();\n                }\n            };\n            blocker(autoUnblockingTx);\n        });\n\n        return unblock;\n    }, [navigator, blocker, when, nextLocation]);\n\n    return { navigationWasBlocked: Boolean(nextLocation), handleCancel, handleOk };\n}\n\nexport interface UnsavedChangesDialogProps {\n    open: boolean;\n    schemaName: string;\n    handleOk: () => void;\n    handleCancel: () => void;\n}\n\nexport function UnsavedChangesDialog({\n                                         open,\n                                         handleOk,\n                                         handleCancel,\n                                         schemaName\n                                     }: UnsavedChangesDialogProps) {\n\n    return (\n        <Dialog\n            open={open}\n            onClose={handleCancel}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {\"Unsaved changes\"}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    You have unsaved changes in this <b>{schemaName}</b>.\n                </DialogContentText>\n                <DialogContentText id=\"alert-dialog-description\">\n                    Are you sure you want to leave this page?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCancel} autoFocus> Cancel </Button>\n                <Button onClick={handleOk}> Ok </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import React, { useMemo, useState } from \"react\";\nimport { EntityCollectionResolver, SideEntityPanelProps } from \"../models\";\nimport { SideDialogDrawer } from \"./internal/SideDialogDrawer\";\nimport { EntityView } from \"./internal/EntityView\";\nimport { CONTAINER_WIDTH } from \"./internal/common\";\nimport { useNavigation, useSideEntityController } from \"../hooks\";\nimport { ErrorBoundary } from \"./internal/ErrorBoundary\";\nimport {\n    UnsavedChangesDialog,\n    useNavigationUnsavedChangesDialog\n} from \"./internal/useUnsavedChangesDialog\";\nimport { computeSchema } from \"./utils\";\n\n/**\n * This is the component in charge of rendering the side dialogs used\n * for editing entities. Use the {@link useSideEntityController} to open\n * and control the dialogs.\n * This component needs a parent {@link FireCMS}\n * {@see useSideEntityController}\n * @category Components\n */\nexport function SideEntityDialogs() {\n\n    const sideEntityController = useSideEntityController();\n\n    const sidePanels = sideEntityController.sidePanels;\n\n    //  we add an extra closed drawer, that it is used to maintain the transition when a drawer is removed\n    const allPanels = [...sidePanels, undefined];\n\n    return <>\n        {\n            allPanels.map((panel: SideEntityPanelProps | undefined, index) =>\n                (\n                    <SideEntityDialog\n                        key={`side_entity_dialog_${index}`}\n                        panel={panel}\n                        offsetPosition={sidePanels.length - index - 1}/>\n\n                ))\n        }\n    </>;\n}\n\nfunction SideEntityDialog({\n                              panel,\n                              offsetPosition\n                          }: { panel?: SideEntityPanelProps, offsetPosition: number }) {\n\n    // have the original values of the form changed?\n    const [modifiedValues, setModifiedValues] = useState(false);\n    // was the closing of the dialog requested by the drawer\n    const [drawerCloseRequested, setDrawerCloseRequested] = useState(false);\n\n    const {\n        navigationWasBlocked,\n        handleOk: handleNavigationOk,\n        handleCancel: handleNavigationCancel\n    } = useNavigationUnsavedChangesDialog(\n        modifiedValues && !drawerCloseRequested,\n        () => setModifiedValues(false)\n    );\n\n    const handleDrawerCloseOk = () => {\n        setModifiedValues(false);\n        setDrawerCloseRequested(false);\n        sideEntityController.close();\n    };\n    const handleDrawerCloseCancel = () => {\n        setDrawerCloseRequested(false);\n    };\n\n    const sideEntityController = useSideEntityController();\n    const navigationContext = useNavigation();\n\n\n    const schemaProps: EntityCollectionResolver | undefined = !panel ? undefined : navigationContext.getCollectionResolver(panel.path, panel.entityId);\n    if (panel && !schemaProps) {\n        throw Error(\"ERROR: You are trying to open an entity with no schema defined.\");\n    }\n\n    const schema = useMemo(() => {\n        if (!panel) return undefined;\n        return computeSchema({\n            schemaOrResolver: schemaProps!.schemaResolver,\n            path: panel.path,\n            entityId: panel.entityId\n        });\n    }, [panel, schemaProps]);\n\n\n    if (!panel || !schema) {\n        return <SideDialogDrawer\n            open={false}\n            offsetPosition={offsetPosition}>\n            <div style={{ width: CONTAINER_WIDTH }}/>\n        </SideDialogDrawer>;\n    }\n\n    return (\n        <>\n\n            <SideDialogDrawer\n                open={Boolean(panel)}\n                onClose={() => {\n                    if (modifiedValues) {\n                        setDrawerCloseRequested(true);\n                    } else {\n                        sideEntityController.close();\n                    }\n                }}\n                offsetPosition={offsetPosition}\n            >\n                 <ErrorBoundary>\n                    <EntityView\n                        {...schemaProps}\n                        {...panel}\n                        schema={schemaProps!.schemaResolver}\n                        onModifiedValues={setModifiedValues}\n                    />\n                </ErrorBoundary>\n            </SideDialogDrawer>\n\n            <UnsavedChangesDialog\n                open={navigationWasBlocked || drawerCloseRequested}\n                handleOk={drawerCloseRequested ? handleDrawerCloseOk : handleNavigationOk}\n                handleCancel={drawerCloseRequested ? handleDrawerCloseCancel : handleNavigationCancel}\n                schemaName={schema.name}/>\n\n        </>\n    );\n}\n\n","import { pink, red } from \"@mui/material/colors\";\nimport { createTheme, Theme } from \"@mui/material\";\n\n/**\n * Use this function to build the default FireCMS MUI5 theme,\n * with some overrides.\n * @category Hooks and utilities\n */\nexport const createCMSDefaultTheme = (\n    { mode, primaryColor, secondaryColor, fontFamily }: {\n        mode: \"light\" | \"dark\";\n        primaryColor?: string;\n        secondaryColor?: string;\n        fontFamily?: string;\n    }): Theme => {\n\n    const original = createTheme({\n        palette: {\n            mode: mode,\n            background: {\n                default: mode === \"dark\" ? \"#242424\" : \"#f6f7f8\"\n                // default: mode === \"dark\" ? \"#242424\" : \"rgb(240 240 240)\"\n            },\n            primary: {\n                main: primaryColor || \"#0070f4\"\n            },\n            secondary: {\n                main: secondaryColor || pink[\"400\"]\n            },\n            error: {\n                main: red.A400\n            }\n        },\n        typography: {\n            fontFamily: fontFamily || \"\\\"Rubik\\\", \\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n            fontWeightMedium: 500,\n            h6: {\n                fontWeight: 500,\n                fontSize: \"1.15rem\"\n            }\n        },\n        components: {\n            MuiButton: {\n                styleOverrides: {\n                    root: {\n                        borderRadius: 4\n                    }\n                }\n            },\n            MuiTableRow: {\n                styleOverrides: {\n                    root: {\n                        \"&:last-child td\": {\n                            borderBottom: 0\n                        }\n                    }\n                }\n            },\n            MuiTypography: {\n                styleOverrides: {\n                    root: {\n                        \"&.mono\": {\n                            fontFamily: \"'Space Mono', 'Lucida Console', monospace\"\n                        },\n                        \"&.weight-500\": {\n                            fontWeight: 500\n                        }\n                    }\n                }\n            },\n            MuiInputBase: {\n                styleOverrides: {\n                    root: {\n                        \"&.mono\": {\n                            fontFamily: \"'Space Mono', 'Lucida Console', monospace\"\n                        }\n                    }\n                }\n            }\n        }\n    });\n\n    return {\n        ...original\n        // shadows: original.shadows.map((value, index) => {\n        //     if (index == 1) return \"0 1px 1px 0 rgb(0 0 0 / 16%)\";\n        //     else return value;\n        // })\n    };\n};\n","import {\n    AdditionalColumnDelegate,\n    ArrayProperty,\n    BooleanProperty,\n    CMSType,\n    EntityCallbacks,\n    EntityCollection,\n    EntitySchema,\n    EnumValueConfig,\n    EnumValues,\n    GeopointProperty,\n    MapProperty,\n    Navigation,\n    NavigationBuilder,\n    NumberProperty,\n    Properties,\n    PropertiesOrBuilder,\n    PropertyBuilder,\n    PropertyOrBuilder,\n    ReferenceProperty,\n    StringProperty,\n    TimestampProperty,\n    User\n} from \"../models\";\n\n\n/**\n * Identity function we use to defeat the type system of Typescript and build\n * navigation objects with all its properties\n * @param navigation\n * @category Builder\n */\nexport function buildNavigation<UserType>(\n    navigation: Navigation | NavigationBuilder<UserType>\n): Navigation | NavigationBuilder<UserType> {\n    return navigation;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and build\n * collection views with all its properties\n * @param collectionView\n * @category Builder\n */\nexport function buildCollection<M extends { [Key: string]: any },\n    AdditionalKey extends string = string>(\n    collectionView: EntityCollection<M, AdditionalKey>\n): EntityCollection<M, AdditionalKey> {\n    return collectionView;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the schema keys\n * @param schema\n * @category Builder\n */\nexport function buildSchema<M extends { [Key: string]: any }>(\n    schema: EntitySchema<M>\n): EntitySchema<M> {\n    return schema;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the property keys.\n * @param property\n * @category Builder\n */\nexport function buildProperty<T extends CMSType, P extends PropertyOrBuilder<T, any> = PropertyOrBuilder<T, any>>(\n    property: P\n): P extends StringProperty ? StringProperty :\n    P extends NumberProperty ? NumberProperty :\n        P extends BooleanProperty ? BooleanProperty :\n            P extends TimestampProperty ? TimestampProperty :\n                P extends GeopointProperty ? GeopointProperty :\n                    P extends ReferenceProperty ? ReferenceProperty :\n                        P extends ArrayProperty ? ArrayProperty :\n                            P extends MapProperty ? MapProperty :\n                                P extends PropertyBuilder<T, any> ? PropertyBuilder<T, any> : any {\n    return property as any;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the properties keys.\n * @param properties\n * @category Builder\n */\nexport function buildProperties<M>(\n    properties: Properties<M>\n): Properties<M> {\n    return properties;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the properties keys.\n * @param propertiesOrBuilder\n * @category Builder\n */\nexport function buildPropertiesOrBuilder<M>(\n    propertiesOrBuilder: PropertiesOrBuilder<M>\n): PropertiesOrBuilder<M> {\n    return propertiesOrBuilder;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the properties keys.\n * @param enumValues\n * @category Builder\n */\nexport function buildEnumValues(\n    enumValues: EnumValues\n): EnumValues {\n    return enumValues;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the properties keys.\n * @param enumValueConfig\n * @category Builder\n */\nexport function buildEnumValueConfig(\n    enumValueConfig: EnumValueConfig\n): EnumValueConfig {\n    return enumValueConfig;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and preserve\n * the properties keys.\n * @param callbacks\n * @category Builder\n */\nexport function buildEntityCallbacks<M>(\n    callbacks: EntityCallbacks<M>\n): EntityCallbacks<M> {\n    return callbacks;\n}\n\n/**\n * Identity function we use to defeat the type system of Typescript and build\n * additional column delegates views with all its properties\n * @param additionalColumnDelegate\n * @category Builder\n */\nexport function buildAdditionalColumnDelegate<M extends { [Key: string]: any }, AdditionalKey extends string = string, UserType = User>(\n    additionalColumnDelegate: AdditionalColumnDelegate<M, AdditionalKey, UserType>\n): AdditionalColumnDelegate<M, AdditionalKey, UserType> {\n    return additionalColumnDelegate;\n}\n","import { useEffect, useState } from \"react\";\n\nimport {\n    Auth,\n    FacebookAuthProvider,\n    fetchSignInMethodsForEmail,\n    getAuth,\n    GithubAuthProvider,\n    GoogleAuthProvider,\n    OAuthProvider,\n    onAuthStateChanged,\n    signInWithEmailAndPassword,\n    signInWithPopup,\n    signOut,\n    TwitterAuthProvider,\n    User as FirebaseUser\n} from \"firebase/auth\";\nimport { FirebaseApp } from \"firebase/app\";\nimport { AuthDelegate } from \"../../models\";\nimport {\n    FirebaseAuthDelegate,\n    FirebaseSignInOption,\n    FirebaseSignInProvider\n} from \"../models/auth\";\nimport {\n    createUserWithEmailAndPassword,\n    signInAnonymously\n} from \"@firebase/auth\";\n\ninterface FirebaseAuthHandlerProps {\n    firebaseApp?: FirebaseApp;\n    signInOptions: Array<FirebaseSignInProvider | FirebaseSignInOption>;\n}\n\n/**\n * Use this hook to build an {@link AuthDelegate} based on Firebase Auth\n * @category Firebase\n */\nexport const useFirebaseAuthDelegate = (\n    {\n        firebaseApp,\n        signInOptions\n    }: FirebaseAuthHandlerProps): FirebaseAuthDelegate => {\n\n    const [loggedUser, setLoggedUser] = useState<FirebaseUser | null | undefined>(undefined); // logged user, anonymous or logged out\n    const [authProviderError, setAuthProviderError] = useState<any>();\n    const [initialLoading, setInitialLoading] = useState(true);\n    const [authLoading, setAuthLoading] = useState(true);\n    const [loginSkipped, setLoginSkipped] = useState<boolean>(false);\n\n    function skipLogin() {\n        setLoginSkipped(true);\n        setLoggedUser(null);\n    }\n\n    useEffect(() => {\n        if (!firebaseApp) return;\n        const auth = getAuth(firebaseApp);\n        setLoggedUser(auth.currentUser)\n        return onAuthStateChanged(\n            auth,\n            updateFirebaseUser,\n            error => setAuthProviderError(error)\n        );\n    }, [firebaseApp]);\n\n    const updateFirebaseUser = async (firebaseUser: FirebaseUser | null) => {\n        setLoggedUser(firebaseUser);\n        setInitialLoading(false);\n        setAuthLoading(false);\n    };\n\n    function onSignOut() {\n        const auth = getAuth(firebaseApp);\n        signOut(auth)\n            .then(_ => {\n                setLoggedUser(null);\n                setAuthProviderError(null);\n            });\n        setLoginSkipped(false);\n    }\n\n    const getProviderOptions = (providerId: FirebaseSignInProvider): FirebaseSignInOption | undefined => {\n        return signInOptions.find((option) => {\n            if (option === null) throw Error(\"useFirebaseAuthDelegate\");\n            if (typeof option === \"object\" && option.provider === providerId)\n                return option as FirebaseSignInOption;\n            return undefined;\n        }) as FirebaseSignInOption | undefined;\n    }\n\n    const googleLogin = () => {\n        const provider = new GoogleAuthProvider();\n        const options = getProviderOptions(\"google.com\");\n        if (options?.scopes)\n            options.scopes.forEach((scope) => provider.addScope(scope));\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        signInWithPopup(auth, provider).catch(setAuthProviderError);\n    }\n\n    function doOauthLogin(auth: Auth, provider: OAuthProvider | FacebookAuthProvider | GithubAuthProvider | TwitterAuthProvider) {\n        setAuthLoading(true);\n        signInWithPopup(auth, provider)\n            .catch(setAuthProviderError)\n            .then(() => setAuthLoading(false));\n    }\n\n    const anonymousLogin = () => {\n        const auth = getAuth();\n        setAuthLoading(true);\n        signInAnonymously(auth)\n            .catch(setAuthProviderError)\n            .then(() => setAuthLoading(false));\n    }\n\n    const appleLogin = () => {\n        const provider = new OAuthProvider(\"apple.com\");\n        const options = getProviderOptions(\"apple.com\");\n        if (options?.scopes)\n            options.scopes.forEach((scope) => provider.addScope(scope));\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        doOauthLogin(auth, provider);\n    }\n\n    const facebookLogin = () => {\n        const provider = new FacebookAuthProvider();\n        const options = getProviderOptions(\"facebook.com\");\n        if (options?.scopes)\n            options.scopes.forEach((scope) => provider.addScope(scope));\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        doOauthLogin(auth, provider);\n    }\n\n    const githubLogin = () => {\n        const provider = new GithubAuthProvider();\n        const options = getProviderOptions(\"github.com\");\n        if (options?.scopes)\n            options.scopes.forEach((scope) => provider.addScope(scope));\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        doOauthLogin(auth, provider);\n    }\n\n    const microsoftLogin = () => {\n        const provider = new OAuthProvider(\"microsoft.com\");\n        const options = getProviderOptions(\"microsoft.com\");\n        if (options?.scopes)\n            options.scopes.forEach((scope) => provider.addScope(scope));\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        doOauthLogin(auth, provider);\n    }\n\n    const twitterLogin = () => {\n        const provider = new TwitterAuthProvider();\n        const options = getProviderOptions(\"twitter.com\");\n        if (options?.customParameters)\n            provider.setCustomParameters(options.customParameters);\n        const auth = getAuth();\n        doOauthLogin(auth, provider);\n    }\n\n    const emailPasswordLogin = (email: string, password: string) => {\n        const auth = getAuth();\n        setAuthLoading(true);\n        signInWithEmailAndPassword(auth, email, password)\n            .catch(setAuthProviderError)\n            .then(() => setAuthLoading(false));\n    }\n\n    const registerWithPasswordEmail = (email: string, password: string) => {\n        const auth = getAuth();\n        setAuthLoading(true);\n        createUserWithEmailAndPassword(auth, email, password)\n            .catch(setAuthProviderError)\n            .then(() => setAuthLoading(false));\n    }\n\n    const getSignInMethodsForEmail = (email: string): Promise<string[]> => {\n        const auth = getAuth();\n        setAuthLoading(true);\n        return fetchSignInMethodsForEmail(auth, email)\n            .then((res) => {\n                setAuthLoading(false);\n                return res;\n            });\n    }\n\n    return {\n        user: loggedUser ?? null,\n        authError: authProviderError,\n        authLoading,\n        initialLoading,\n        signOut: onSignOut,\n        loginSkipped,\n        skipLogin,\n        googleLogin,\n        anonymousLogin,\n        appleLogin,\n        facebookLogin,\n        githubLogin,\n        microsoftLogin,\n        twitterLogin,\n        emailPasswordLogin,\n        fetchSignInMethodsForEmail: getSignInMethodsForEmail,\n        createUserWithEmailAndPassword: registerWithPasswordEmail\n    };\n};\n","import {\n    DataSource,\n    DeleteEntityProps,\n    Entity,\n    EntityReference,\n    EntitySchema,\n    EntitySchemaResolver,\n    EntityValues,\n    FetchCollectionProps,\n    FetchEntityProps,\n    FilterValues,\n    GeoPoint,\n    ListenCollectionProps,\n    ListenEntityProps,\n    Properties,\n    Property,\n    ResolvedEntitySchema,\n    SaveEntityProps,\n    WhereFilterOp\n} from \"../../models\";\nimport {\n    computeSchema,\n    sanitizeData,\n    updateAutoValues\n} from \"../../core/utils\";\nimport {\n    collection,\n    CollectionReference,\n    deleteDoc,\n    doc,\n    DocumentReference,\n    DocumentSnapshot,\n    Firestore,\n    GeoPoint as FirestoreGeoPoint,\n    getDoc,\n    getDocs,\n    getFirestore,\n    limit as limitClause,\n    onSnapshot,\n    orderBy as orderByClause,\n    Query,\n    query,\n    serverTimestamp,\n    setDoc,\n    startAfter as startAfterClause,\n    Timestamp,\n    where as whereClause\n} from \"firebase/firestore\";\nimport { FirebaseApp } from \"firebase/app\";\nimport { FirestoreTextSearchController } from \"../models/text_search\";\nimport { useEffect, useRef } from \"react\";\n\n/**\n * @category Firebase\n */\nexport interface FirestoreDataSourceProps {\n    firebaseApp?: FirebaseApp,\n    textSearchController?: FirestoreTextSearchController,\n}\n\n/**\n * Use this hook to build a {@link DataSource} based on Firestore\n * @param firebaseApp\n * @param textSearchController\n * @category Firebase\n */\nexport function useFirestoreDataSource({\n                                           firebaseApp,\n                                           textSearchController\n                                       }: FirestoreDataSourceProps): DataSource {\n\n    const firestoreRef = useRef<Firestore>();\n    const firestore = firestoreRef.current;\n\n    useEffect(() => {\n        if (!firebaseApp) return;\n        firestoreRef.current = getFirestore(firebaseApp);\n    }, [firebaseApp]);\n\n\n    /**\n     *\n     * @param doc\n     * @param path\n     * @param resolvedSchema\n     * @category Firestore\n     */\n    function createEntityFromSchema<M extends { [Key: string]: any }>\n    (\n        doc: DocumentSnapshot,\n        path: string,\n        resolvedSchema: ResolvedEntitySchema<M>\n    ): Entity<M> {\n\n        const values = firestoreToCMSModel(doc.data());\n        const data = doc.data()\n            ? resolvedSchema.properties\n                ? sanitizeData(values as EntityValues<M>, resolvedSchema.properties)\n                : doc.data()\n            : undefined;\n        return {\n            id: doc.id,\n            path: getCMSPathFromFirestorePath(doc.ref.path),\n            values: data\n        };\n    }\n\n    function buildQuery<M>(path: string, filter: FilterValues<M> | undefined, orderBy: string | undefined, order: \"desc\" | \"asc\" | undefined, startAfter: any[] | undefined, limit: number | undefined) {\n\n        if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n\n        const collectionReference: Query = collection(firestore, path);\n\n        const queryParams = [];\n        if (filter) {\n            Object.entries(filter)\n                .filter(([_, entry]) => !!entry)\n                .forEach(([key, filterParameter]) => {\n                    const [op, value] = filterParameter as [WhereFilterOp, any];\n                    queryParams.push(whereClause(key, op, cmsToFirestoreModel(value, firestore)));\n                });\n        }\n\n        if (filter && orderBy && order) {\n            Object.entries(filter).forEach(([key, value]) => {\n                if (key !== orderBy) {\n                    queryParams.push(orderByClause(key, \"asc\"));\n                }\n            });\n        }\n\n        if (orderBy && order) {\n            queryParams.push(orderByClause(orderBy, order));\n        }\n\n        if (startAfter) {\n            queryParams.push(startAfterClause(startAfter));\n        }\n\n        if (limit) {\n            queryParams.push(limitClause(limit));\n        }\n\n        return query(collectionReference, ...queryParams);\n    }\n\n    function getAndBuildEntity<M>(path: string,\n                                  entityId: string,\n                                  schema: EntitySchema<M> | EntitySchemaResolver<M>) {\n        if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n\n        return getDoc(doc(firestore, path, entityId))\n            .then((docSnapshot) => {\n                const resolvedSchema = computeSchema({\n                    schemaOrResolver: schema,\n                    entityId: docSnapshot.id,\n                    path\n                });\n                return createEntityFromSchema(docSnapshot, path, resolvedSchema);\n            });\n    }\n\n    async function performTextSearch<M>(path: string,\n                                        searchString: string,\n                                        schema: EntitySchema<M> | EntitySchemaResolver<M>): Promise<Entity<M>[]> {\n        if (!textSearchController)\n            throw Error(\"Trying to make text search without specifying a FirestoreTextSearchController\");\n        const ids = await textSearchController({ path, searchString });\n        if (ids === undefined)\n            throw Error(\"The current path is not supported by the specified FirestoreTextSearchController\");\n        const promises: Promise<Entity<M> | null>[] = ids\n            .map(async (entityId) => {\n                    try {\n                        return await getAndBuildEntity(path, entityId, schema);\n                    } catch (e) {\n                        console.error(e);\n                        return null;\n                    }\n                }\n            );\n        return Promise.all(promises)\n            .then((res) => res.filter((e) => e !== null && e.values) as Entity<M>[]);\n    }\n\n    return {\n\n        /**\n         * Fetch entities in a Firestore path\n         * @param path\n         * @param schema\n         * @param filter\n         * @param limit\n         * @param startAfter\n         * @param searchString\n         * @param orderBy\n         * @param order\n         * @return Function to cancel subscription\n         * @see useCollectionFetch if you need this functionality implemented as a hook\n         * @category Firestore\n         */\n        fetchCollection<M extends { [Key: string]: any }>({\n                                                              path,\n                                                              schema,\n                                                              filter,\n                                                              limit,\n                                                              startAfter,\n                                                              searchString,\n                                                              orderBy,\n                                                              order\n                                                          }: FetchCollectionProps<M>\n        ): Promise<Entity<M>[]> {\n\n            if (searchString) {\n                return performTextSearch(path, searchString, schema);\n            }\n\n            console.debug(\"Fetching collection\", path, limit, filter, startAfter, orderBy, order);\n            const query = buildQuery(path, filter, orderBy, order, startAfter, limit);\n\n            const resolvedSchema = computeSchema({\n                schemaOrResolver: schema,\n                path\n            });\n            return getDocs(query)\n                .then((snapshot) =>\n                    snapshot.docs.map((doc) => createEntityFromSchema(doc, path, resolvedSchema)));\n        },\n\n\n        /**\n         * Listen to a entities in a given path\n         * @param path\n         * @param schema\n         * @param onSnapshot\n         * @param onError\n         * @param filter\n         * @param limit\n         * @param startAfter\n         * @param orderBy\n         * @param order\n         * @return Function to cancel subscription\n         * @see useCollectionFetch if you need this functionality implemented as a hook\n         * @category Firestore\n         */\n        listenCollection<M extends { [Key: string]: any }>(\n            {\n                path,\n                schema,\n                filter,\n                limit,\n                startAfter,\n                searchString,\n                orderBy,\n                order,\n                onUpdate,\n                onError\n            }: ListenCollectionProps<M>\n        ): () => void {\n\n            console.debug(\"Listening collection\", path, limit, filter, startAfter, orderBy, order);\n\n            const query = buildQuery(path, filter, orderBy, order, startAfter, limit);\n\n            if (searchString) {\n                performTextSearch(path, searchString, schema)\n                    .then(onUpdate)\n                    .catch((e) => {\n                        if (onError) onError(e);\n                    });\n                return () => {\n                };\n            }\n\n            const resolvedSchema = computeSchema({\n                schemaOrResolver: schema,\n                path\n            });\n\n            return onSnapshot(query,\n                {\n                    next: (snapshot) => {\n                        onUpdate(snapshot.docs.map((doc) => createEntityFromSchema(doc, path, resolvedSchema)));\n                    },\n                    error: onError\n                }\n            );\n        },\n\n\n        /**\n         * Retrieve an entity given a path and a schema\n         * @param path\n         * @param entityId\n         * @param schema\n         * @category Firestore\n         */\n        fetchEntity<M extends { [Key: string]: any }>({\n                                                          path,\n                                                          entityId,\n                                                          schema\n                                                      }: FetchEntityProps<M>\n        ): Promise<Entity<M>> {\n            return getAndBuildEntity(path, entityId, schema);\n        },\n\n        /**\n         *\n         * @param path\n         * @param entityId\n         * @param schema\n         * @param onUpdate\n         * @param onError\n         * @return Function to cancel subscription\n         * @category Firestore\n         */\n        listenEntity<M extends { [Key: string]: any }>(\n            {\n                path,\n                entityId,\n                schema,\n                onUpdate,\n                onError\n            }: ListenEntityProps<M>): () => void {\n            if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n            // console.debug(\"Listening entity\", path, entityId);\n            return onSnapshot(\n                doc(firestore, path, entityId),\n                {\n                    next: (docSnapshot) => {\n                        const resolvedSchema = computeSchema({\n                            schemaOrResolver: schema,\n                            entityId: docSnapshot.id,\n                            path\n                        });\n                        onUpdate(createEntityFromSchema(docSnapshot, path, resolvedSchema));\n                    },\n                    error: onError\n                }\n            );\n        },\n\n\n        /**\n         * Save entity to the specified path. Note that Firestore does not allow\n         * undefined values.\n         * @param path\n         * @param entityId\n         * @param values\n         * @param schema\n         * @param status\n         * @category Firestore\n         */\n        saveEntity: async function <M extends { [Key: string]: any }>(\n            {\n                path,\n                entityId,\n                values,\n                schema,\n                status\n            }: SaveEntityProps<M>): Promise<Entity<M>> {\n\n            if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n            const resolvedSchema = computeSchema({\n                schemaOrResolver: schema,\n                entityId,\n                path\n            });\n            const properties: Properties<M> = resolvedSchema.properties;\n            const collectionReference: CollectionReference = collection(firestore, path);\n\n            const updatedFirestoreValues: EntityValues<M> = updateAutoValues(\n                {\n                    inputValues: values,\n                    properties,\n                    status,\n                    timestampNowValue: serverTimestamp(),\n                    referenceConverter: (value: EntityReference) => doc(firestore, value.path, value.id),\n                    geopointConverter: (value: GeoPoint) => new FirestoreGeoPoint(value.latitude, value.longitude)\n                });\n\n            console.debug(\"Saving entity\", path, entityId, updatedFirestoreValues);\n\n            let documentReference: DocumentReference;\n            if (entityId)\n                documentReference = doc(collectionReference, entityId);\n            else\n                documentReference = doc(collectionReference);\n\n            return setDoc(documentReference, updatedFirestoreValues, { merge: true }).then(() => ({\n                id: documentReference.id,\n                path: documentReference.path,\n                values: firestoreToCMSModel(updatedFirestoreValues) as EntityValues<M>\n            }));\n        },\n\n        /**\n         * Delete an entity\n         * @param entity\n         * @param schema\n         * @category Firestore\n         */\n        async deleteEntity<M extends { [Key: string]: any }>(\n            {\n                entity\n            }: DeleteEntityProps<M>\n        ): Promise<void> {\n            if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n            return deleteDoc(doc(firestore, entity.path, entity.id));\n        },\n\n        /**\n         * Check if the given property is unique in the given collection\n         * @param path Collection path\n         * @param name of the property\n         * @param value\n         * @param property\n         * @param entityId\n         * @return `true` if there are no other fields besides the given entity\n         * @category Firestore\n         */\n        checkUniqueField(\n            path: string,\n            name: string,\n            value: any,\n            property: Property,\n            entityId?: string\n        ): Promise<boolean> {\n\n            if (!firestore) throw Error(\"useFirestoreDataSource Firestore not initialised\");\n\n            console.debug(\"Check unique field entity\", path, name, value, entityId);\n\n            if (property.dataType === \"array\") {\n                console.error(\"checkUniqueField received an array\");\n            }\n\n            if (value === undefined || value === null) {\n                return Promise.resolve(true);\n            }\n            const q = query(collection(firestore, path), whereClause(name, \"==\", value));\n            return getDocs(q)\n                .then((snapshots) =>\n                    snapshots.docs.filter(doc => doc.id !== entityId).length === 0\n                );\n\n        }\n    };\n\n}\n\n\n/**\n * Recursive function that converts Firestore data types into CMS or plain\n * JS types.\n * FireCMS uses Javascript dates internally instead of Firestore timestamps.\n * This makes it easier to interact with the rest of the libraries and\n * bindings.\n * Also, Firestore references are replaced with {@link EntityReference}\n * @param data\n * @category Firestore\n */\nexport function firestoreToCMSModel<M>(data: any): any {\n    const traverse = (input: any): any => {\n        if (input == null) return input;\n        if (serverTimestamp().isEqual(input)) {\n            return null;\n        }\n        if (input instanceof Timestamp) {\n            return input.toDate();\n        }\n        if (input instanceof GeoPoint) {\n            return new GeoPoint(input.latitude, input.longitude);\n        }\n        if (input instanceof DocumentReference) {\n            return new EntityReference(input.id, getCMSPathFromFirestorePath(input.path));\n        }\n        if (Array.isArray(input)) {\n            return input.map(traverse);\n        }\n        if (typeof input === \"object\") {\n            const result = {}\n            for (const key of Object.keys(input)) {\n                result[key] = traverse(input[key]);\n            }\n            return result;\n        }\n        return input;\n    }\n    return traverse(data)\n}\n\nexport function cmsToFirestoreModel(data: any, firestore: Firestore): any {\n    if (Array.isArray(data)) {\n        return data.map(v => cmsToFirestoreModel(v, firestore));\n    } else if (data instanceof EntityReference) {\n        return doc(firestore, data.path, data.id);\n    } else if (data instanceof GeoPoint) {\n        return new FirestoreGeoPoint(data.latitude, data.longitude);\n    } else if (typeof data === \"object\") {\n        return Object.entries(data)\n            .map(([key, v]) => ({ [key]: cmsToFirestoreModel(v, firestore) }))\n            .reduce((a, b) => ({ ...a, ...b }), {});\n    }\n    return data;\n}\n\n/**\n * Remove id from Firestore path\n * @param fsPath\n */\nfunction getCMSPathFromFirestorePath(fsPath: string): string {\n    let to = fsPath.lastIndexOf(\"/\");\n    to = to === -1 ? fsPath.length : to;\n    return fsPath.substring(0, to);\n}\n","import { FirebaseApp } from \"firebase/app\";\nimport {\n    FirebaseStorage,\n    getDownloadURL,\n    getStorage,\n    ref,\n    uploadBytes\n} from \"firebase/storage\";\nimport { StorageSource, UploadFileProps } from \"../../models\";\nimport { useEffect, useState } from \"react\";\n\n/**\n * @category Firebase\n */\nexport interface FirebaseStorageSourceProps {\n    firebaseApp?: FirebaseApp\n}\n\n/**\n * Use this hook to build an {@link StorageSource} based on Firebase storage\n * @category Firebase\n */\nexport function useFirebaseStorageSource({ firebaseApp }: FirebaseStorageSourceProps): StorageSource {\n\n    const [storage, setStorage] = useState<FirebaseStorage>();\n\n    useEffect(() => {\n        if (!firebaseApp) return;\n        setStorage(getStorage(firebaseApp));\n    }, [firebaseApp]);\n\n    const urlsCache: any = {};\n\n    return {\n        uploadFile({ file, fileName, path, metadata }: UploadFileProps)\n            : Promise<any> {\n            if (!storage) throw Error(\"useFirebaseStorageSource Firebase not initialised\");\n            const usedFilename = fileName ?? file.name;\n            console.debug(\"Uploading file\", usedFilename, file, path, metadata);\n            return uploadBytes(ref(storage, `${path}/${usedFilename}`), file, metadata).then(snapshot => ({\n                path: snapshot.ref.fullPath\n            }));\n        },\n\n        getDownloadURL(storagePath: string): Promise<string> {\n            if (!storage) throw Error(\"useFirebaseStorageSource Firebase not initialised\");\n            if (urlsCache[storagePath])\n                return urlsCache[storagePath];\n            const downloadURL = getDownloadURL(ref(storage, storagePath));\n            urlsCache[storagePath] = downloadURL;\n            return downloadURL;\n        }\n    };\n}\n","import React, { useCallback, useEffect } from \"react\";\n\nimport { FirebaseApp, initializeApp } from \"firebase/app\";\n\n/**\n * @category Firebase\n */\nexport interface InitialiseFirebaseResult {\n    firebaseConfigLoading: boolean,\n    firebaseApp?: FirebaseApp;\n    configError?: string,\n    firebaseConfigError?: Error\n}\n\n/**\n * Function used to initialise Firebase, either by using the provided config,\n * or by fetching it by Firebase Hosting, if not specified.\n *\n * It works as a hook that gives you the loading state and the used\n * configuration.\n *\n * You most likely only need to use this if you are developing a custom app\n * that is not using {@link FirebaseCMSApp}. You can also not use this component\n * and initialise Firebase yourself.\n *\n * @param onFirebaseInit\n * @param firebaseConfig\n * @category Firebase\n */\nexport function useInitialiseFirebase({ firebaseConfig, onFirebaseInit }: {\n    onFirebaseInit?: ((config: object) => void) | undefined,\n    firebaseConfig: Object | undefined\n}): InitialiseFirebaseResult {\n\n    const [firebaseApp, setFirebaseApp] = React.useState<FirebaseApp | undefined>();\n    const [firebaseConfigLoading, setFirebaseConfigLoading] = React.useState<boolean>(false);\n    const [configError, setConfigError] = React.useState<string>();\n    const [firebaseConfigError, setFirebaseConfigError] = React.useState<Error | undefined>();\n\n    const initFirebase = useCallback((config: Object) => {\n        try {\n            const initialisedFirebaseApp = initializeApp(config);\n            setFirebaseConfigError(undefined);\n            setFirebaseConfigLoading(false);\n            if (onFirebaseInit)\n                onFirebaseInit(config);\n            setFirebaseApp(initialisedFirebaseApp);\n        } catch (e: any) {\n            console.error(e);\n            setFirebaseConfigError(e);\n        }\n    }, [onFirebaseInit]);\n\n    useEffect(() => {\n\n        setFirebaseConfigLoading(true);\n\n        if (firebaseConfig) {\n            console.log(\"Using specified config\", firebaseConfig);\n            initFirebase(firebaseConfig);\n        } else if (process.env.NODE_ENV === \"production\") {\n            fetch(\"/__/firebase/init.json\")\n                .then(async response => {\n                    console.debug(\"Firebase init response\", response.status);\n                    if (response && response.status < 300) {\n                        const config = await response.json();\n                        console.log(\"Using configuration fetched from Firebase Hosting\", config);\n                        initFirebase(config);\n                    }\n                })\n                .catch(e => {\n                        setFirebaseConfigLoading(false);\n                        setConfigError(\n                            \"Could not load Firebase configuration from Firebase hosting. \" +\n                            \"If the app is not deployed in Firebase hosting, you need to specify the configuration manually\" +\n                            e.toString()\n                        );\n                    }\n                );\n        } else {\n            setFirebaseConfigLoading(false);\n            setConfigError(\n                \"You need to deploy the app to Firebase hosting or specify a Firebase configuration object\"\n            );\n        }\n    }, [firebaseConfig, initFirebase]);\n\n    return {\n        firebaseApp,\n        firebaseConfigLoading,\n        configError,\n        firebaseConfigError\n    };\n}\n","export const googleIcon = (mode: \"light\" | \"dark\") => <>\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 64 64\"\n        width={32}\n        height={32}\n    >\n        <linearGradient\n            id=\"95yY7w43Oj6n2vH63j6HJb\"\n            x1=\"29.401\"\n            x2=\"29.401\"\n            y1=\"4.064\"\n            y2=\"106.734\"\n            gradientTransform=\"matrix(1 0 0 -1 0 66)\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop offset=\"0\" stopColor=\"#ff5840\"/>\n            <stop offset=\".007\" stopColor=\"#ff5840\"/>\n            <stop offset=\".989\" stopColor=\"#fa528c\"/>\n            <stop offset=\"1\" stopColor=\"#fa528c\"/>\n        </linearGradient>\n        <path\n            fill=\"url(#95yY7w43Oj6n2vH63j6HJb)\"\n            d=\"M47.46,15.5l-1.37,1.48c-1.34,1.44-3.5,1.67-5.15,0.6c-2.71-1.75-6.43-3.13-11-2.37 c-4.94,0.83-9.17,3.85-11.64, 7.97l-8.03-6.08C14.99,9.82,23.2,5,32.5,5c5,0,9.94,1.56,14.27,4.46 C48.81,10.83,49.13,13.71,47.46,15.5z\"\n        />\n        <linearGradient\n            id=\"95yY7w43Oj6n2vH63j6HJc\"\n            x1=\"12.148\"\n            x2=\"12.148\"\n            y1=\".872\"\n            y2=\"47.812\"\n            gradientTransform=\"matrix(1 0 0 -1 0 66)\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop offset=\"0\" stopColor=\"#feaa53\"/>\n            <stop offset=\".612\" stopColor=\"#ffcd49\"/>\n            <stop offset=\"1\" stopColor=\"#ffde44\"/>\n        </linearGradient>\n        <path\n            fill=\"url(#95yY7w43Oj6n2vH63j6HJc)\"\n            d=\"M16.01,30.91c-0.09,2.47,0.37,4.83,1.27,6.96l-8.21,6.05c-1.35-2.51-2.3-5.28-2.75-8.22 c-1.06-6.88,0.54-13.38, 3.95-18.6l8.03,6.08C16.93,25.47,16.1,28.11,16.01,30.91z\"\n        />\n        <linearGradient\n            id=\"95yY7w43Oj6n2vH63j6HJd\"\n            x1=\"29.76\"\n            x2=\"29.76\"\n            y1=\"32.149\"\n            y2=\"-6.939\"\n            gradientTransform=\"matrix(1 0 0 -1 0 66)\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop offset=\"0\" stopColor=\"#42d778\"/>\n            <stop offset=\".428\" stopColor=\"#3dca76\"/>\n            <stop offset=\"1\" stopColor=\"#34b171\"/>\n        </linearGradient>\n        <path\n            fill=\"url(#95yY7w43Oj6n2vH63j6HJd)\"\n            d=\"M50.45,51.28c-4.55,4.07-10.61,6.57-17.36,6.71C22.91,58.2,13.66,52.53,9.07,43.92l8.21-6.05 C19.78,43.81, 25.67,48,32.5,48c3.94,0,7.52-1.28,10.33-3.44L50.45,51.28z\"\n        />\n        <linearGradient\n            id=\"95yY7w43Oj6n2vH63j6HJe\"\n            x1=\"46\"\n            x2=\"46\"\n            y1=\"3.638\"\n            y2=\"35.593\"\n            gradientTransform=\"matrix(1 0 0 -1 0 66)\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop offset=\"0\" stopColor=\"#155cde\"/>\n            <stop offset=\".278\" stopColor=\"#1f7fe5\"/>\n            <stop offset=\".569\" stopColor=\"#279ceb\"/>\n            <stop offset=\".82\" stopColor=\"#2cafef\"/>\n            <stop offset=\"1\" stopColor=\"#2eb5f0\"/>\n        </linearGradient>\n        <path\n            fill=\"url(#95yY7w43Oj6n2vH63j6HJe)\"\n            d=\"M59,31.97c0.01,7.73-3.26,14.58-8.55,19.31l-7.62-6.72c2.1-1.61,3.77-3.71,4.84-6.15\n        c0.29-0.66-0.2-1.41-0.92-1.41H37c-2.21,0-4-1.79-4-4v-2c0-2.21,1.79-4,4-4h17C56.75,27,59,29.22,59,31.97z\"\n        />\n    </svg>\n</>;\n\nexport const appleIcon = (mode: \"light\" | \"dark\") => <svg width={32} height={32}\n                                                          viewBox=\"0 0 56 56\"\n                                                          style={{ transform: \"scale(2.8)\" }}\n                                                          version=\"1.1\"\n                                                          xmlns=\"http://www.w3.org/2000/svg\">\n    <g stroke={mode === \"light\" ? \"#424245\" : \"white\"} strokeWidth=\"0.5\"\n       fillRule=\"evenodd\">\n        <path\n            d=\"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z\"\n            fill={mode === \"light\" ? \"#424245\" : \"white\"} fillRule=\"nonzero\"/>\n    </g>\n</svg>;\n\nexport const githubIcon = (mode: \"light\" | \"dark\") => <svg\n    fill={mode === \"light\" ? \"#1c1e21\" : \"white\"}\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    width={28}\n    height={28}\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n        d=\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"/>\n</svg>;\n\n\nexport const facebookIcon = (mode: \"light\" | \"dark\") => <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={28} height={28}\n    viewBox=\"0 0 90 90\">\n    <g>\n        <path\n            d=\"M90,15.001C90,7.119,82.884,0,75,0H15C7.116,0,0,7.119,0,15.001v59.998   C0,82.881,7.116,90,15.001,90H45V56H34V41h11v-5.844C45,25.077,52.568,16,61.875,16H74v15H61.875C60.548,31,59,32.611,59,35.024V41   h15v15H59v34h16c7.884,0,15-7.119,15-15.001V15.001z\"\n            fill={mode === \"light\" ? \"#39569c\" : \"white\"}/>\n    </g>\n</svg>;\n\nexport const microsoftIcon = (mode: \"light\" | \"dark\") => <svg\n    xmlns=\"http://www.w3.org/2000/svg\" width={28} height={28}\n    viewBox=\"0 0 480 480\">\n    <g>\n        <path\n            d=\"M0.176,224L0.001,67.963l192-26.072V224H0.176z M224.001,37.241L479.937,0v224H224.001V37.241z M479.999,256l-0.062,224   l-255.936-36.008V256H479.999z M192.001,439.918L0.157,413.621L0.147,256h191.854V439.918z\"\n            fill={mode === \"light\" ? \"#00a2ed\" : \"white\"}/>\n    </g>\n</svg>;\n\nexport const twitterIcon = (mode: \"light\" | \"dark\") => <svg\n    xmlns=\"http://www.w3.org/2000/svg\" width={28} height={28}\n    viewBox=\"0 0 24 24\">\n    <path fill={mode === \"light\" ? \"#00acee\" : \"white\"}\n          d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/>\n</svg>;\n\n","import React, { ReactNode, useEffect, useRef, useState } from \"react\";\n\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Fade,\n    Grid,\n    IconButton,\n    Slide,\n    TextField,\n    Theme,\n    Typography\n} from \"@mui/material\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { FirebaseApp } from \"firebase/app\";\nimport { FireCMSLogo } from \"../../core/components/FireCMSLogo\";\nimport { useAuthController, useModeState } from \"../../hooks\";\nimport {\n    FirebaseAuthDelegate,\n    FirebaseSignInOption,\n    FirebaseSignInProvider\n} from \"../models/auth\";\nimport {\n    appleIcon,\n    facebookIcon,\n    githubIcon,\n    googleIcon,\n    microsoftIcon,\n    twitterIcon\n} from \"./social_icons\";\nimport { ErrorView } from \"../../core\";\nimport EmailIcon from \"@mui/icons-material/Email\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport PersonOutlineIcon from \"@mui/icons-material/PersonOutline\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        logo: {\n            padding: theme.spacing(3),\n            width: 260,\n            height: 260\n        }\n    })\n);\n\n/**\n * @category Firebase\n */\nexport interface FirebaseLoginViewProps {\n    logo?: string;\n    allowSkipLogin?: boolean;\n    signInOptions: Array<FirebaseSignInProvider | FirebaseSignInOption>;\n    firebaseApp: FirebaseApp;\n    authDelegate: FirebaseAuthDelegate;\n    /**\n     * Prevent users from creating new users in when the `signInOptions` value\n     * is `password`. This does not apply to the rest of login providers.\n     */\n    disableSignupScreen?: boolean;\n    /**\n     * Display this component when no user is found a user tries to log in\n     * when the `signInOptions` value is `password`.\n     */\n    NoUserComponent?: ReactNode;\n}\n\n/**\n * Use this component to render a login view, that updates\n * the state of the {@link AuthController} based on the result\n * @constructor\n * @category Firebase\n */\nexport function FirebaseLoginView({\n                                      allowSkipLogin,\n                                      logo,\n                                      signInOptions,\n                                      firebaseApp,\n                                      authDelegate,\n                                      NoUserComponent,\n                                      disableSignupScreen = false\n                                  }: FirebaseLoginViewProps) {\n    const classes = useStyles();\n    const authController = useAuthController();\n    const modeState = useModeState();\n\n    const [passwordLoginSelected, setPasswordLoginSelected] = useState(false);\n\n    const resolvedSignInOptions: FirebaseSignInProvider[] = signInOptions.map((o) => {\n        if (typeof o === \"object\") {\n            return o.provider;\n        } else return o as FirebaseSignInProvider;\n    })\n\n    function buildErrorView() {\n        let errorView: any;\n        const ignoredCodes = [\"auth/popup-closed-by-user\", \"auth/cancelled-popup-request\"];\n        if (authDelegate.authError) {\n            if (authDelegate.authError.code === \"auth/operation-not-allowed\") {\n                errorView =\n                    <>\n                        <Box p={1}>\n                            <ErrorView\n                                error={\"You need to enable the corresponding login provider in your Firebase project\"}/>\n                        </Box>\n\n                        {firebaseApp &&\n                        <Box p={1}>\n                            <a href={`https://console.firebase.google.com/project/${firebaseApp.options.projectId}/authentication/providers`}\n                               rel=\"noopener noreferrer\"\n                               target=\"_blank\">\n                                <Button variant=\"text\"\n                                        color=\"primary\">\n                                    Open Firebase configuration\n                                </Button>\n                            </a>\n                        </Box>}\n                    </>;\n            } else if (!ignoredCodes.includes(authDelegate.authError.code)) {\n                console.error(authDelegate.authError);\n                errorView =\n                    <Box p={1}>\n                        <ErrorView error={authDelegate.authError.message}/>\n                    </Box>;\n            }\n        }\n        return errorView;\n    }\n\n    let logoComponent;\n    if (logo) {\n        logoComponent = <img className={classes.logo}\n                             src={logo}\n                             alt={\"Logo\"}/>;\n    } else {\n        logoComponent = <div className={classes.logo}>\n            <FireCMSLogo/>\n        </div>;\n    }\n\n    let notAllowedMessage: string | undefined;\n    if (authController.notAllowedError) {\n        if (typeof authController.notAllowedError === \"string\") {\n            notAllowedMessage = authController.notAllowedError;\n        } else if (authController.notAllowedError instanceof Error) {\n            notAllowedMessage = authController.notAllowedError.message;\n        } else {\n            notAllowedMessage = \"It looks like you don't have access to the CMS, based on the specified Authenticator configuration\";\n        }\n    }\n\n\n    return (\n        <Fade\n            in={true}\n            timeout={500}\n            mountOnEnter\n            unmountOnExit>\n            <Box sx={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                minHeight: \"100vh\",\n                p: 2\n            }}>\n                <Box sx={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    width: \"100%\",\n                    maxWidth: 340\n                }}>\n\n                    <Box m={1}>\n                        {logoComponent}\n                    </Box>\n\n                    {notAllowedMessage &&\n                    <Box p={2}>\n                        <ErrorView\n                            error={notAllowedMessage}/>\n                    </Box>}\n\n                    {buildErrorView()}\n\n                    {!passwordLoginSelected && <>\n\n                        {buildOauthLoginButtons(authDelegate, resolvedSignInOptions, modeState.mode)}\n\n                        {resolvedSignInOptions.includes(\"password\") &&\n                        <LoginButton\n                            text={\"Email/password\"}\n                            icon={<EmailIcon fontSize={\"large\"}/>}\n                            onClick={() => setPasswordLoginSelected(true)}/>}\n\n\n                        {resolvedSignInOptions.includes(\"anonymous\") &&\n                        <LoginButton\n                            text={\"Log in anonymously\"}\n                            icon={<PersonOutlineIcon fontSize={\"large\"}/>}\n                            onClick={authDelegate.anonymousLogin}/>}\n\n                        {allowSkipLogin &&\n                        <Box m={1}>\n                            <Button onClick={authDelegate.skipLogin}>\n                                Skip login\n                            </Button>\n                        </Box>\n                        }\n\n                    </>}\n\n                    {passwordLoginSelected && <LoginForm\n                        authDelegate={authDelegate}\n                        onClose={() => setPasswordLoginSelected(false)}\n                        mode={modeState.mode}\n                        NoUserComponent={NoUserComponent}\n                        disableSignupScreen={disableSignupScreen}\n                    />}\n\n                </Box>\n            </Box>\n        </Fade>\n    );\n}\n\nfunction LoginButton({\n                         icon,\n                         onClick,\n                         text\n                     }: { icon: React.ReactNode, onClick: () => void, text: string }) {\n    return (\n        <Box m={0.5} width={\"100%\"}>\n            <Button fullWidth\n                    variant=\"outlined\"\n                    onClick={onClick}>\n                <Box sx={{\n                    p: \"1\",\n                    display: \"flex\",\n                    width: \"240px\",\n                    height: \"32px\",\n                    alignItems: \"center\",\n                    justifyItems: \"center\"\n                }}>\n                    <Box sx={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        width: \"32px\",\n                        alignItems: \"center\",\n                        justifyItems: \"center\"\n                    }}>\n                        {icon}\n                    </Box>\n                    <Box sx={{\n                        flexGrow: 1,\n                        pl: 2,\n                        textAlign: \"center\"\n                    }}>{text}</Box>\n                </Box>\n            </Button>\n        </Box>\n    )\n}\n\nfunction LoginForm({\n                       onClose,\n                       authDelegate,\n                       mode,\n                       NoUserComponent,\n                       disableSignupScreen\n                   }: {\n    onClose: () => void,\n    authDelegate: FirebaseAuthDelegate,\n    mode: \"light\" | \"dark\",\n    NoUserComponent?: ReactNode,\n    disableSignupScreen: boolean\n}) {\n\n    const passwordRef = useRef<HTMLInputElement | null>(null);\n\n    const [email, setEmail] = useState<string>();\n    const [availableProviders, setAvailableProviders] = useState<string[] | undefined>();\n    const [password, setPassword] = useState<string>();\n\n    const shouldShowEmail = availableProviders === undefined;\n    const loginMode = availableProviders && availableProviders.includes(\"password\");\n    const otherProvidersMode = availableProviders && !availableProviders.includes(\"password\") && availableProviders.length > 0;\n    const registrationMode = availableProviders && !availableProviders.includes(\"password\");\n\n    useEffect(() => {\n        console.log(\"loginMode\", loginMode);\n        if ((loginMode || registrationMode) && passwordRef.current) {\n            passwordRef.current.focus()\n        }\n    }, [loginMode, registrationMode]);\n\n    useEffect(() => {\n        if (!document) return;\n        const escFunction = (event: any) => {\n            if (event.keyCode === 27) {\n                onClose();\n            }\n        };\n        document.addEventListener(\"keydown\", escFunction, false);\n        return () => {\n            document.removeEventListener(\"keydown\", escFunction, false);\n        };\n    }, [document]);\n\n    function handleEnterEmail() {\n        if (email) {\n            authDelegate.fetchSignInMethodsForEmail(email).then((availableProviders) => {\n                console.log(availableProviders);\n                setAvailableProviders(availableProviders)\n            });\n        }\n    }\n\n    function handleEnterPassword() {\n        if (email && password) {\n            authDelegate.emailPasswordLogin(email, password);\n        }\n    }\n\n    function handleRegistration() {\n        if (email && password) {\n            authDelegate.createUserWithEmailAndPassword(email, password);\n        }\n    }\n\n    const onBackPressed = () => {\n        if (shouldShowEmail) {\n            onClose();\n        } else {\n            setAvailableProviders(undefined);\n        }\n    }\n\n    const handleSubmit = (event: any) => {\n        event.preventDefault();\n        if (shouldShowEmail) {\n            handleEnterEmail();\n        } else if (loginMode) {\n            handleEnterPassword();\n        } else if (registrationMode) {\n            handleRegistration();\n        }\n    }\n\n    const label = registrationMode\n        ? \"No user found with that email. Pick a password to create a new account\"\n        : (loginMode ? \"Please enter your password\" : \"Please enter your email\");\n    const button = registrationMode ? \"Create account\" : (loginMode ? \"Login\" : \"Ok\");\n\n    if (otherProvidersMode) {\n        return (\n            <Grid container spacing={1}>\n                <Grid item xs={12}>\n                    <IconButton\n                        onClick={onBackPressed}>\n                        <ArrowBackIcon sx={{ width: 20, height: 20 }}/>\n                    </IconButton>\n                </Grid>\n\n                <Grid item xs={12} sx={{ p: 1 }}>\n                    <Typography align={\"center\"} variant={\"subtitle2\"}>\n                        You already have an account\n                    </Typography>\n                    <Typography align={\"center\"} variant={\"body2\"}>\n                        You can use one of these\n                        methods to login with {email}\n                    </Typography>\n                </Grid>\n\n                <Grid item xs={12}>\n                    {availableProviders && buildOauthLoginButtons(authDelegate, availableProviders, mode)}\n                </Grid>\n            </Grid>\n        );\n    }\n\n    return (\n        <Slide\n            direction=\"up\"\n            in={true}\n            mountOnEnter\n            unmountOnExit>\n            <form onSubmit={handleSubmit}>\n                <Grid container spacing={1}>\n                    <Grid item xs={12}>\n                        <IconButton\n                            onClick={onBackPressed}>\n                            <ArrowBackIcon sx={{ width: 20, height: 20 }}/>\n                        </IconButton>\n                    </Grid>\n\n                    <Grid item xs={12} sx={{\n                        p: 1,\n                        display: (registrationMode && disableSignupScreen) ? \"none\" : \"flex\"\n                    }}>\n                        <Typography align={\"center\"}\n                                    variant={\"subtitle2\"}>{label}</Typography>\n                    </Grid>\n\n                    <Grid item xs={12}\n                          sx={{ display: shouldShowEmail ? \"inherit\" : \"none\" }}>\n                        <TextField placeholder=\"Email\" fullWidth autoFocus\n                                   value={email}\n                                   disabled={authDelegate.authLoading}\n                                   type=\"email\"\n                                   onChange={(event) => setEmail(event.target.value)}/>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        {registrationMode && NoUserComponent}\n                    </Grid>\n\n                    <Grid item xs={12}\n                          sx={{ display: loginMode || (registrationMode && !disableSignupScreen) ? \"inherit\" : \"none\" }}>\n                        <TextField placeholder=\"Password\" fullWidth\n                                   value={password}\n                                   disabled={authDelegate.authLoading}\n                                   inputRef={passwordRef}\n                                   type=\"password\"\n                                   onChange={(event) => setPassword(event.target.value)}/>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Box sx={{\n                            display: (registrationMode && disableSignupScreen) ? \"none\" : \"flex\",\n                            justifyContent: \"end\",\n                            alignItems: \"center\",\n                            width: \"100%\"\n                        }}>\n\n                            {authDelegate.authLoading &&\n                            <CircularProgress sx={{ p: 1 }} size={16}\n                                              thickness={8}/>\n                            }\n\n                            <Button type=\"submit\">\n                                {button}\n                            </Button>\n                        </Box>\n                    </Grid>\n                </Grid>\n            </form>\n        </Slide>\n    );\n\n}\n\nfunction buildOauthLoginButtons(authDelegate: FirebaseAuthDelegate, providers: string[], mode: \"light\" | \"dark\") {\n    return <>\n        {providers.includes(\"google.com\") && <LoginButton\n            text={\"Sign in with Google\"}\n            icon={googleIcon(mode)}\n            onClick={authDelegate.googleLogin}/>}\n\n        {providers.includes(\"microsoft.com\") && <LoginButton\n            text={\"Sign in with Microsoft\"}\n            icon={microsoftIcon(mode)}\n            onClick={authDelegate.microsoftLogin}/>}\n\n        {providers.includes(\"apple.com\") && <LoginButton\n            text={\"Sign in with Apple\"}\n            icon={appleIcon(mode)}\n            onClick={authDelegate.appleLogin}/>}\n\n        {providers.includes(\"github.com\") && <LoginButton\n            text={\"Sign in with Github\"}\n            icon={githubIcon(mode)}\n            onClick={authDelegate.githubLogin}/>}\n\n        {providers.includes(\"facebook.com\") && <LoginButton\n            text={\"Sign in with Facebook\"}\n            icon={facebookIcon(mode)}\n            onClick={authDelegate.facebookLogin}/>}\n\n        {providers.includes(\"twitter.com\") && <LoginButton\n            text={\"Sign in with Twitter\"}\n            icon={twitterIcon(mode)}\n            onClick={authDelegate.twitterLogin}/>}\n    </>\n}\n","import React from \"react\";\n\nimport { GoogleAuthProvider } from \"firebase/auth\";\nimport { CssBaseline, ThemeProvider } from \"@mui/material\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport {\n    CircularProgressCenter,\n    createCMSDefaultTheme,\n    FireCMS,\n    NavigationRoutes,\n    Scaffold,\n    SideEntityDialogs\n} from \"../core\";\n\nimport { FirebaseCMSAppProps } from \"./FirebaseCMSAppProps\";\nimport { useFirebaseAuthDelegate } from \"./hooks/useFirebaseAuthDelegate\";\nimport { useFirestoreDataSource } from \"./hooks/useFirestoreDataSource\";\nimport { useFirebaseStorageSource } from \"./hooks/useFirebaseStorageSource\";\nimport { useInitialiseFirebase } from \"./hooks/useInitialiseFirebase\";\nimport { FirebaseLoginView } from \"./components/FirebaseLoginView\";\nimport { FirebaseAuthDelegate } from \"./models/auth\";\n\nconst DEFAULT_SIGN_IN_OPTIONS = [\n    GoogleAuthProvider.PROVIDER_ID\n];\n\n/**\n * This is the default implementation of a FireCMS app using the Firebase services\n * as a backend.\n * You can use this component as a full app, by specifying collections and\n * entity schemas.\n *\n * This component is in charge of initialising Firebase, with the given\n * configuration object.\n *\n * If you are building a larger app and need finer control, you can use\n * {@link FireCMS}, {@link Scaffold}, {@link SideEntityDialogs}\n * and {@link NavigationRoutes} instead.\n *\n * @param props\n * @constructor\n * @category Firebase\n */\nexport function FirebaseCMSApp({\n                                   name,\n                                   logo,\n                                   toolbarExtraWidget,\n                                   authentication,\n                                   schemaOverrideHandler,\n                                   navigation,\n                                   textSearchController,\n                                   allowSkipLogin,\n                                   signInOptions = DEFAULT_SIGN_IN_OPTIONS,\n                                   firebaseConfig,\n                                   onFirebaseInit,\n                                   primaryColor,\n                                   secondaryColor,\n                                   fontFamily,\n                                   dateTimeFormat,\n                                   locale,\n                                   HomePage,\n                                   basePath,\n                                   baseCollectionPath,\n                                   LoginViewProps\n                               }: FirebaseCMSAppProps) {\n\n    const {\n        firebaseApp,\n        firebaseConfigLoading,\n        configError,\n        firebaseConfigError\n    } = useInitialiseFirebase({ onFirebaseInit, firebaseConfig });\n\n    const authDelegate: FirebaseAuthDelegate = useFirebaseAuthDelegate({\n        firebaseApp,\n        signInOptions\n    });\n\n    const dataSource = useFirestoreDataSource({\n        firebaseApp: firebaseApp,\n        textSearchController\n    });\n    const storageSource = useFirebaseStorageSource({ firebaseApp: firebaseApp });\n\n    if (configError) {\n        return <div> {configError} </div>;\n    }\n\n    if (firebaseConfigError) {\n        return <div>\n            It seems like the provided Firebase config is not correct. If you\n            are using the credentials provided automatically by Firebase\n            Hosting, make sure you link your Firebase app to Firebase\n            Hosting.\n        </div>;\n    }\n\n    if (firebaseConfigLoading || !firebaseApp) {\n    return <>\n        <CssBaseline/>\n        <CircularProgressCenter/>\n    </>;\n    }\n\n    return (\n        <BrowserRouter basename={basePath}>\n            <FireCMS navigation={navigation}\n                     authDelegate={authDelegate}\n                     authentication={authentication}\n                     schemaOverrideHandler={schemaOverrideHandler}\n                     dateTimeFormat={dateTimeFormat}\n                     dataSource={dataSource}\n                     storageSource={storageSource}\n                     entityLinkBuilder={({ entity }) => `https://console.firebase.google.com/project/${firebaseApp.options.projectId}/firestore/data/${entity.path}/${entity.id}`}\n                     locale={locale}\n                     basePath={basePath}\n                     baseCollectionPath={baseCollectionPath}>\n                {({ context, mode, loading }) => {\n\n                    const theme = createCMSDefaultTheme({\n                        mode,\n                        primaryColor,\n                        secondaryColor,\n                        fontFamily\n                    });\n\n                    let component;\n                    if (loading) {\n                        component = <CircularProgressCenter/>;\n                    } else if (!context.authController.canAccessMainView) {\n                        component = (\n                            <FirebaseLoginView\n                                logo={logo}\n                                allowSkipLogin={allowSkipLogin}\n                                signInOptions={signInOptions ?? DEFAULT_SIGN_IN_OPTIONS}\n                                firebaseApp={firebaseApp}\n                                authDelegate={authDelegate}\n                                {...LoginViewProps}\n                                />\n                        );\n                    } else {\n                        component = (\n                            <Scaffold name={name}\n                                      logo={logo}\n                                      toolbarExtraWidget={toolbarExtraWidget}>\n                                <NavigationRoutes HomePage={HomePage}/>\n                                <SideEntityDialogs/>\n                            </Scaffold>\n                        );\n                    }\n\n                    return (\n                        <ThemeProvider theme={theme}>\n                            <CssBaseline/>\n                            {component}\n                        </ThemeProvider>\n                    );\n                }}\n            </FireCMS>\n        </BrowserRouter>\n    );\n}\n","import { SearchIndex } from \"algoliasearch\";\n\n/**\n * Use this controller to return a list of ids from a search index, given a\n * `path` and a `searchString`.\n * Firestore does not support text search directly so we need to rely on an external\n * index, such as Algolia.\n * Note that you will get text search requests for collections that have the\n * `textSearchEnabled` flag set to `true`.\n * @see performAlgoliaTextSearch\n * @category Firebase\n */\nexport type FirestoreTextSearchController = (props: { path: string, searchString: string }) => Promise<readonly string[]> | undefined;\n\n/**\n * Utility function to perform a text search in an algolia index,\n * returning the ids of the entities.\n * @param index\n * @param query\n * @category Firebase\n */\nexport function performAlgoliaTextSearch(index: SearchIndex, query: string): Promise<readonly string[]> {\n\n    console.log(\"Performing Algolia query\", index, query);\n    return index\n        .search(query)\n        .then(({ hits }: any) => {\n            return hits.map((hit: any) => hit.objectID as string);\n        })\n        .catch((err: any) => {\n            console.log(err);\n            return [];\n        });\n}\n"],"names":["DEFAULT_STATE","isOpen","close","open","props","SnackbarContext","React","createContext","SnackbarProvider","children","setIsOpen","useState","title","setTitle","undefined","message","setMessage","type","setType","_jsxs","_jsx","_","FireCMSContextInstance","sideEntityController","navigationContext","dataSource","storageSource","authController","snackbarController","FireCMSContextProvider","context","DEFAULT_BREADCRUMBS_CONTROLLER","breadcrumbs","set","BreadcrumbContext","BreadcrumbsProvider","setBreadcrumbs","DEFAULT_MODE_STATE","mode","setMode","toggleMode","ModeStateContext","ModeProvider","prefersDarkModeQuery","useMediaQuery","prefersDarkModeStorage","localStorage","getItem","prefersDarkMode","useEffect","setItem","removeItem","s","removeInitialSlash","removeTrailingSlash","startsWith","slice","endsWith","path","collections","subpaths","removeInitialAndTrailingSlashes","split","length","Error","getCollectionFromCollectionsInternal","collectionViews","subpathCombinations","getCollectionPathsCombinations","result","i","subpathCombination","navigationEntry","find","entry","subcollections","newPath","replace","join","entries","splice","push","includeHiddenViews","navigation","navigationEntries","map","collection","url","buildUrlCollectionPath","name","description","group","views","view","hideFromNavigation","buildCMSUrlPath","Array","isArray","filter","groups","from","Set","Object","values","e","Boolean","currentFullPath","collectionPath","restOfThePath","nextSegments","entityId","fullPath","parentCollection","customViews","schema","customView","getNavigationEntriesFromPathInternal","NEW_URL_HASH","useBuildSideEntityController","location","useLocation","navigate","useNavigate","initialised","useRef","sidePanels","setSidePanels","state","baseLocation","base_location","updatePanels","useCallback","newPanels","removeAllOverridesExcept","panels","statePanel","current","isUrlCollectionPath","pathname","newFlag","hash","entityOrCollectionPath","urlPathToDataPath","buildSidePanelsFromUrl","lastSidePanel","locationPanels","selectedSubpath","copy","width","schemaProps","permissions","schemaOrResolver","overrideSchemaRegistry","setOverride","schemaConfig","schemaResolver","callbacks","cleanPath","updatedPanel","updatedPanels","newPanel","navigationViewsForPath","lastCollectionPath","previousEntry","EntityReference","id","constructor","pathWithId","GeoPoint","latitude","longitude","pick","obj","args","reduce","res","key","item","target","source","output","assign","isObject","keys","forEach","mergeDeep","o","includes","pathSegments","getValueInPath","v","Date","toLocaleString","ignoreUnknown","propertyOrBuilder","previousValues","propertyOverride","console","debug","property","readOnly","dataType","autoValue","disabled","hidden","properties","computeProperties","propertiesOrBuilder","originalSchema","buildPropertyFrom","a","b","defaultValues","propertyDefaultValue","value","initPropertyValue","defaultValue","initWithProperties","inputValues","status","timestampNowValue","referenceConverter","geopointConverter","traverseValues","inputValue","validation","required","entity","operation","updatedValues","updatedValue","traverseValue","of","oneOf","typeField","valueField","childProperty","basePath","baseCollectionPath","navigationOrBuilder","schemaOverrideHandler","dateTimeFormat","locale","userConfigPersistence","setNavigation","navigationLoading","setNavigationLoading","navigationLoadingError","setNavigationLoadingError","schemaConfigRecord","cleanBasePath","cleanBaseCollectionPath","homeUrl","fullCollectionPath","canAccessMainView","getNavigation","navigationOrCollections","user","then","catch","getSchemaOverride","collectionOverride","getCollectionConfig","buildSchemaResolver","schemaOverride","storedProperties","getCollectionOverride","dynamicCollectionConfig","getCollectionResolver","baseCollection","getCollectionByPath","resolvedCollection","sidePanelKey","getSidePanelKey","overriddenProps","resolvedProps","shouldOverrideRegistry","entityRefs","currentKey","onCollectionModifiedForUser","partialCollection","currentStoredConfig","onCollectionModified","loading","authDelegate","authentication","setUser","authLoading","setAuthLoading","notAllowedError","setNotAllowedError","extra","setExtra","loginSkipped","authenticationEnabled","useMemo","initialLoading","signOut","checkAuthentication","delegateUser","Function","allowed","data","storageKey","stripCollectionPath","JSON","stringify","parse","saveStorageCollectionConfig","getStorageCollectionConfig","DEFAULT_COLLECTION_PATH","entityLinkBuilder","usedBasePath","usedBasedCollectionPath","dateUtilsLocale","locales","useBuildAuthController","useBuildStorageConfigurationPersistence","useBuildNavigationContext","AdapterDateFns","DateFnsUtils","useStyles","makeStyles","theme","createStyles","flexCenter","display","alignItems","smallMargin","margin","spacing","text","paddingLeft","error","tooltip","classes","body","clsx","builder","setLoading","setResult","unmounted","AsyncPreviewComponent","memo","AsyncPreviewComponentInternal","ErrorBoundary","Component","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","render","str","chr","charCodeAt","Math","abs","CHIP_COLORS","blueLighter","color","cyanLighter","tealLighter","greenLighter","yellowLighter","orangeLighter","redLighter","pinkLighter","purpleLighter","grayLighter","blueLight","cyanLight","tealLight","greenLight","yellowLight","orangeLight","redLight","pinkLight","purpleLight","grayLight","blueDark","cyanDark","tealDark","greenDark","yellowDark","orangeDark","redDark","pinkDark","purpleDark","grayDark","blueDarker","cyanDarker","tealDarker","greenDarker","yellowDarker","orangeDarker","redDarker","pinkDarker","purpleDarker","grayDarker","seed","hashString","colorKeys","index","enumValues","Map","get","labelOrConfig","getLabelOrConfigFrom","label","root","maxWidth","backgroundColor","fontWeight","typography","fontWeightRegular","enumKey","small","enumValue","toString","buildEnumLabel","colorSchemaKey","getColorSchemaKey","colorSeed","outlined","getColorSchemeForKey","getColorSchemeForSeed","size","config","previewAsTag","_Fragment","array","flexDirection","arrayWrap","flexWrap","arrayItem","stringProperty","ofProperty","fontSize","lineHeight","fontFamily","stopPropagation","borderRadius","height","TINY_THUMBNAIL","SMALL_THUMBNAIL","REGULAR_THUMBNAIL","image","maxHeight","imageWrap","position","justifyContent","imageSize","imageTiny","objectFit","copyIcon","bottom","right","palette","common","white","previewIcon","onHover","setOnHover","getThumbnailMeasure","imageStyle","navigator","clipboard","writeText","previewProperties","mapProperties","Table","borderBottom","TableCell","defaultDateFormat","useFireCMSContext","useContext","filterValues","sortBy","itemCount","searchString","entitiesDisplayedFirst","sortByProperty","currentSort","useDataSource","initialEntities","setData","dataLoading","setDataLoading","dataLoadingError","setDataLoadingError","noMoreToLoad","setNoMoreToLoad","entitiesLength","setEntitiesLength","updateData","entities","displayedFirstId","has","onEntitiesUpdate","onError","listenCollection","onUpdate","limit","startAfter","orderBy","order","fetchCollection","CACHE","useCache","setEntity","onEntityUpdate","updatedEntity","listenEntity","fetchEntity","onSaveSuccess","onSaveFailure","onPreSaveHookError","onSaveSuccessHookError","onPreSave","resolvedSchema","computeSchema","saveEntity","onDeleteSuccess","onDeleteFailure","onPreDeleteHookError","onDeleteSuccessHookError","entityDeleteProps","onPreDelete","deleteEntity","onDelete","setValue","clearedValueRef","shouldClearValueIfDisabled","clearOnDisabled","resultPromises","Promise","resolve","entityCollectionResolver","all","resolveNavigationFrom","finally","useSnackbarController","useModeState","useClipboard","options","onSuccess","disableClipboardAPI","copiedDuration","ref","isCoppied","setIsCoppied","setClipbaord","setTimeout","isSupported","handleError","handleSuccess","copyToClipboard","err","clearClipboard","action","cut","element","isInput","tagName","input","innerText","appConfig","dateFormat","formattedDate","format","arrayItemBig","link","wordBreak","fontWeightMedium","preventDefault","marginRight","mediaType","storageMeta","content","renderUrlComponent","renderSkeletonImageThumbnail","renderSkeletonText","arrayProperty","renderArrayOfMaps","renderArrayEnumTableCell","renderGenericArrayCell","renderArrayOfStrings","renderMap","renderReference","tableProperties","renderSkeletonIcon","renderUrlAudioComponent","renderUrlVideo","renderUrlFile","StorageThumbnail","StorageThumbnailInternal","areEqual","prevProps","nextProps","URL_CACHE","storage","useStorageSource","storagePathOrDownloadUrl","setUrl","storeUrl","getDownloadURL","downloadURL","childSize","ReferencePreview","ReferencePreviewComponent","onClick","reference","useNavigation","useSideEntityController","collectionResolver","useEntityFetch","listProperties","buildError","flexGrow","whiteSpace","overflow","textOverflow","clickableStyles","tabindex","lighten","background","default","darken","transition","boxShadow","cursor","padding","itemsAlign","tableNoBottomBorder","verticalAlignTop","verticalAlign","mapProperty","mapPropertyKeys","fieldProps","Preview","createElement","customProps","markdown","buildWrongValueType","multiline","getIconForProperty","valuePreview","iconCell","paddingTop","titleCell","EntityPreview","getIdIcon","columnWidth","email","getPropertyColumnWidth","includeSubcollections","initialDisplayedProperties","excludedProperties","additionalColumns","subCollections","hiddenColumnIds","propertyKey","columnIds","column","p","c","columnId","subCollectionIds","getSubcollectionColumnId","subColId","search","shape","alpha","black","marginLeft","breakpoints","up","searchIcon","pointerEvents","inputRoot","minHeight","inputInput","transitions","create","inputActive","onTextSearch","searchText","setSearchText","active","setActive","handler","clearTimeout","clearText","event","toolbar","down","paddingRight","divider","actions","selectRoot","marginTop","paddingBottom","primary","useTheme","largeLayout","filterView","filterIsSet","clearFilter","useTableStyles","tableContainer","headerTypography","textTransform","header","secondary","tableRow","tableRowClickable","cellButtonsWrap","cellButtons","minWidth","cellButtonsId","textAlign","selectContainer","verticalLine","top","opacity","isSelected","isAllSelected","selectionEnabled","toggleEntitySelection","selectAll","onCopyClicked","onEditClicked","onDeleteClicked","editEnabled","deleteEnabled","anchorEl","setAnchorEl","openMenu","currentTarget","onCheckboxChange","onCheckboxChange1","onDeleteClick","onCopyClick","useCellStyles","tableCell","border","contain","removePadding","paper","align","fullWidth","fullHeight","light","selected","saved","success","iconsTop","arrow","centered","faded","maskImage","scrollable","TableCellInternal","focused","disabledTooltip","allowScroll","openPopup","select","showExpandIcon","createRef","isOverflowing","setIsOverflowing","getRowHeight","internalSaved","setInternalSaved","iconRef","focus","preventScroll","removeSavedState","doOpenPopup","cellRect","getBoundingClientRect","detail","onSelect","onFocus","onMeasure","contentRect","bounds","newOverflowingValue","cellClasses","measuredDiv","measureRef","isEqual","yup","addMethod","mapper","test","customFieldValidator","objectSchema","mapPropertyToYup","object","propertyContext","log","getYupStringSchema","getYupNumberSchema","getYupBooleanSchema","getYupMapObjectSchema","getYupArraySchema","getYupDateSchema","getYupGeoPointSchema","getYupReferenceSchema","parentProperty","childName","string","requiredMessage","enumToObjectEntries","nullable","notRequired","unique","min","max","matches","matchesMessage","trim","lowercase","uppercase","number","typeError","lessThan","moreThan","positive","negative","integer","date","boolean","uniqueInArray","arrayUniqueFields","hasUniqueInArrayModifier","useInputStyles","resize","outline","updateValue","internalValue","setInternalValue","focusedState","doUpdate","emptyInitialValue","selectionStart","selectionEnd","evt","newValue","multiple","setPreventOutsideClick","valueType","setOpen","handleOpen","handleClose","validValue","Select","style","parseFloat","chip","isEnumValueDisabled","numberInput","onBlur","propStringValue","numberValue","isNaN","regexp","checked","dateValue","params","MuiTextField","InputProps","disableUnderline","usedProperty","multiselect","onSingleValueSet","getReferenceFrom","onMultipleEntitiesSelected","selectedIds","valueNotSet","getPreviewSizeFrom","m","buildSingleReferenceField","buildMultipleReferenceField","dropZone","hasValue","activeDrop","borderColor","acceptDrop","rejectDrop","arrayEntry","arrayEntryHovered","boxSizing","thumbnailCloseIcon","zIndex","entityValues","previewSize","multipleFilesSupported","fileNameBuilder","file","fileName","storagePathBuilder","storagePath","warn","StorageUpload","onChange","previewSizeInput","autoFocus","metadata","internalInitialValue","getRandomId","initialValue","floor","random","Number","MAX_SAFE_INTEGER","items","indexOf","onExternalDrop","acceptedFiles","newInternalValue","removeDuplicates","onFileUploadComplete","uploadedPath","uploadPathOrDownloadUrl","postProcess","fieldValue","onClear","clearedStoragePathOrDownloadUrl","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useDropzone","accept","noClick","noKeyboard","onDrop","rootProps","helpText","renderProperty","child","StorageItemPreview","StorageUploadProgress","fill","snackbarContext","setError","mounted","upload","uploadFile","PropertyTableCellInternal","setFocused","onValueChange","useClearRestoreValue","setSaved","customField","Field","customPreview","isReadOnly","disabledMessage","validate","innerComponent","isAStorageProperty","numberProperty","PropertyTableCell","containerRef","x","y","onMove","relX","relY","onMouseDown","button","screenX","screenY","document","addEventListener","onMouseMove","onMouseUp","removeEventListener","update","left","setSize","useLayoutEffect","window","innerWidth","innerHeight","updateSize","buildEntry","onInternalIdAdded","includeAddButton","internalIdsMap","getHashValue","internalIdsRef","internalIds","setInternalIds","newInternalIds","hashValue","newInternalId","arrayHelpers","insertInEnd","newIds","remove","onDragEnd","destination","sourceIndex","destinationIndex","temp","move","droppableProvided","droppableSnapshot","droppableProps","innerRef","internalId","provided","snapshot","draggableProps","marginBottom","dragHandleProps","placeholder","longDescription","formStyles","inputLabel","shrinkInputLabel","showError","touched","includeDescription","shouldAlwaysRerender","shrink","MuiSelect","eventValue","borderTopLeftRadius","borderTopRightRadius","main","grey","nonActiveDrop","uploadItem","uploadItemSmall","tableMode","isSubmitting","isDraggingOver","noDragEventsBubbling","setInitialValue","moveItem","fromIndex","toIndex","allowInfinity","isMultiline","valueIsInfinity","Infinity","inputType","numValue","filledInput","rows","formControl","transform","SwitchFieldComponent","forwardRef","setFocus","SwitchField","sx","elevation","handleEntityClick","handleClickOpen","clearValue","seeEntityDetails","onClose","missingEntity","allProperties","buildEntityView","underlyingValueHasChanged","lastAddedId","setLastAddedId","buildPropertyField","partOfArray","typeInternal","setTypeInternal","typeFieldName","valueFieldName","field","form","setFieldTouched","setFieldValue","onEntryClick","entryValue","component","ReadOnlyField","ArrayEnumSelect","StorageUploadField","ArrayOfReferencesField","ArrayDefaultField","ArrayOneOfField","MapField","ReferenceField","DateTimeField","TextField","MarkdownField","componentProps","FieldComponent","FastField","customFieldProps","meta","getIn","errors","submitCount","cmsFieldProps","pickOnlySomeKeys","handleAddProperty","isHidden","entryKey","buildPickKeysSelect","ErrorFocus","isValidating","useFormikContext","errorElement","querySelector","scrollableParent","getScrollableParent","scrollTo","scrollTop","behavior","isScrollable","ele","hasScrollableContent","scrollHeight","clientHeight","overflowYStyle","getComputedStyle","overflowY","isOverflowHidden","parentNode","largePadding","buttons","oneOfInput","customId","idSetAutomatically","hasEnumValues","inputProps","className","endAdornment","variant","stickyButtons","backdropFilter","borderTop","container","EntityForm","onEntitySave","onDiscard","onModified","onValuesChanged","initialResolvedSchema","baseDataSourceValues","formRef","setCustomId","customIdError","setCustomIdError","savingError","setSavingError","initialValuesRef","initialValues","mustSetCustomId","underlyingChanges","latestValue","saveValues","formikActions","setSubmitting","savedEntityId","setTouched","uniqueFieldValidator","checkUniqueField","validationSchema","getYupEntitySchema","handleSubmit","dirty","modified","formValue","formFields","cmsFormFieldProps","buildButtons","ElementResizeListener","onResize","rafRef","objectRef","onResizeRef","_onResize","cancelAnimationFrame","requestAnimationFrame","onLoad","contentDocument","defaultView","alignSelf","popup","userSelect","popupInner","visibility","tableKey","columnIndex","onCellValueChange","popupLocation","setPopupLocation","windowSize","useWindowSize","initialPositionSet","draggableBoundingRect","useDraggable","getInitialLocation","normalizePosition","updatePopupLocation","newPosition","adaptResize","saveValue","handleChange","draggable","inlineEditing","displayedProperties","selectedCell","setSelectedCell","popupCell","setPopupCell","preventOutsideClick","additionalColumnsMap","aC","escFunction","keyCode","unselect","cell","onPopupClose","buildFilterEnumValues","buildFilterableFromProperty","auth","useAuthController","isGlobalAdmin","admin","newProps","k","onlyForGlobalAdmin","propertyCellRenderer","rowData","rowIndex","dataKey","inlineEditingEnabled","checkInlineEditing","isFocused","additionalCellRenderer","additionalColumn","dependencies","allColumns","getCellAlignment","icon","hoverOrOpen","sortable","cellRenderer","hideInTable","columns","popupFormField","DEFAULT_PAGE_SIZE","CollectionTable","CollectionTableInternal","toolbarActionsBuilder","tableRowActionsBuilder","onEntityClick","onColumnResize","onSizeChanged","hoverRow","initialFilter","initialSort","filterCombinations","textSearchEnabled","paginationEnabled","pagination","pageSize","setItemCount","setFilterValues","setSortBy","subcollectionColumns","subcollection","buttonContent","useColumnIds","onCellChanged","saveProps","saveEntityWithCallbacks","useBuildColumnsFromSchema","setSearchString","useCollectionFetch","page","setPage","dataToShow","resetPagination","buildIdColumn","onRowClick","handelPrev","nextPage","handelNext","newSearchString","onSort","isFilterCombinationValid","indexes","sortKey","sortDirection","filterKeys","filtersCount","compositeIndex","every","dialogBody","onSingleEntitySelected","selectedEntityIds","selectedEntities","setSelectedEntities","entityOrEntitiesToDelete","onEntityDelete","onMultipleEntitiesDelete","other","entityOrEntities","setUsedEntityOrEntities","multipleEntities","setMultipleEntities","revisedEntityOrEntities","handleCancel","performDelete","deleteEntityWithCallbacks","handleOk","results","some","dialogTitle","additionalData","exportConfig","headers","getExportHeaders","exportableData","getExportableData","headersData","entryToCSVRow","h","csvData","downloadBlob","mergedData","processCSVValues","additional","childKey","getHeaders","flat","prefix","processCSVValue","getTime","String","replaceAll","filename","contentType","blob","Blob","URL","createObjectURL","pom","href","setAttribute","click","INITIAL_DOCUMENTS_LIMIT","dataRef","additionalDataRef","hasLargeAmountOfData","setHasLargeAmountOfData","fetchLargeDataAccepted","setFetchLargeDataAccepted","doDownload","downloadCSV","updateEntities","pendingDownload","additionalColumnsData","fetchAdditionalColumns","resolvedColumnsValues","onFetchError","needsToAcceptFetchAllData","onOkClicked","DEFAULT_PERMISSIONS","edit","delete","permission","checkHasPermissionOnEntity","collectionData","d","new1","isEntitySelected","isAllEntitiesSelected","EntityCollectionView","deleteEntityClicked","setDeleteEntityClicked","exportable","selectionController","useSelectionController","usedSelectionController","onNewClick","internalOnEntityDelete","_path","internalOnMultipleEntitiesDelete","canEdit","updatedFields","defaultSize","direction","vertical","horizontal","createEnabled","canCreate","canDelete","clickedEntity","addButton","multipleDeleteEnabled","extraActions","exportButton","disableCreate","card","computeTopNavigation","allGroups","ReactLink","toUpperCase","buildNavigationCard","baseTableCss","operationLabels","in","multipleSelectOperations","possibleOperations","fieldOperation","setOperation","op","val","prevOpIsArray","newOpIsArray","hasNewValue","updateFilter","parseInt","Tooltip","valueSetToTrue","valueSet","headerInternal","headerTitle","flexShrink","headerTitleInternal","headerIcon","headerIconButton","TableHeader","TableHeaderInternal","sort","onColumnSort","onFilterUpdate","handleSettingsClick","filterForProperty","hideFilter","filterInternal","setFilterInternal","submit","reset","filterConfig","filterValue","setFilterValue","createFilterField","PIXEL_NEXT_PAGE_OFFSET","alignText","idColumnBuilder","onResetPagination","onEndReached","frozenIdColumn","checkFilterCombination","emptyMessage","onSortByUpdate","tableSize","setTableSize","tableRef","scrollRef","endReachedTimestampRef","getClass","disableCustomStyles","scrollToTop","isDesc","isAsc","newSort","newSortProperty","newSortBy","setIsSelected","checkbox","querySelectorAll","getElementsByTagName","resetSort","onScroll","scrollUpdateWasRequested","prudentTime","now","onEndReachedInternal","clickRow","headerRenderer","filterForThisProperty","onInternalFilterUpdate","newFilterValue","isNewFilterCombinationValid","onBaseTableColumnResize","hideSelectAndOpen","buildErrorView","buildEmptyView","currentColumn","archived","textColor","useBreadcrumbsContext","HomePage","customRoutes","buildCMSViewRoute","cmsView","collectionRoutes","urlPath","homeRoute","notFoundRoute","breadcrumbsContext","logo","closeDrawer","ungroupedNavigationViews","createNavigationListItem","NavLink","isActive","py","logoComponent","appbar","menuButton","breadcrumb","shadows","handleDrawerToggle","toolbarExtraWidget","initial","displayName","photoURL","drawerPaper","Drawer","drawerOpen","setDrawerOpen","UsedDrawer","FireCMSDrawer","MuiDrawer","keepMounted","getFullYear","node","rect","containerWindow","ownerWindow","fakeTransform","computedStyle","getPropertyValue","offsetX","transformValues","getTranslateValue","webkitTransform","SlideFade","inProp","timeout","onExitAnimation","childrenRef","handleRefIntermediary","useForkRef","handleRef","normalizedTransitionCallback","callback","isAppearing","handleEnter","setTranslateValue","reflow","handleEntering","transitionProps","getTransitionProps","webkitTransition","easing","easeOut","handleExit","sharp","handleExited","updatePosition","handleResize","debounce","clear","childProps","cloneElement","duration","WebkitOverflowScrolling","paperAnchorRight","offsetPosition","modal","defaultTransitionDuration","enter","exit","SideDialogDrawer","drawer","slidingDrawer","transitionDuration","Backdrop","CONTAINER_WIDTH","CONTAINER_FULL_WIDTH","TAB_WIDTH","lazy","useStylesSide","containerWidth","containerWide","subcollectionPanel","borderLeft","tabsContainer","tabBar","tab","onModifiedValues","resolvedWidth","setStatus","currentEntityId","setCurrentEntityId","setReadOnly","tabsPosition","setTabsPosition","modifiedValues","setModifiedValues","returnValue","beforeunload","customViewsCount","findIndex","customViewsView","colIndex","subCollectionsViews","absolutePath","getSelectedSubpath","onSideTabClick","ev","when","nextLocation","setNextLocation","UNSAFE_NavigationContext","blocker","retry","unblock","block","tx","autoUnblockingTx","navigationWasBlocked","schemaName","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","allPanels","panel","drawerCloseRequested","setDrawerCloseRequested","handleNavigationOk","handleNavigationCancel","useNavigationUnsavedChangesDialog","handleDrawerCloseOk","handleDrawerCloseCancel","createCMSDefaultTheme","primaryColor","secondaryColor","original","createTheme","pink","red","A400","h6","components","MuiButton","styleOverrides","MuiTableRow","MuiTypography","MuiInputBase","collectionView","enumValueConfig","additionalColumnDelegate","useFirebaseAuthDelegate","firebaseApp","signInOptions","loggedUser","setLoggedUser","authProviderError","setAuthProviderError","setInitialLoading","setLoginSkipped","getAuth","currentUser","onAuthStateChanged","updateFirebaseUser","firebaseUser","getProviderOptions","providerId","option","provider","googleLogin","GoogleAuthProvider","scopes","scope","addScope","customParameters","setCustomParameters","signInWithPopup","anonymousLogin","signInAnonymously","appleLogin","OAuthProvider","doOauthLogin","facebookLogin","FacebookAuthProvider","githubLogin","GithubAuthProvider","microsoftLogin","twitterLogin","TwitterAuthProvider","emailPasswordLogin","password","signInWithEmailAndPassword","registerWithPasswordEmail","createUserWithEmailAndPassword","getSignInMethodsForEmail","fetchSignInMethodsForEmail","authError","onSignOut","skipLogin","textSearchController","firestoreRef","firestore","getFirestore","createEntityFromSchema","doc","firestoreToCMSModel","sanitizeData","getCMSPathFromFirestorePath","collectionReference","queryParams","filterParameter","whereClause","cmsToFirestoreModel","orderByClause","startAfterClause","limitClause","query","getAndBuildEntity","getDoc","docSnapshot","ids","promises","performTextSearch","buildQuery","getDocs","docs","onSnapshot","next","updatedFirestoreValues","updateAutoValues","serverTimestamp","FirestoreGeoPoint","documentReference","setDoc","merge","deleteDoc","q","snapshots","traverse","Timestamp","toDate","DocumentReference","fsPath","to","lastIndexOf","substring","setStorage","getStorage","urlsCache","usedFilename","uploadBytes","firebaseConfig","onFirebaseInit","setFirebaseApp","firebaseConfigLoading","setFirebaseConfigLoading","configError","setConfigError","firebaseConfigError","setFirebaseConfigError","initFirebase","initialisedFirebaseApp","initializeApp","process","fetch","response","json","googleIcon","appleIcon","githubIcon","facebookIcon","microsoftIcon","twitterIcon","allowSkipLogin","NoUserComponent","disableSignupScreen","modeState","passwordLoginSelected","setPasswordLoginSelected","resolvedSignInOptions","errorView","ignoredCodes","code","projectId","notAllowedMessage","buildOauthLoginButtons","justifyItems","pl","passwordRef","setEmail","availableProviders","setAvailableProviders","setPassword","shouldShowEmail","loginMode","otherProvidersMode","registrationMode","onBackPressed","handleEnterEmail","handleEnterPassword","handleRegistration","providers","DEFAULT_SIGN_IN_OPTIONS","PROVIDER_ID","LoginViewProps","useInitialiseFirebase","useFirestoreDataSource","useFirebaseStorageSource","hits","hit","objectID"],"mappings":"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"}